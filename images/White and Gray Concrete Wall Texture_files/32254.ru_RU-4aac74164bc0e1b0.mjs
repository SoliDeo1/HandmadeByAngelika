(self.modernJsonp=self.modernJsonp||[]).push([[32254,23434],{703655:(e,t,o)=>{var s=o(332792);function i(e){this.mode=s.MODE_8BIT_BYTE,this.data=e}i.prototype={getLength:function(e){return this.data.length},write:function(e){for(var t=0;t<this.data.length;t++)e.put(this.data.charCodeAt(t),8)}},e.exports=i},827321:e=>{function t(){this.buffer=[],this.length=0}t.prototype={get:function(e){var t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)==1},put:function(e,t){for(var o=0;o<t;o++)this.putBit((e>>>t-o-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},e.exports=t},249381:e=>{e.exports={L:1,M:0,Q:3,H:2}},632832:(e,t,o)=>{var s=o(611518);function i(e,t){if(void 0==e.length)throw Error(e.length+"/"+t);for(var o=0;o<e.length&&0==e[o];)o++;this.num=Array(e.length-o+t);for(var s=0;s<e.length-o;s++)this.num[s]=e[s+o]}i.prototype={get:function(e){return this.num[e]},getLength:function(){return this.num.length},multiply:function(e){for(var t=Array(this.getLength()+e.getLength()-1),o=0;o<this.getLength();o++)for(var a=0;a<e.getLength();a++)t[o+a]^=s.gexp(s.glog(this.get(o))+s.glog(e.get(a)));return new i(t,0)},mod:function(e){if(this.getLength()-e.getLength()<0)return this;for(var t=s.glog(this.get(0))-s.glog(e.get(0)),o=Array(this.getLength()),a=0;a<this.getLength();a++)o[a]=this.get(a);for(var a=0;a<e.getLength();a++)o[a]^=s.gexp(s.glog(e.get(a))+t);return new i(o,0).mod(e)}},e.exports=i},114450:(e,t,o)=>{var s=o(703655),i=o(917611),a=o(827321),n=o(493160),l=o(632832);function r(e,t){this.typeNumber=e,this.errorCorrectLevel=t,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var c=r.prototype;c.addData=function(e){var t=new s(e);this.dataList.push(t),this.dataCache=null},c.isDark=function(e,t){if(e<0||this.moduleCount<=e||t<0||this.moduleCount<=t)throw Error(e+","+t);return this.modules[e][t]},c.getModuleCount=function(){return this.moduleCount},c.make=function(){if(this.typeNumber<1){var e=1;for(e=1;e<40;e++){for(var t=i.getRSBlocks(e,this.errorCorrectLevel),o=new a,s=0,l=0;l<t.length;l++)s+=t[l].dataCount;for(var l=0;l<this.dataList.length;l++){var r=this.dataList[l];o.put(r.mode,4),o.put(r.getLength(),n.getLengthInBits(r.mode,e)),r.write(o)}if(o.getLengthInBits()<=8*s)break}this.typeNumber=e}this.makeImpl(!1,this.getBestMaskPattern())},c.makeImpl=function(e,t){this.moduleCount=4*this.typeNumber+17,this.modules=Array(this.moduleCount);for(var o=0;o<this.moduleCount;o++){this.modules[o]=Array(this.moduleCount);for(var s=0;s<this.moduleCount;s++)this.modules[o][s]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,t),this.typeNumber>=7&&this.setupTypeNumber(e),null==this.dataCache&&(this.dataCache=r.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,t)},c.setupPositionProbePattern=function(e,t){for(var o=-1;o<=7;o++)if(!(e+o<=-1)&&!(this.moduleCount<=e+o))for(var s=-1;s<=7;s++)t+s<=-1||this.moduleCount<=t+s||(0<=o&&o<=6&&(0==s||6==s)||0<=s&&s<=6&&(0==o||6==o)||2<=o&&o<=4&&2<=s&&s<=4?this.modules[e+o][t+s]=!0:this.modules[e+o][t+s]=!1)},c.getBestMaskPattern=function(){for(var e=0,t=0,o=0;o<8;o++){this.makeImpl(!0,o);var s=n.getLostPoint(this);(0==o||e>s)&&(e=s,t=o)}return t},c.createMovieClip=function(e,t,o){var s=e.createEmptyMovieClip(t,o);this.make();for(var i=0;i<this.modules.length;i++)for(var a=+i,n=0;n<this.modules[i].length;n++){var l=+n;this.modules[i][n]&&(s.beginFill(0,100),s.moveTo(l,a),s.lineTo(l+1,a),s.lineTo(l+1,a+1),s.lineTo(l,a+1),s.endFill())}return s},c.setupTimingPattern=function(){for(var e=8;e<this.moduleCount-8;e++)null==this.modules[e][6]&&(this.modules[e][6]=e%2==0);for(var t=8;t<this.moduleCount-8;t++)null==this.modules[6][t]&&(this.modules[6][t]=t%2==0)},c.setupPositionAdjustPattern=function(){for(var e=n.getPatternPosition(this.typeNumber),t=0;t<e.length;t++)for(var o=0;o<e.length;o++){var s=e[t],i=e[o];if(null==this.modules[s][i])for(var a=-2;a<=2;a++)for(var l=-2;l<=2;l++)-2==a||2==a||-2==l||2==l||0==a&&0==l?this.modules[s+a][i+l]=!0:this.modules[s+a][i+l]=!1}},c.setupTypeNumber=function(e){for(var t=n.getBCHTypeNumber(this.typeNumber),o=0;o<18;o++){var s=!e&&(t>>o&1)==1;this.modules[Math.floor(o/3)][o%3+this.moduleCount-8-3]=s}for(var o=0;o<18;o++){var s=!e&&(t>>o&1)==1;this.modules[o%3+this.moduleCount-8-3][Math.floor(o/3)]=s}},c.setupTypeInfo=function(e,t){for(var o=this.errorCorrectLevel<<3|t,s=n.getBCHTypeInfo(o),i=0;i<15;i++){var a=!e&&(s>>i&1)==1;i<6?this.modules[i][8]=a:i<8?this.modules[i+1][8]=a:this.modules[this.moduleCount-15+i][8]=a}for(var i=0;i<15;i++){var a=!e&&(s>>i&1)==1;i<8?this.modules[8][this.moduleCount-i-1]=a:i<9?this.modules[8][15-i-1+1]=a:this.modules[8][15-i-1]=a}this.modules[this.moduleCount-8][8]=!e},c.mapData=function(e,t){for(var o=-1,s=this.moduleCount-1,i=7,a=0,l=this.moduleCount-1;l>0;l-=2)for(6==l&&l--;;){for(var r=0;r<2;r++)if(null==this.modules[s][l-r]){var c=!1;a<e.length&&(c=(e[a]>>>i&1)==1),n.getMask(t,s,l-r)&&(c=!c),this.modules[s][l-r]=c,-1==--i&&(a++,i=7)}if((s+=o)<0||this.moduleCount<=s){s-=o,o=-o;break}}},r.PAD0=236,r.PAD1=17,r.createData=function(e,t,o){for(var s=i.getRSBlocks(e,t),l=new a,c=0;c<o.length;c++){var d=o[c];l.put(d.mode,4),l.put(d.getLength(),n.getLengthInBits(d.mode,e)),d.write(l)}for(var u=0,c=0;c<s.length;c++)u+=s[c].dataCount;if(l.getLengthInBits()>8*u)throw Error("code length overflow. ("+l.getLengthInBits()+">"+8*u+")");for(l.getLengthInBits()+4<=8*u&&l.put(0,4);l.getLengthInBits()%8!=0;)l.putBit(!1);for(;!(l.getLengthInBits()>=8*u)&&(l.put(r.PAD0,8),!(l.getLengthInBits()>=8*u));){;l.put(r.PAD1,8)}return r.createBytes(l,s)},r.createBytes=function(e,t){for(var o=0,s=0,i=0,a=Array(t.length),r=Array(t.length),c=0;c<t.length;c++){var d=t[c].dataCount,u=t[c].totalCount-d;s=Math.max(s,d),i=Math.max(i,u),a[c]=Array(d);for(var _=0;_<a[c].length;_++)a[c][_]=255&e.buffer[_+o];o+=d;var h=n.getErrorCorrectPolynomial(u),g=new l(a[c],h.getLength()-1).mod(h);r[c]=Array(h.getLength()-1);for(var _=0;_<r[c].length;_++){var p=_+g.getLength()-r[c].length;r[c][_]=p>=0?g.get(p):0}}for(var m=0,_=0;_<t.length;_++)m+=t[_].totalCount;for(var x=Array(m),f=0,_=0;_<s;_++)for(var c=0;c<t.length;c++)_<a[c].length&&(x[f++]=a[c][_]);for(var _=0;_<i;_++)for(var c=0;c<t.length;c++)_<r[c].length&&(x[f++]=r[c][_]);return x},e.exports=r},917611:(e,t,o)=>{var s=o(249381);function i(e,t){this.totalCount=e,this.dataCount=t}i.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],i.getRSBlocks=function(e,t){var o=i.getRsBlockTable(e,t);if(void 0==o)throw Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+t);for(var s=o.length/3,a=[],n=0;n<s;n++)for(var l=o[3*n+0],r=o[3*n+1],c=o[3*n+2],d=0;d<l;d++)a.push(new i(r,c));return a},i.getRsBlockTable=function(e,t){switch(t){case s.L:return i.RS_BLOCK_TABLE[(e-1)*4+0];case s.M:return i.RS_BLOCK_TABLE[(e-1)*4+1];case s.Q:return i.RS_BLOCK_TABLE[(e-1)*4+2];case s.H:return i.RS_BLOCK_TABLE[(e-1)*4+3];default:return}},e.exports=i},611518:e=>{for(var t={glog:function(e){if(e<1)throw Error("glog("+e+")");return t.LOG_TABLE[e]},gexp:function(e){for(;e<0;)e+=255;for(;e>=256;)e-=255;return t.EXP_TABLE[e]},EXP_TABLE:Array(256),LOG_TABLE:Array(256)},o=0;o<8;o++)t.EXP_TABLE[o]=1<<o;for(var o=8;o<256;o++)t.EXP_TABLE[o]=t.EXP_TABLE[o-4]^t.EXP_TABLE[o-5]^t.EXP_TABLE[o-6]^t.EXP_TABLE[o-8];for(var o=0;o<255;o++)t.LOG_TABLE[t.EXP_TABLE[o]]=o;e.exports=t},332792:e=>{e.exports={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8}},493160:(e,t,o)=>{var s=o(332792),i=o(632832),a=o(611518),n={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},l={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(e){for(var t=e<<10;l.getBCHDigit(t)-l.getBCHDigit(l.G15)>=0;)t^=l.G15<<l.getBCHDigit(t)-l.getBCHDigit(l.G15);return(e<<10|t)^l.G15_MASK},getBCHTypeNumber:function(e){for(var t=e<<12;l.getBCHDigit(t)-l.getBCHDigit(l.G18)>=0;)t^=l.G18<<l.getBCHDigit(t)-l.getBCHDigit(l.G18);return e<<12|t},getBCHDigit:function(e){for(var t=0;0!=e;)t++,e>>>=1;return t},getPatternPosition:function(e){return l.PATTERN_POSITION_TABLE[e-1]},getMask:function(e,t,o){switch(e){case n.PATTERN000:return(t+o)%2==0;case n.PATTERN001:return t%2==0;case n.PATTERN010:return o%3==0;case n.PATTERN011:return(t+o)%3==0;case n.PATTERN100:return(Math.floor(t/2)+Math.floor(o/3))%2==0;case n.PATTERN101:return t*o%2+t*o%3==0;case n.PATTERN110:return(t*o%2+t*o%3)%2==0;case n.PATTERN111:return(t*o%3+(t+o)%2)%2==0;default:throw Error("bad maskPattern:"+e)}},getErrorCorrectPolynomial:function(e){for(var t=new i([1],0),o=0;o<e;o++)t=t.multiply(new i([1,a.gexp(o)],0));return t},getLengthInBits:function(e,t){if(1<=t&&t<10)switch(e){case s.MODE_NUMBER:return 10;case s.MODE_ALPHA_NUM:return 9;case s.MODE_8BIT_BYTE:case s.MODE_KANJI:return 8;default:throw Error("mode:"+e)}if(t<27)switch(e){case s.MODE_NUMBER:return 12;case s.MODE_ALPHA_NUM:return 11;case s.MODE_8BIT_BYTE:return 16;case s.MODE_KANJI:return 10;default:throw Error("mode:"+e)}if(t<41)switch(e){case s.MODE_NUMBER:return 14;case s.MODE_ALPHA_NUM:return 13;case s.MODE_8BIT_BYTE:return 16;case s.MODE_KANJI:return 12;default:throw Error("mode:"+e)}throw Error("type:"+t)},getLostPoint:function(e){for(var t=e.getModuleCount(),o=0,s=0;s<t;s++)for(var i=0;i<t;i++){for(var a=0,n=e.isDark(s,i),l=-1;l<=1;l++)if(!(s+l<0)&&!(t<=s+l))for(var r=-1;r<=1;r++)!(i+r<0)&&!(t<=i+r)&&(0!=l||0!=r)&&n==e.isDark(s+l,i+r)&&a++;a>5&&(o+=3+a-5)}for(var s=0;s<t-1;s++)for(var i=0;i<t-1;i++){var c=0;e.isDark(s,i)&&c++,e.isDark(s+1,i)&&c++,e.isDark(s,i+1)&&c++,e.isDark(s+1,i+1)&&c++,(0==c||4==c)&&(o+=3)}for(var s=0;s<t;s++)for(var i=0;i<t-6;i++)e.isDark(s,i)&&!e.isDark(s,i+1)&&e.isDark(s,i+2)&&e.isDark(s,i+3)&&e.isDark(s,i+4)&&!e.isDark(s,i+5)&&e.isDark(s,i+6)&&(o+=40);for(var i=0;i<t;i++)for(var s=0;s<t-6;s++)e.isDark(s,i)&&!e.isDark(s+1,i)&&e.isDark(s+2,i)&&e.isDark(s+3,i)&&e.isDark(s+4,i)&&!e.isDark(s+5,i)&&e.isDark(s+6,i)&&(o+=40);for(var d=0,i=0;i<t;i++)for(var s=0;s<t;s++)e.isDark(s,i)&&d++;return o+10*(Math.abs(100*d/t/t-50)/5)}};e.exports=l},888632:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(e[s]=o[s])}return e},i=l(o(486358)),a=o(667294),n=l(a);function l(e){return e&&e.__esModule?e:{default:e}}var r={bgColor:i.default.oneOfType([i.default.object,i.default.string]).isRequired,bgD:i.default.string.isRequired,fgColor:i.default.oneOfType([i.default.object,i.default.string]).isRequired,fgD:i.default.string.isRequired,size:i.default.number.isRequired,title:i.default.string,viewBoxSize:i.default.number.isRequired,xmlns:i.default.string},c=(0,a.forwardRef)(function(e,t){var o=e.bgColor,i=e.bgD,a=e.fgD,l=e.fgColor,r=e.size,c=e.title,d=e.viewBoxSize,u=e.xmlns,_=function(e,t){var o={};for(var s in e)!(t.indexOf(s)>=0)&&Object.prototype.hasOwnProperty.call(e,s)&&(o[s]=e[s]);return o}(e,["bgColor","bgD","fgD","fgColor","size","title","viewBoxSize","xmlns"]);return n.default.createElement("svg",s({},_,{height:r,ref:t,viewBox:"0 0 "+d+" "+d,width:r,xmlns:void 0===u?"http://www.w3.org/2000/svg":u}),c?n.default.createElement("title",null,c):null,n.default.createElement("path",{d:i,fill:o}),n.default.createElement("path",{d:a,fill:l}))});c.displayName="QRCodeSvg",c.propTypes=r,t.default=c},101653:(e,t,o)=>{"use strict";var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(e[s]=o[s])}return e},i=d(o(486358)),a=d(o(249381)),n=d(o(114450)),l=o(667294),r=d(l),c=d(o(888632));function d(e){return e&&e.__esModule?e:{default:e}}var u={bgColor:i.default.oneOfType([i.default.object,i.default.string]),fgColor:i.default.oneOfType([i.default.object,i.default.string]),level:i.default.string,size:i.default.number,value:i.default.string.isRequired},_=(0,l.forwardRef)(function(e,t){var o=e.bgColor,i=e.fgColor,l=e.level,d=e.size,u=e.value,_=function(e,t){var o={};for(var s in e)!(t.indexOf(s)>=0)&&Object.prototype.hasOwnProperty.call(e,s)&&(o[s]=e[s]);return o}(e,["bgColor","fgColor","level","size","value"]),h=new n.default(-1,a.default[void 0===l?"L":l]);h.addData(u),h.make();var g=h.modules;return r.default.createElement(c.default,s({},_,{bgColor:void 0===o?"#FFFFFF":o,bgD:g.map(function(e,t){return e.map(function(e,o){return e?"":"M "+o+" "+t+" l 1 0 0 1 -1 0 Z"}).join(" ")}).join(" "),fgColor:void 0===i?"#000000":i,fgD:g.map(function(e,t){return e.map(function(e,o){return e?"M "+o+" "+t+" l 1 0 0 1 -1 0 Z":""}).join(" ")}).join(" "),ref:t,size:void 0===d?256:d,viewBoxSize:g.length}))});_.displayName="QRCode",_.propTypes=u,t.ZP=_},535307:(e,t,o)=>{"use strict";var s=o(586150);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,o,i,a,n){if(n!==s){var l=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}function t(){return e}e.isRequired=e;var o={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return o.PropTypes=o,o}},486358:(e,t,o)=>{e.exports=o(535307)()},586150:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},227522:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>i});let s={fragment:{argumentDefinitions:a=[{defaultValue:null,kind:"LocalArgument",name:"pinId"}],kind:"Fragment",metadata:null,name:"FullPageSignupIconPinQuery",selections:[{alias:null,args:n=[{kind:"Variable",name:"pin",variableName:"pinId"}],concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[l={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[r={alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},c={alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},d={alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"236x")'}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"FullPageSignupIconPinQuery",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[l,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[r,c,d,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}]},params:{id:"fa2a747f003a0b99e4125f5e9b4cdf0458131d673b4d0101e7549de623e26ec8",metadata:{},name:"FullPageSignupIconPinQuery",operationKind:"query",text:null}};s.hash="672f6a12645b2a47bca8385aab15e1dd";let i=s;var a,n,l,r,c,d,u=s.default||s;if("query"===u.params.operationKind)if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(u);else{let e=[u.params.name,u.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[e]=u}},20791:(e,t,o)=>{"use strict";o.d(t,{Z:()=>n});var s=o(830811),i=o(233846),a=o(785893);function n({fillColor:e,size:t,noCircle:o}){let n=(0,i.ZP)();return(0,a.jsxs)("svg",{"aria-labelledby":"fullpage-modal-pinterest-logo",height:t,role:"img",style:{display:"block"},viewBox:o?"3 3 70 70":"-3 -3 82 82",width:t,children:[(0,a.jsx)("title",{id:"fullpage-modal-pinterest-logo",children:n.bt("Логотип Pinterest", "Pinterest logo", "Accessibility label for Pinterest icon", undefined, true)}),o?null:(0,a.jsx)("circle",{cx:"38",cy:"38",fill:e?"transparent":"white",r:"40"}),(0,a.jsx)("path",{d:"M27.5 71c3.3 1 6.7 1.6 10.3 1.6C57 72.6 72.6 57 72.6 37.8 72.6 18.6 57 3 37.8 3 18.6 3 3 18.6 3 37.8c0 14.8 9.3 27.5 22.4 32.5-.3-2.7-.6-7.2 0-10.3l4-17.2s-1-2-1-5.2c0-4.8 3-8.4 6.4-8.4 3 0 4.4 2.2 4.4 5 0 3-2 7.3-3 11.4C35.6 49 38 52 41.5 52c6.2 0 11-6.6 11-16 0-8.3-6-14-14.6-14-9.8 0-15.6 7.3-15.6 15 0 3 1 6 2.6 8 .3.2.3.5.2 1l-1 3.8c0 .6-.4.8-1 .4-4.4-2-7-8.3-7-13.4 0-11 7.8-21 22.8-21 12 0 21.3 8.6 21.3 20 0 12-7.4 21.6-18 21.6-3.4 0-6.7-1.8-7.8-4L32 61.7c-.8 3-3 7-4.5 9.4z",fill:e??s.x_d,fillRule:"evenodd"})]})}},983311:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>p});var s=o(667294),i=o(883119),a=o(233846),n=o(970601),l=o(717616),r=o(785893);let c=`
.passwordStrengthMeter__a11yMessage:not(:focus):not(:active) {
  clip-path: inset(50%);
  height: 1px;
  overflow: hidden;
  position: absolute;
  white-space: nowrap;
  width: 1px;
}
`,d=({score:e})=>{let{color:t,percentage:o}=(()=>{let t,o;switch(e){case 1:t="#FAE600",o="23%";break;case 2:case 3:t="#39D377",o="57%";break;case 4:t="#1DAD65",o="100%";break;default:t="#FDA161",o="13%"}return{color:t,percentage:o}})();return(0,r.jsx)(i.xu,{"aria-labelledby":"password-strength-message","aria-valuemax":4,"aria-valuemin":0,"aria-valuenow":e,dangerouslySetInlineStyle:{__style:{backgroundColor:"#E8E7E1"}},height:8,role:"meter",rounding:"pill",width:"100%",children:(0,r.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:t,transition:".5s"}},"data-test-id":"password-strength-progress",height:"8px",rounding:"pill",width:o})})},u=({id:e,password:t})=>{let o=(0,a.ZP)(),u=(0,l.tc)(t),_=(0,l.eD)({score:u,i18n:o}),[h,g]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{!h&&t.length>0&&g(!0)},[h,t]),(0,r.jsxs)(i.xu,{"aria-atomic":!0,children:[h&&(0,r.jsxs)(i.xu,{marginBottom:1,children:[(0,r.jsx)(i.xu,{marginBottom:3,children:(0,r.jsx)(d,{score:u})}),(0,r.jsx)(i.xv,{color:"subtle",id:"password-strength-message",size:"100",weight:"bold",children:_}),(0,r.jsxs)("span",{"aria-live":"polite",className:"passwordStrengthMeter__a11yMessage",children:[(0,r.jsx)(n.Z,{unsafeCSS:c}),(()=>{switch(u){case 1:return o.bt("Ваш пароль достаточно надежный, но его можно улучшить.", "Your password’s strength is OK, but it could be stronger.", "passwordStrengthMeter.a11y.message.score1", undefined, true);case 2:case 3:return o.bt("Ваш пароль достаточно надежный. ", "Your password strength looks pretty good. ", "passwordStrengthMeter.a11y.message.score2", undefined, true);case 4:return o.bt("Это надежный пароль. Отлично!", "This is a strong password. Perfect!", "passwordStrengthMeter.a11y.message.score4", undefined, true);default:return o.bt("Усложните пароль, чтобы продолжить.", "Make your password more complicated to continue.", "passwordStrengthMeter.a11y.message.score0", undefined, true)}})()]})]}),(0,r.jsx)(i.xv,{color:"subtle",id:`${e}-helperText`,size:"100",children:o.bt("Пароль должен содержать не менее 8 букв, цифр и специальных символов", "Use 8 or more letters, numbers and symbols", "passwordStrengthMeter.description", undefined, true)})]})};var _=o(852015),h=o(967312),g=o(538645);let p=({password:e})=>{let t=(0,a.ZP)(),o=(0,g.HG)(),n=(0,h.F)(),l=!o&&n.checkExperiment("mweb_strong_password").anyEnabled||o&&n.checkExperiment("web_strong_password").anyEnabled,[c,d]=(0,s.useState)(!1),[p,m]=(0,s.useState)(!1);return((0,s.useEffect)(()=>{!p&&e.length>0&&m(!0)},[p,e]),l)?(0,r.jsxs)(i.xu,{marginTop:p?6:2,children:[(0,r.jsx)(i.xu,{marginBottom:2,paddingX:3,children:(0,r.jsx)(u,{id:"password",password:e})}),(0,r.jsx)(i.kC,{alignItems:"start",children:(0,r.jsx)(i.ZP,{color:"transparent",dataTestId:"view-reporting-button",href:"",iconEnd:"info-circle",onClick:({dangerouslyDisableOnNavigation:e,event:t})=>{e(),t.preventDefault(),d(!0)},text:t.bt("Советы по созданию пароля", "Password tips", "PasswordStrengthWrapper.passwordTips.button", undefined, true)})}),(0,r.jsx)(_.ZP,{accessibilityModalLabel:t.bt("Окно с советами по созданию пароля", "Password tips modal", "PasswordStrengthWrapper.passwordTips.modal.accessibilityLabel", undefined, true),align:"start",isOpen:c,layerZIndex:new i.Ry(10002),onDismiss:()=>d(!1),role:"dialog",size:"md",zIndex:new i.Ry(10002),children:(0,r.jsxs)(i.xu,{marginBottom:5,marginTop:5,paddingX:4,children:[(0,r.jsx)(i.xu,{marginBottom:5,children:(0,r.jsx)(i.X6,{align:"start",size:"300",children:t.bt("Советы по созданию пароля", "Password tips", "PasswordStrengthWrapper.passwordTips.modal.headerTitle", undefined, true)})}),(0,r.jsx)(i.xu,{marginBottom:3,paddingX:1,children:(0,r.jsx)(i.xv,{size:"200",children:t.bt("Надежный пароль помогает защитить ваш аккаунт. Такой пароль должен содержать не менее 8 букв, цифр и специальных символов.", "A strong password helps keep your account safe. Use at least 8 letters, numbers and symbols.", "PasswordStrengthWrapper.passwordTips.modal.body1", undefined, true)})}),(0,r.jsx)(i.xu,{marginBottom:5,children:(0,r.jsxs)(i.aV,{label:(0,r.jsx)(i.xv,{size:"200",weight:"bold",children:t.bt("Не используйте:", "What to avoid", "PasswordStrengthWrapper.passwordTips.modal.subhead", undefined, true)}),size:"200",spacing:"condensed",type:"unordered",children:[(0,r.jsx)(i.aV.Item,{text:t.bt("распространенные пароли, слова и имена;", "Common passwords, words and names", "PasswordStrengthWrapper.passwordTips.modal.subhead.item1", undefined, true)}),(0,r.jsx)(i.aV.Item,{text:t.bt("недавние или значимые для вас даты;", "Recent dates or dates associated with you", "PasswordStrengthWrapper.passwordTips.modal.subhead.item2", undefined, true)}),(0,r.jsx)(i.aV.Item,{text:t.bt("простые сочетания и повторяющиеся слова.", "Simple patterns and repeated text", "PasswordStrengthWrapper.passwordTips.modal.subhead.item3", undefined, true)})]})}),(0,r.jsx)(i.zx,{color:"red",fullWidth:!0,onClick:()=>d(!1),size:"lg",text:t.bt("ОК", "Okay", "PasswordStrengthWrapper.passwordTips.modal.okayButton", undefined, true)})]})})]}):null}},222106:(e,t,o)=>{"use strict";o.d(t,{w:()=>E,Z:()=>z});var s=o(883119),i=o(667294),a=o(98497),n=o(233846),l=o(112800),r=o(785893);function c({onClose:e,socialButtons:t}){let o=(0,n.ZP)();(0,i.useEffect)(()=>{(0,l.My)("unauth.dweb.login_assistance_google_modal.view")},[]);let c=o.bt("Возникли сложности со входом?", "Having trouble logging in?", "dweb.accountRecovery.loginAssistance.googleModal.heading", undefined, true);return(0,r.jsx)(a.Z,{heading:c,headingNode:(0,r.jsxs)(s.xu,{marginTop:10,children:[(0,r.jsx)(s.xu,{marginEnd:2,marginTop:-14,position:"absolute",right:!0,children:(0,r.jsx)(s.hU,{accessibilityLabel:o.bt("Кнопка закрытия модального окна", "Dismiss modal button", "dismiss button accessibilityLabel", undefined, true),bgColor:"transparent",icon:"cancel",onClick:()=>{e()},size:"sm"})}),(0,r.jsx)(s.X6,{accessibilityLevel:1,align:"center",size:"600",children:c})]}),onDismiss:e,size:"sm",children:(0,r.jsx)(s.xu,{alignItems:"center","data-test-id":"touchableErrorMessage",display:"flex",justifyContent:"center",marginBottom:9,children:(0,r.jsxs)(s.kC,{alignItems:"center",direction:"column",width:429,children:[(0,r.jsx)(s.xu,{marginBottom:4,children:(0,r.jsx)(s.xv,{align:"center",children:o.bt("Похоже, ваш аккаунт связан с Google. Войдите через Google, чтобы получить доступ к аккаунту.", "Looks like your account is connected to Google. Log in with Google to get back into your account.", "dweb.accountRecovery.loginAssistance.googleModal.text", undefined, true)})}),(0,r.jsx)(s.xu,{paddingX:16,width:"100%",children:t})]})})})}var d=o(261286),u=o(397657),_=o(967312);function h({callBack:e,color:t,email:o,inline:i,overrideText:a}){let l=(0,n.ZP)(),{checkExperiment:c}=(0,_.F)(),d=a||l.bt("Сбросить пароль", "Reset password", "Request a password reset email", undefined, true);return(0,r.jsx)(s.zx,{accessibilityLabel:d,color:t||"red",fullWidth:i,onClick:()=>{(0,u.Z)({url:"/v3/users/forgot_password/",method:"POST",data:{username_or_email:o,type:c("unauth_dweb_unified_ar").anyEnabled?"unified":"reset"}}).then(()=>e())},text:d})}var g=o(51340);function p({email:e,onClose:t,onPasswordResetSent:o,socialButtons:i}){let l=(0,n.ZP)();return(0,r.jsx)(a.Z,{heading:l.bt("Похоже, вам не удается войти в систему.", "Looks like you’re having trouble logging in", "Modal heading for user who have attempted to login three times", undefined, true),onDismiss:t,size:"sm",children:(0,r.jsx)(s.xu,{alignItems:"center","data-test-id":"touchableErrorMessage",display:"flex",justifyContent:"center",marginBottom:9,children:(0,r.jsxs)(s.kC,{alignItems:"center",direction:"column",width:290,children:[(0,r.jsx)(s.xu,{marginBottom:6,children:(0,r.jsx)(s.xv,{align:"center",children:(0,g.nk)(l.bt("Мы отправили письмо на адрес {{ email }} с инструкциями для возвращения.", "We sent an email to {{ email }} to help you get back in.", " - ", undefined, true),{email:(0,r.jsx)(s.xv,{inline:!0,weight:"bold",children:e},"emailAddress")})})}),(0,r.jsx)(s.xu,{marginBottom:8,width:"100%",children:(0,r.jsx)(h,{callBack:o,color:"red",email:e,inline:!0,overrideText:l.bt("Отправить еще раз", "Resend email", "Button to allow the user to request a password reset email", undefined, true)})}),(0,r.jsx)(s.xv,{children:l.bt("Либо войдите через Facebook или Google", "Or log in with Facebook or Google", "Upsell to use Facebook or Google for login", undefined, true)}),(0,r.jsx)(s.xu,{marginBottom:12,marginTop:4,width:"100%",children:i}),(0,r.jsx)(s.xu,{marginBottom:12,width:"100%",children:(0,r.jsx)(d.Z,{onClick:t})})]})})})}var m=o(150912);function x({email:e,loginWith:t,onClose:o,onPasswordResetSent:i}){let l=(0,n.ZP)();return(0,r.jsx)(a.Z,{heading:l.bt("Ой, произошла ошибка", "Oops! Something went wrong", "Modal heading", undefined, true),onDismiss:o,size:"md",children:(0,r.jsxs)(s.xu,{marginBottom:4,paddingX:6,children:[(0,r.jsx)(s.xu,{marginBottom:6,children:"facebook"===t?(0,r.jsx)(s.xv,{children:l.bt("Этот аккаунт Facebook не связан ни с одним аккаунтом Pinterest. Попробуйте сбросить пароль.", "We couldn’t match your Facebook account to any Pinterest account. Try resetting your password instead.", "Notice that no Pinterest account exists for the Facebook account used to attempt login", undefined, true)}):(0,r.jsx)(s.xv,{children:l.bt("Этот аккаунт Google не связан ни с одним аккаунтом Pinterest. Попробуйте сбросить пароль.", "We couldn’t match your Google account to any Pinterest account. Try resetting your password instead.", "Notice that no Pinterest account exists for the Facebook account used to attempt login", undefined, true)})}),(0,r.jsx)(h,{callBack:i,email:e,inline:!0}),(0,r.jsx)(s.xu,{marginTop:2,children:(0,r.jsx)(d.Z,{onClick:o})})]})})}var f=o(231333),y=o(142212);function w({email:e,onClose:t}){let o=(0,n.ZP)(),[l,c]=(0,i.useState)(!1);return(0,r.jsxs)(i.Fragment,{children:[(0,r.jsx)(a.Z,{heading:o.bt("Письмо с указаниями по сбросу пароля отправлено", "Password reset email sent", "Modal label for confirmation of password reset send", undefined, true),onDismiss:t,children:(0,r.jsxs)(s.xu,{marginBottom:4,paddingX:6,children:[(0,r.jsx)(s.xv,{overflow:"normal",children:(0,g.nk)(o.bt("Мы отправили инструкции по выбору нового пароля на адрес {{ email }}.", "We sent instructions to pick a new password to {{ email }}.", "Statement that a password reset email has been sent to the user", undefined, true),{email:(0,r.jsx)(s.xv,{inline:!0,overflow:"normal",weight:"bold",children:e},"emailAddress")})}),(0,r.jsx)(s.xu,{paddingY:4,children:(0,r.jsx)(h,{callBack:()=>c(!l),color:"gray",email:e,inline:!0,overrideText:o.bt("Отправить еще раз", "Resend email", "Button to allow the user to request a password reset email", undefined, true)})}),(0,r.jsxs)(s.xu,{children:[(0,r.jsx)(s.xu,{marginBottom:4,children:(0,r.jsx)(s.xv,{children:(0,g.nk)(o.bt("Не получили письмо? См. {{ tips }}", "Didn’t get the email? Try these {{ tips }}", "Direction to help center if the password reset email failed", undefined, true),{tips:(0,r.jsx)(s.xv,{inline:!0,weight:"bold",children:(0,r.jsx)(s.rU,{display:"inlineBlock",href:"https://www.pinterest.com/_/_/help/articles/trouble-pinterest-emails?source=account_recovery",onClick:({dangerouslyDisableOnNavigation:e})=>e(),target:"blank",underline:"hover",children:o.bt("советы из справочного центра", "tips from our Help Center", "Link text to go to help center", undefined, true)},"helpCenterLink")},"helpCenter")})})}),(0,r.jsx)(s.xu,{marginBottom:4,children:(0,r.jsx)(s.xv,{children:(0,g.nk)(o.bt("Это не ваш адрес электронной почты? {{ tryAgain }}", "Not your email address? {{ tryAgain }}", "Link to password reset flow for users who make an incorrect password reset request", undefined, true),{tryAgain:(0,r.jsx)(s.xv,{inline:!0,weight:"bold",children:(0,r.jsx)(s.rU,{display:"inlineBlock",href:y.lfe,onClick:({dangerouslyDisableOnNavigation:e})=>e(),underline:"hover",children:o.bt("Указать другой", "Try another", "Link text to enter the password reset flow for a different email address/username", undefined, true)},"passwordResetLink")},"tryAgain")})})})]}),(0,r.jsx)(s.xu,{children:(0,r.jsx)(d.Z,{color:"red",onClick:t})})]})}),l&&(0,r.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{bottom:"50%",left:"50%",transform:"translateX(-50%)"}},fit:!0,paddingX:1,position:"fixed",children:(0,r.jsx)(f.Z,{duration:3500,onHide:()=>c(!l),text:o.bt("Сообщение отправлено!", "Email sent!", " - ", undefined, true)})})]})}function b({email:e,onClose:t,onPasswordResetSent:o,socialButtons:i}){let l=(0,n.ZP)();return(0,r.jsx)(a.Z,{heading:l.bt("Мы защитили ваш аккаунт", "We protected your account", "Modal heading for user who need to recover their accounts", undefined, true),onDismiss:t,size:480,children:(0,r.jsxs)(s.xu,{marginBottom:8,paddingX:12,children:[(0,r.jsx)(s.xu,{marginBottom:4,paddingX:4,children:(0,r.jsx)(s.xv,{align:"center",children:l.bt("В целях безопасности мы сбросили пароль к вашему аккаунту Pinterest и завершили сеансы на всех устройствах и во всех браузерах.", "For security purposes we've reset your Pinterest account password and logged you out on all devices and browsers.", "softBannedAccountModal.modal.description", undefined, true)})}),(0,r.jsx)(s.xu,{marginBottom:4,paddingX:4,children:(0,r.jsx)(s.xv,{align:"center",children:l.bt("Сбросьте пароль или войдите через Facebook или Google, чтобы вернуться к аккаунту.", "Reset your password or log in with Facebook or Google to get back into your account.", "Prompt to take action to reset password or upsell login with Facebook/Google", undefined, true)})}),(0,r.jsxs)(s.xu,{paddingX:12,children:[(0,r.jsx)(s.xu,{paddingY:2,children:(0,r.jsx)(h,{callBack:o,email:e,inline:!0})}),i,(0,r.jsx)(s.xu,{marginTop:4,children:(0,r.jsx)(d.Z,{onClick:t})})]})]})})}var v=o(629026),P=o(612583),k=o(693806),A=o(281508),S=o(456535);let E={[k.OW]:A.Ny.RATE_LIMITED,[k.bd]:A.Ny.RATE_LIMITED,[k.$j]:A.Ny.SOFT_BANNED,[k.an]:A.Ny.SUSPENDED,[k.RL]:A.Ny.LOGIN_ASSISTANCE,[k.yV]:A.Ny.SOFT_BANNED,[S.Ej]:A.Ny.RATE_LIMITED,[k.q1]:A.Ny.LOGIN_GOOGLE},C=({onLoginWithMfa:e,onLoginWithSuspended:t,onLoginWithVoluntarilyDeactivated:o,updateAccountRecoveryModal:i})=>(0,r.jsx)(s.xu,{children:(0,r.jsx)(P.Z,{container:"account_recovery",onLoginWithMfa:e,onLoginWithSuspended:t,onLoginWithVoluntarilyDeactivated:e=>{i(null),o?.(e)},showLoginRateLimited:()=>i(A.Ny.RATE_LIMITED),socialSignupCallbacks:{type:"ACCOUNT_RECOVERY",switchToAccountRecoverySignupFlow:()=>i(A.Ny.PREVENT_GOOGLE_REGISTER)}})});function z({email:e,modalType:t,onLoginWithMfa:o,onLoginWithSuspended:s,onLoginWithVoluntarilyDeactivated:i,updateAccountRecoveryModal:a}){let n=()=>a(null),l=()=>a(A.Ny.PASSWORD_RESET_SENT),d=(0,r.jsx)(C,{onLoginWithMfa:o,onLoginWithSuspended:s,onLoginWithVoluntarilyDeactivated:i,updateAccountRecoveryModal:a});switch(t){case A.Ny.SUSPENDED:return(0,r.jsx)(v.Z,{onClose:n});case A.Ny.LOGIN_ASSISTANCE:return(0,r.jsx)(p,{email:e,onClose:n,onPasswordResetSent:l,socialButtons:d});case A.Ny.RATE_LIMITED:return(0,r.jsx)(m.Z,{onClose:n});case A.Ny.SOFT_BANNED:return(0,r.jsx)(b,{email:e,onClose:n,onPasswordResetSent:l,socialButtons:d});case A.Ny.PREVENT_FACEBOOK_REGISTER:case A.Ny.PREVENT_GOOGLE_REGISTER:return(0,r.jsx)(x,{email:e,loginWith:t===A.Ny.PREVENT_FACEBOOK_REGISTER?"facebook":"google",onClose:n,onPasswordResetSent:l});case A.Ny.PASSWORD_RESET_SENT:return(0,r.jsx)(w,{email:e,onClose:n});case A.Ny.LOGIN_GOOGLE:return(0,r.jsx)(c,{onClose:n,socialButtons:d});default:return null}}},261286:(e,t,o)=>{"use strict";o.d(t,{Z:()=>n});var s=o(883119),i=o(233846),a=o(785893);function n({color:e,onClick:t,overrideText:o}){let n=(0,i.ZP)(),l=o||n.bt("Понятно!", "Got it", "Acknowledge protected account modal message", undefined, true);return(0,a.jsx)(s.zx,{accessibilityLabel:l,color:e||"gray",fullWidth:!0,onClick:t,text:l})}},98497:(e,t,o)=>{"use strict";o.d(t,{Z:()=>c});var s=o(667294),i=o(883119),a=o(639543),n=o(94970),l=o(876748),r=o(785893);function c({children:e,headingNode:t,heading:o,onDismiss:c,size:d}){return(0,s.useEffect)(()=>(n.Z.pause(),function(){n.Z.resume()}),[]),(0,r.jsx)(i.mh,{zIndex:a.C,children:(0,r.jsx)(l.Z,{allowEsc:!0,children:(0,r.jsx)(i.u_,{accessibilityModalLabel:o,heading:t||o,onDismiss:()=>{n.Z.resume(),c()},padding:"none",role:"alertdialog",size:d||"md",children:e})})})}},150912:(e,t,o)=>{"use strict";o.d(t,{Z:()=>l});var s=o(883119),i=o(98497),a=o(233846),n=o(785893);function l({onClose:e}){let t=(0,a.ZP)();return(0,n.jsxs)(i.Z,{heading:t.bt("Ой! Слишком много попыток входа", "Oops! Too many login attempts", "LoginRateLimitedModal.Modal.Heading", undefined, true),headingNode:(0,n.jsxs)(s.xu,{children:[(0,n.jsx)(s.xu,{display:"flex",justifyContent:"center",padding:6,children:(0,n.jsx)(s.JO,{accessibilityLabel:t.bt("Логотип Pinterest", "Pinterest logo", "Accessibility label for Pinterest icon", undefined, true),color:"brandPrimary",icon:"pinterest",size:40})}),(0,n.jsx)(s.X6,{accessibilityLevel:1,align:"center",size:"600",children:t.bt("Ой! Слишком много попыток входа", "Oops! Too many login attempts", "LoginRateLimitedModal.Modal.Heading", undefined, true)})]}),onDismiss:e,size:"sm",children:[(0,n.jsx)(s.xu,{marginBottom:12,marginTop:4,paddingX:12,children:(0,n.jsx)(s.xv,{align:"center",children:t.bt("Вы совершили максимально допустимое количество попыток входа. Повторите попытку через 30 минут.", "You have reached the maximum number of login attempts. Try again in 30 minutes.", "LoginRateLimitedModal.Modal.Heading", undefined, true)})}),(0,n.jsx)(s.xu,{display:"flex",justifyContent:"center",marginBottom:8,paddingX:12,children:(0,n.jsx)(s.zx,{color:"red",fullWidth:!0,onClick:e,text:t.bt("Хорошо", "Okay", "LoginRateLimitedModal.Modal.OkButton", undefined, true)})})]})}},629026:(e,t,o)=>{"use strict";o.d(t,{Z:()=>u});var s=o(667294),i=o(883119),a=o(261286),n=o(98497),l=o(739095),r=o(233846),c=o(51340),d=o(785893);function u({onClose:e}){let t=(0,r.ZP)(),o=t.bt("Распространенные причины деактивации аккаунта:", "Common reasons for account deactivation include:", " - ", undefined, true),u=t.bt("{{ help_link }}, если у вас есть вопросы или вы хотите повторно активировать аккаунт.", "{{ help_link }} if you have questions or would like to reactivate your account.", " - ", undefined, true),_=[t.bt("Нарушение правил сообщества Pinterest.", "Violating Pinterest Community Guidelines.", "One example reason for account deactivation", undefined, true),t.bt("Мы заметили необычную активность в вашем аккаунте.", "We noticed unusual activity on your account.", "One example reason for account deactivation", undefined, true),t.bt("Вы запросили закрытие аккаунта.", "You requested an account closure.", "One example reason for account deactivation", undefined, true)];return(0,d.jsx)(n.Z,{heading:t.bt("Ваш аккаунт деактивирован", "Your account has been deactivated", "Modal heading for user who have attempted to login with a deactivated account", undefined, true),onDismiss:e,size:"md",children:(0,d.jsxs)(i.xu,{marginBottom:4,paddingX:6,children:[(0,d.jsxs)(i.xu,{marginBottom:4,children:[(0,d.jsxs)(i.xv,{children:[" ",o," "]}),(0,d.jsx)(i.xu,{paddingY:2,children:(0,d.jsx)(s.Fragment,{children:_.map(e=>(0,d.jsx)(i.xv,{children:"• "+e},`reasons-${e}`))})}),(0,d.jsx)(i.xv,{inline:!0,children:(0,c.nk)(u,{help_link:(0,d.jsx)(l.q,{},"suspended user help_link")})})]}),(0,d.jsx)(i.xu,{marginTop:4,children:(0,d.jsx)(a.Z,{color:"red",onClick:e,overrideText:t.bt("Понятно", "Got it", "Acknowledge suspended account modal message", undefined, true)})})]})})}},739095:(e,t,o)=>{"use strict";o.d(t,{q:()=>n});var s=o(883119),i=o(233846),a=o(785893);let n=()=>{let e=(0,i.ZP)();return(0,a.jsx)(s.rU,{display:"inlineBlock",href:"https://help.pinterest.com/en/contact?current_page=about_you_page&appeals=account_suspension",onClick:({dangerouslyDisableOnNavigation:e})=>e(),underline:"auto",children:e.bt("Связаться с нами", "Contact us", "link text shown to redirect to help.pinterest.com for appealing a suspension", undefined, true)})}},368775:(e,t,o)=>{"use strict";o.d(t,{Z:()=>a});var s=o(233846),i=o(785893);function a(){let e=(0,s.ZP)();return(0,i.jsx)("p",{style:{marginBottom:"8px",marginTop:"8px",overflow:"hidden",textAlign:"center",fontSize:"14px",color:"#333",fontWeight:"bold"},children:e.bt("ИЛИ", "OR", " - ", undefined, true)})}},338418:(e,t,o)=>{"use strict";o.d(t,{Z:()=>p});var s=o(667294),i=o(883119),a=o(19963),n=o(116586),l=o(233846),r=o(142212),c=o(112800),d=o(538645),u=o(755090),_=o(785893);let h={textAlign:"start"},g=({authOption:e,i18n:t,isRetrievingLoginData:o})=>{let s=t.bt("Больше нельзя войти через Facebook. Авторизуйтесь, используя опцию ниже или ", "Facebook login is no longer available. Login with an option below or ", "facebook_recover_account_banner.text_1", undefined, true),a=t.bt("нажмите, чтобы восстановить аккаунт.", "tap to recover your account", "facebook_recover_account_banner.text_2", undefined, true);return o?(0,_.jsx)(i.xu,{alignItems:"center",direction:"column",display:"flex",marginEnd:10,width:"100%",children:(0,_.jsx)(i.xH,{color:"subtle",show:!0,size:"sm"})}):(o||("google"===e?s=t.bt("Больше нельзя войти через Facebook. Войдите через Google или ", "Facebook login is no longer available. Log in with Google or ", "facebook_recover_account_banner_google.text", undefined, true):"email"===e?s=t.bt("Больше нельзя войти через Facebook. Войдите с помощью электронной почты или ", "Facebook login is no longer available. Log in with email or ", "facebook_recover_account_banner_email.text", undefined, true):"fbOnly"===e&&(s=t.bt("Больше нельзя войти через Facebook. ", "Facebook login is no longer available. ", "facebook_recover_account_banner_facebook.text_1", undefined, true),a=t.bt("Нажмите, чтобы вернуться в аккаунт", "Tap to get back into your account", "facebook_recover_account_banner_facebook.text_2", undefined, true))),(0,_.jsxs)(i.xu,{dangerouslySetInlineStyle:{__style:h},children:[(0,_.jsx)(i.xv,{inline:!0,children:s}),(0,_.jsx)(i.xv,{inline:!0,weight:"bold",children:a})]}))};function p(){let e=(0,l.ZP)(),t=(0,d.HG)(),{isRetrievingLoginData:o,isGoogleConnected:h,hasPassword:p,isFBAuthOnly:m}=(0,n.Z)({}),{logContextEvent:x}=(0,a.v)(),[f,y]=(0,s.useState)("default"),w=t?"dweb":"mweb";return(0,u.Z)(()=>{x({event_type:15393,element:10881}),(0,c.My)("pcons.login_page.fb_recover_account_banner.view")}),(0,s.useEffect)(()=>{if(o)return;let e="default";h?e="google":p?e="email":m&&(e="fbOnly"),y(e),(0,c.My)(`${w}.fb_recover_account_banner.view.${e}`)},[o,w,h,p,m]),(0,_.jsx)(i.xu,{marginTop:t?4:void 0,padding:t?4:void 0,children:(0,_.jsx)(i.Tg,{href:`${r.lfe}?lookup=true`,onTap:({dangerouslyDisableOnNavigation:e})=>{(0,c.My)(`${w}.fb_recover_account_banner.click.${f}`),t&&e(),x({event_type:15392,element:10881})},children:(0,_.jsxs)(i.xu,{alignItems:"center",color:"infoWeak",direction:"row",display:"flex",paddingX:4,paddingY:4,rounding:4,children:[(0,_.jsx)(i.xu,{marginEnd:4,children:(0,_.jsx)(i.JO,{accessibilityLabel:e.bt("информационный значок на баннере восстановления аккаунта facebook", "info icon on the facebook recover account banner", "facebook_recover_account_banner.icon", undefined, true),color:"info",icon:"info-circle",size:20})}),g({authOption:f,i18n:e,isRetrievingLoginData:o})]})})})}},197748:(e,t,o)=>{"use strict";o.d(t,{Z:()=>l});var s=o(883119),i=o(233846),a=o(538645),n=o(785893);function l(){let e=(0,i.ZP)(),t=(0,a.HG)();return(0,n.jsx)(s.xu,{marginTop:t?4:void 0,padding:t?4:void 0,children:(0,n.jsxs)(s.xu,{alignItems:"center",color:"errorWeak",direction:"row",display:"flex",paddingX:4,paddingY:4,rounding:t?4:void 0,children:[(0,n.jsx)(s.xu,{marginEnd:4,children:(0,n.jsx)(s.JO,{accessibilityLabel:e.bt("ошибка регистрации через Facebook", "error in Facebook signup", "facebook_signup_error_banner.icon", undefined, true),color:"default",icon:"workflow-status-problem",size:20})}),(0,n.jsx)(s.xu,{children:(0,n.jsx)(s.xv,{children:e.bt("Новые пользователи не могут входить в аккаунт Facebook. Продолжите с помощью электронной почты или Google:", "Facebook login isn't available for new users. Continue with email or Google:", "facebook_signup_error_banner.copy_2", undefined, true)})})]})})}},877978:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>t_});var s,i=o(667294),a=o(616550),n=o(883119),l=o(779947),r=o(219308),c=o(420205),d=o(746613),u=o(236890),_=o(463227),h=o(741090),g=o(889989),p=o(785893);let m=({margin:e})=>(0,p.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{margin:e??"10px auto"}},width:110});var x=o(778661),f=o(233846),y=o(142212),w=o(677316),b=o(358549),v=o(137130);function P({type:e}){let{viewer:t}=(0,g.B$)(),o=(0,f.ZP)(),s=(0,r.Z)(),i=`${v.C0}${y.Hm8}`,{trackConversionUpsell:a}=(0,b.Z)(),l=(0,w.Z)();return(0,p.jsxs)(n.xu,{alignItems:"center",display:"flex",fit:!0,justifyContent:"center",marginBottom:1,marginEnd:"auto",marginStart:"auto",marginTop:2,children:[(0,p.jsx)(n.xv,{size:"100",weight:"normal",children:o.bt("Вы представитель организации?", "Are you a business?", "Prompt for business signup", undefined, true)}),(0,p.jsx)(n.xu,{"data-test-id":"business-start",marginStart:1,children:(0,p.jsx)(n.rU,{href:i,onClick:()=>{l({action:"click",item:"business-start"}),s({event_type:101,component:"signupToLogin"===e?13096:13867,element:10281,aux_data:(0,x.Z)(t.type)}),a({element:10281,eventType:14689})},target:"blank",underline:"none",children:(0,p.jsx)(n.xv,{size:"100",weight:"bold",children:o.bt("Вам сюда", "Get started here!", "Prompt for signing up", undefined, true)})})})]})}let k=({children:e,layout:t})=>{switch(t){case"SIGNUP_LARGE":return(0,p.jsx)(n.xu,{children:(0,p.jsx)(n.xu,{marginTop:4,children:e})});case"SIGNUP_SMALL":return(0,p.jsx)(n.xu,{marginTop:3,children:e});case"SIGNUP_WITH_AGE":return(0,p.jsx)(n.xu,{margin:-4,children:(0,p.jsx)(n.xu,{"data-test-id":"login-button",padding:3,children:e})});case"LOGIN_INLINE":return(0,p.jsxs)(n.xu,{children:[(0,p.jsx)(m,{}),(0,p.jsx)(n.xu,{display:"inlineBlock",marginEnd:1,children:e})]});case"LOGIN_SMALL":return(0,p.jsxs)(n.xu,{children:[(0,p.jsx)(m,{}),e]});case"SIGNUP_DEFAULT":case"LOGIN_DEFAULT":return(0,p.jsxs)(n.xu,{children:[(0,p.jsx)(m,{}),(0,p.jsx)(n.xu,{children:e})]});default:return e}};function A({layout:e,onClick:t,shouldHideBusinessCreateFooterLink:o,type:s}){let i=(0,f.ZP)(),a=(0,w.Z)();return(0,p.jsxs)(k,{layout:e,children:[(0,p.jsx)(n.xu,{alignItems:"center",display:"flex",fit:!0,justifyContent:"center",marginBottom:1,marginEnd:"auto",children:(0,p.jsxs)(n.kC,{alignItems:"stretch",justifyContent:"center",children:["signupToLogin"===s&&(0,p.jsx)(n.xv,{size:"100",children:i.bt("Уже зарегистрировались?", "Already a member?", "modernized.nux.footer.text", undefined, true)}),(0,p.jsx)(n.xu,{marginStart:1,children:(0,p.jsx)(n.iP,{dataTestId:"login-signup-toggle",onTap:e=>{a({action:"click",item:"email-signup-button"}),t(e.event)},children:(0,p.jsx)(n.xv,{color:"default",size:"100",weight:"bold",children:"signupToLogin"===s&&i.bt("Войти", "Log in", "modernize.nux.switch.to.login.modal", undefined, true)||i.bt("Еще не зарегистрировались в Pinterest? Зарегистрироваться", "Not on Pinterest yet? Sign up", "nux.unauth.user.sign.up.message", undefined, true)})})})]})}),!o&&(0,p.jsx)(P,{type:s})]})}var S=o(506213),E=o(693806),C=o(281508),z=o(215907),T=o(964273),j=o(435035),L=o(159434),R=o(72613),B=o(112800),M=o(279619),I=o(154010);let Z=({disablePostSignupNextUrl:e,handleLoginToggleButtonClick:t,loadingIndicatorCallback:o,nextUrlParam:s,registrationCredentials:a,showResponseMessageModal:l})=>{let r=(0,f.ZP)(),{isRequirementEnabled:m}=(0,M.yp)(),{register:y,viewer:w}=(0,g.B$)(),{refreshToken:b}=(0,j.D)(),[v,P]=(0,i.useState)(!1),[k,Z]=(0,i.useState)(!1),[O,N]=(0,i.useState)(!0),[F,D]=(0,i.useState)(!1),[U,G]=(0,i.useState)(""),[W,V]=(0,i.useState)(void 0),H=m({requirementEnum:1,viewType:10}),q="other";switch(a?.type){case"google":q="google";break;case"facebook":q="facebook";break;case"line":q="line";break;case"sso":q="sso"}(0,i.useEffect)(()=>{"1"===_.U2(c.It)&&(D(!0),G(r.bt("На данный момент регистрация в Pinterest недоступна.", "Sorry, you’re not eligible to sign up for Pinterest right now.", "signup.birthdaycollection.ineligible.msg", undefined, true)))},[r,G]),(0,i.useEffect)(()=>{(0,B.My)("dweb.signup_age_step",{type:a?.type,format:"birthday"})},[a?.type]);let $=()=>{(0,B.My)("dweb.birthdaycollection.signup_success"),(0,B.Rp)({event:"signup_api_call_success",provider:q}),l?l(!0):C.ZP.handleSignupRedirect(s,e)},Y=async e=>{if(!a||!W)return void o(!1);if(H&&!k){o(!1),Z(!0);return}let t={};e&&(t={kr_privacy_consent_opt_in:e.kr_privacy_consent_opt_in,marketing_notifs_opt_out:e.marketing_notifs_opt_out});let s={...a.signupOptions,birthday:(0,h.Z)(W),birthday_source_site:z.E_.PINTEREST,...t};try{let e,t={facebook:T.Z.FACEBOOK,google:T.Z.GPLUS,google_one_tap:T.Z.GOOGLE_ONE_TAP,line:T.Z.LINE,sso:T.Z.SSO,socialSignupWithAge:void 0}[a.type];"google"===a.type?e=12981:"google_one_tap"===a.type&&(e=12982),(0,B.Rp)({event:"signup_api_call_start",provider:q}),await y(s,{signupContext:void 0,signupAttemptContextEvent:{event_type:7537,element:e,aux_data:{...(0,x.Z)(w.type),...t?{signup_login_method:t}:Object.freeze({})}}}),$()}catch(e){switch((0,B.Rp)({event:"signup_api_call_failure",provider:q}),b&&b(),e.api_error_code){case E.tz:(0,B.My)("dweb.birthdaycollection.signup_error.underage"),_.t8(c.It,"1",(0,_.kZ)(c.It)),P(!0),Z(!1);break;case E.NF:(0,B.My)("dweb.birthdaycollection.signup_error.eu_missing_age"),G(e.message||r.bt("Чтобы предоставлять вам эту услугу, нам необходимо знать ваш возраст.", "We need to know your age to provide you this service.", "signup.birthdaycollection.error.missingAge", undefined, true));break;case E.tL:(0,B.My)("dweb.birthdaycollection.signup_error.overage"),G(e.message||r.bt("Ой! Укажите действительный возраст для регистрации.", "Oops! Please use a valid age to sign up.", "signup.birthdaycollection.error.overage", undefined, true));break;case E.iZ:(0,B.My)("dweb.birthdaycollection.signup_error.invalid_email"),G(r.bt("Ваш электронный адрес недействителен.", "Your email is invalid.", "signup.birthdaycollection.error.invalidEmail", undefined, true));break;case E.Jt:(0,B.My)("dweb.birthdaycollection.signup_error.email_contain_pinterest"),G(r.bt("Используйте свое имя или название бренда", "Please stick to your name, or the name of your brand", "signup.birthdaycollection.error.emailContainsPinterest", undefined, true));break;default:(0,B.My)("dweb.birthdaycollection.signup_error.other"),G(r.bt("К сожалению, возникла техническая проблема.", "Sorry! Something went wrong on our end.", "signup.birthdaycollection.error.other", undefined, true))}}};return k?(0,p.jsx)(n.xu,{"data-test-id":"consents-step-modal",width:484,children:(0,p.jsx)(L.Z,{isRegistering:!1,onBackButtonClick:()=>Z(!1),onSubmitHandler:Y,validationError:U})}):v?(0,p.jsx)(S.Z,{birthday:W,onEditBirthday:()=>P(!1)}):(0,p.jsx)(n.xu,{paddingX:5,paddingY:5,children:(0,p.jsx)(n.xu,{paddingX:12,children:(0,p.jsxs)(n.kC,{alignItems:"center",direction:"column",justifyContent:"center",children:[(0,p.jsx)(n.xu,{height:48,marginBottom:1,marginTop:5,width:48,children:(0,p.jsx)(n.Ee,{alt:r.bt("Изображение на тему дня рождения", "Birthday Image", "signup.birthdaycollection.image.alt", undefined, true),naturalHeight:48,naturalWidth:48,src:d})}),(0,p.jsx)(n.xu,{marginBottom:2,children:(0,p.jsx)(n.X6,{align:"center",size:"700",children:r.bt("Укажите дату рождения", "Enter your birthdate", "signup.birthdaycollection.title", undefined, true)})}),(0,p.jsx)(n.xu,{marginBottom:4,width:310,children:(0,p.jsx)(n.xu,{marginBottom:4,children:(0,p.jsx)(n.xv,{align:"center",children:r.bt("Чтобы позаботиться о безопасности сообщества Pinterest, нам нужно знать дату вашего рождения. Зная вашу дату рождения, мы можем предоставлять вам более персонализированные рекомендации и актуальные объявления. Мы не передаем эту информацию без вашего разрешения, и она не будет видна в вашем профиле.", "To help keep Pinterest safe, we now require your birthdate. Your birthdate also helps us provide more personalized recommendations and relevant ads. We won't share this information without your permission and it won't be visible on your profile.", "signup.birthdaycollection.subheader1", undefined, true)})})}),(0,p.jsx)(n.xu,{marginBottom:4,width:280,children:(0,p.jsx)(n.nv,{autoComplete:"bday",disabled:F,errorMessage:U,id:"birthday",onChange:({value:e})=>{G(""),N(!e),V(e)},size:"lg",type:"date",value:W||""})}),(0,p.jsx)(n.xu,{marginBottom:10,width:280,children:(0,p.jsx)(n.xv,{align:"center",color:"subtle",children:(0,u.ML)(r)})}),(0,p.jsx)(n.xu,{marginBottom:3,width:280,children:(0,p.jsx)(n.zx,{color:"red",disabled:O,fullWidth:!0,onClick:()=>{if((0,B.Rp)({event:"submit_birthday",provider:q}),W&&!(0,u.Cd)(W,I.kx))return void G((0,u.Uy)(r));Y({})},text:r.bt("Создать аккаунт", "Create account", "signup.birthdaycollection.submit_label", undefined, true)})}),(0,p.jsx)(n.xu,{marginBottom:9,marginTop:2,width:340,children:(0,p.jsx)(R.Z,{isSignupStep:!0})}),(0,p.jsx)(n.xu,{marginBottom:2,children:(0,p.jsx)(A,{layout:"SIGNUP_LARGE",onClick:()=>t(),type:"signupToLogin"})})]})})})};var O=o(665921),N=o(174646);function F({disablePostSignupNextUrl:e,onBackButtonClick:t,nextUrlParam:o,onBirthdayUnderage:s,registrationCredentials:a}){let n=(0,f.ZP)(),l=(0,N.B)(),{recaptchaV3Token:r,refreshToken:d}=(0,j.D)(),{register:u,viewer:h}=(0,g.B$)(),[m,y]=(0,i.useState)(!1),[w,b]=(0,i.useState)(""),v="email";switch(a?.signupOptions.type){case"google":v="google";break;case"facebook":v="facebook";break;case"line":v="line";break;case"sso":v="sso"}let P=async({kr_privacy_consent_opt_in:t,marketing_notifs_opt_out:i})=>{y(!0);let g={...a.signupOptions,country:l.country,recaptchaV3Token:r,kr_privacy_consent_opt_in:t,marketing_notifs_opt_out:i},p={};"email"===a.signupOptions.type&&(p={first_name:(0,O.Z)(a.signupOptions.email||"",l.country),last_name:""});try{let t={facebook:T.Z.FACEBOOK,google:T.Z.GPLUS,google_one_tap:T.Z.GOOGLE_ONE_TAP,line:T.Z.LINE,sso:T.Z.SSO,socialSignupWithAge:void 0,consent:void 0}[a.type];(0,B.Rp)({event:"signup_api_call_start",provider:v}),await u({...g,...p},{signupContext:void 0,signupAttemptContextEvent:{event_type:7537,aux_data:{...(0,x.Z)(h.type),...t?{signup_login_method:t}:Object.freeze({})}}}),(0,B.My)("dweb.consentStep.signup_success"),(0,B.Rp)({event:"signup_api_call_success",provider:v}),C.ZP.handleSignupRedirect(o,e)}catch(e){switch(y(!1),(0,B.Rp)({event:"signup_api_call_failure",provider:v}),d&&d(),e.api_error_code){case E.tz:(0,B.My)("dweb.consentStep.signup_error.underage"),_.t8(c.It,"1",_.kZ(c.It)),"email"===a.signupOptions.type&&s({email:a.signupOptions.email,birthday:new Date(1e3*a.signupOptions.birthday).toISOString().split("T")[0]});break;case E.NF:(0,B.My)("dweb.consentStep.signup_error.eu_missing_age"),b(e.message||n.bt("Чтобы предоставлять вам эту услугу, нам необходимо знать ваш возраст.", "We need to know your age to provide you this service.", "signup.consentStep.error.missingAge", undefined, true));break;case E.tL:(0,B.My)("dweb.consentStep.signup_error.overage"),b(e.message||n.bt("Укажите действительный возраст для регистрации.", "Oops! Please use a valid age to sign up.", "signup.consentStep.error.overage", undefined, true));break;case E.iZ:(0,B.My)("dweb.consentStep.signup_error.invalid_email"),b(n.bt("Ваш электронный адрес недействителен.", "Your email is invalid.", "signup.consentStep.error.invalidEmail", undefined, true));break;case E.Jt:(0,B.My)("dweb.consentStep.signup_error.email_contain_pinterest"),b(n.bt("Используйте свое имя или название бренда", "Please stick to your name, or the name of your brand", "signup.consentStep.error.emailContainsPinterest", undefined, true));break;default:(0,B.My)("dweb.consentStep.signup_error.other"),b(n.bt("Возникла техническая проблема.", "Sorry! Something went wrong on our end.", "signup.consentStep.error.other", undefined, true))}}};return(0,p.jsx)(L.Z,{isRegistering:m,onBackButtonClick:()=>{t()},onSubmitHandler:P,validationError:w})}var D=o(718369),U=o(182997),G=o(222106),W=o(368775),V=o(67503),H=o(612583),q=o(778442),$=o(17151),Y=o(517585),K=o(951879),X=o(95460),Q=o(18644),J=o(397657),ee=o(231333),et=o(415862),eo=o(974946),es=o(20992),ei=o(967312),ea=o(456535),en=o(181710),el=o(339908),er=o(269136),ec=o(352322),ed=o(331935),eu=o(992114);function e_(e,t,o){var s;return(t="symbol"==typeof(s=function(e,t){if("object"!=typeof e||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var s=o.call(e,t||"default");if("object"!=typeof s)return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?s:s+"")in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}let eh=(0,i.lazy)(()=>o.e(34514).then(o.bind(o,34514))),eg="emailpwdstep";class ep extends i.Component{constructor(e){super(e),e_(this,"onLoginWithSuspended",()=>{let{loadingIndicatorCallback:e}=this.props;e(!1),this.setState({accountRecoveryModalType:G.w[E.an]})}),e_(this,"onLoginWithVoluntarilyDeactivated",e=>this.setState({googleValidationError:e})),e_(this,"setLoadingState",e=>{let{loadingIndicatorCallback:t,showSignupWelcomeLoadingFn:o}=this.props;return o&&!1===e&&o(!1),t(e)}),e_(this,"checkIfSsoUser",async()=>{let{email:e,verifySsoUser:t}=this.props,o=await t(e??"");this.setState({exchangeCodeToTokenUrl:o.exchangeCodeToTokenUrl??"",isSsoEmail:o.isSso,existingUserSso:!!o.existingUser,existingUserIsSso:!!o.existingUserIsSso,ssoAuthorizationUri:o.authorizationUri??""})}),e_(this,"debouncedCheckIfSsoUser",(0,U.Z)(async e=>{(0,ec.Z)(e??"",[(0,ed.aH)({message:"invalid email"}),(0,ed.GT)({message:"invalid email"})])?this.state.isSsoEmail&&this.setState({isSsoEmail:!1}):this.checkIfSsoUser()},300)),e_(this,"handleEmailChange",e=>{this.props.setEmail(e.target.value),this.setState({hideFBGoogleToolTip:!0}),this.props.setEmailErrorForMagicLink?.(""),this.debouncedCheckIfSsoUser(e.target.value)}),e_(this,"handlePasswordChange",e=>{this.state.passwordValidationError&&this.setState({passwordValidationError:null}),this.props.setEmailErrorForMagicLink?.(""),this.props.setPassword(e.target.value)}),e_(this,"handleEmailSignUp",e=>{let{authenticateWithSso:t,email:o,history:s,handleSsoRedirect:i,i18n:a}=this.props,{isSsoEmail:n,exchangeCodeToTokenUrl:l,existingUserSso:r,existingUserIsSso:c,ssoAuthorizationUri:d}=this.state;if(n)if(r){if(c){this.props.logContextEvent({event_type:102,view_parameter:3271,element:14367}),t({callbacks:{success:e=>{let{authCode:t,state:o}=e,{container:s,email:i,login:a,pageContext:n}=this.props;if(i&&t){let e={sso_user_email:i,sso_auth_code:t,sso_state:o};a({creds:e,loggingOptions:{loggingData:{container:s,page:n?.pageType},loginAttemptContextEvent:this.signupLoginContextEvent(7534)},recaptchaV3Token:this.props.recaptchaV3Token||"default"}).then(()=>this.handleLoginSuccess(e),t=>{(0,B.My)(`unauth.login.sso.loginError.${eg}`,{code:t.api_error_code,message:t.message}),this.handleLoginFailure(t,e)})}},error:e=>{(0,B.My)(`unauth.login.sso.error.${eg}`,{code:e.api_error_code,message:e.message}),(0,V.x)(a.bt("Возникла техническая проблема.", "Sorry! Something went wrong on our end.", "emailPasswordStep.errorMessage.sso.login", undefined, true)),this.setLoadingState(!1)}},exchangeCodeToTokenUrl:l,isLogin:!0,modalUrl:d??""});return}}else{i&&i(),(0,eo.i)(o,s);return}(0,B.My)("unauth_email_validation_attempt"),this.props.trackInteraction({action:"click",item:"email-signup-button"});let u=(0,ec.Z)(this.props.email??"",this.emailValidators);if(u)this.setState({emailValidationError:u}),(0,B.My)(`unauth.login.error.CLIENT_ERROR.malformemail.${eg}`);else{let t=(0,ec.Z)(this.props.password??"",this.asciiValidators);t&&(this.setState({passwordValidationError:t}),(0,B.My)(`unauth.login.error.CLIENT_ERROR.nonasciipwd.${eg}`)),(u=(0,ec.Z)(this.props.password??"",this.loginPasswordValidators))?(this.setState({passwordValidationError:u}),(0,B.My)(`unauth.login.error.CLIENT_ERROR.malformpwd.${eg}`)):(this.setState({passwordValidationError:null}),this.validateEmailAvailable(e)),this.setState({emailValidationError:null}),this.props.setNameFromEmail()}}),e_(this,"register",({birthday:e},t)=>{let{container:o,email:s,name:i,pageContext:a,password:n,onBirthdayUnderage:l,requestContext:r,signupSource:d,register:u,i18n:h}=this.props,g={type:"email",birthday:e,email:s,password:n,country:r.country,first_name:i,last_name:"",recaptchaV3Token:this.props.recaptchaV3Token||"default"};t?.sardineSessionKey&&(g.sardine_session_key=t.sardineSessionKey),t?.arkoseSessionToken&&(g.arkose_session_token=t.arkoseSessionToken);let p={container:o,page:a?.pageType,signupSource:d};(0,B.Rp)({event:"signup_api_call_start",provider:"email"}),t?.submitTriggeredTime&&(0,eu.LY)("web_identity_fp_vendors.signup.submit.time",performance.now()-t.submitTriggeredTime,{tags:{experiment_group:t.experimentGroup}}),u(g,{signupContext:p,signupAttemptContextEvent:this.signupLoginContextEvent(7537)}).then(()=>{let{showResponseMessageModal:e}=this.props;(0,B.My)("unauth.signup_one_step.completed"),(0,B.Rp)({event:"signup_api_call_success",provider:"email"}),e?e(!0):C.ZP.handleSignupRedirect(this.props.nextUrlParam,this.props.disablePostSignupNextUrl)},e=>{switch(this.setLoadingState(!1),(0,B.Rp)({event:"signup_api_call_failure",provider:"email"}),this.props.refreshRecaptchaV3Token&&this.props.refreshRecaptchaV3Token(),(0,Q.Z)(e,"api_error_code")){case E.tz:_.t8(c.It,"1"),l?l({birthday:this.props.birthday,email:s}):this.showUnderAgeError((0,Q.Z)(e,"message"));break;case E.NF:this.setState({birthdayValidationError:(0,Q.Z)(e,"message")||h.bt("Чтобы предоставлять вам эту услугу, нам необходимо знать ваш возраст.", "We need to know your age to provide you this service.", "userRegistration.missingAgeError", undefined, true)});break;case E.tL:this.setState({birthdayValidationError:(0,Q.Z)(e,"message")||h.bt("Ой! Укажите действительный возраст для регистрации.", "Oops! Please use a valid age to sign up.", "userRegistration.overageError", undefined, true)});break;case E.iZ:(0,B.My)("unauth_show_invalid_email_inline_error"),this.setState({emailValidationError:h.bt("Ваш электронный адрес недействителен.", "Your email is invalid.", " - ", undefined, true)});break;case E.Jt:(0,B.My)("unauth_show_invalid_email_contains_pinterest"),this.setState({emailValidationError:h.bt("Выберите свое имя или название своей марки", "Please stick to your name, or the name of your brand", " - ", undefined, true)});break;default:(0,V.x)(h.bt("К сожалению, произошла ошибка.", "Sorry! Something went wrong on our end.", " - ", undefined, true))}})}),e_(this,"checkEmailExistsWithCompletion",({email:e,handleEmailExists:t,handleEmailNotExist:o,handleError:s})=>{let{i18n:i}=this.props;(0,J.Z)({url:"/v3/register/exists/",data:{email:e}}).then(e=>{this.setState({emailValidationError:null}),!1===e.resource_response.data?o():t()},e=>{let t=i.bt("Хм… Это не похоже на адрес электронной почты", "Hmm...that doesn't look like an email address", " - ", undefined, true);(0,Q.Z)(e,"api_error_code")===E.bd?t=(0,Q.Z)(e,"message"):(0,ec.Z)(this.props.email,this.asciiValidators)&&(0,B.My)(`unauth.login.error.CLIENT_ERROR.nonasciiemail.${eg}`),this.setState({emailValidationError:t}),s?.()})}),e_(this,"checkEmailValidation",async e=>{let{i18n:t,showToast:o}=this.props;if((0,K.Z)(e)||(0,K.z)(e,"yahoo")||(0,K.z)(e,"hotmail"))return void this.setState({emailValidationError:t.bt("К сожалению, этот адрес электронной почты недействителен", "Sorry, this doesn't look like a valid email", "register.email.error.message", undefined, true)});try{let{data:o}=(await (0,J.Z)({url:"/v3/email/validation/",data:{email:e}})).resource_response||{};o&&o.is_valid?this.setState({emailValidationError:null}):this.setState({emailValidationError:t.bt("К сожалению, этот адрес электронной почты недействителен", "Sorry, this doesn't look like a valid email", "register.email.error.message", undefined, true)})}catch(e){e?.message?o(({hideToast:t})=>(0,p.jsx)(ee.Z,{duration:3e3,onHide:t,text:e.message||"",type:"error"})):(0,B.My)(`unauth.login.error.${eg}.ERROR${e.api_error_code}`)}}),e_(this,"updateAccountRecoveryModal",e=>this.setState({accountRecoveryModalType:e})),e_(this,"renderSignupForm",()=>{let{birthday:e,email:t,emailErrorForMagicLink:o,i18n:s,onBirthdayChange:i,password:a,suppressFocus:l,viewType:r,viewParameter:d,component:h,attributionLabel:g,trackConversionUpsell:m}=this.props,{birthdayValidationError:x,isSsoEmail:f,existingUserSso:y,existingUserIsSso:w}=this.state,b=f&&(!y||y&&w),v=(0,u.Uy)(s),P=e=>{m({element:e,eventType:14689})};return this.state.showRegisterForm?(0,p.jsx)(q.Z,{attributionLabel:g,buttonText:b?s.bt("Продолжить с помощью единого входа", "Continue with SSO", "loginButtonTextOverride.sso", undefined, true):s.bt("Продолжить", "Continue", "Continue button on web", undefined, true),buttonTextLabel:s.bt("Продолжить создание аккаунта Pinterest", "Continue creating your Pinterest account", "Accessiblity button text to continue creating an account", undefined, true),component:h,email:t,emailFieldHasError:this.state.emailFieldHasError,emailLabel:s.bt("Ввести адрес электронной почты", "Continue with email", "Sign up button", undefined, true),emailText:s.bt("Введите адрес эл. почты", "Email", "Text on button asking for email", undefined, true),emailValidationError:o||this.state.emailValidationError,isSsoEmail:b,onButtonClick:(t,o)=>"1"===_.U2(c.It)?void this.showUnderAgeError():e&&!(0,u.Cd)(e,I.kx)?void this.setState({birthdayValidationError:v}):void(this.setState({googleValidationError:null,hideFBGoogleToolTip:!1}),this.handleEmailSignUp(o)),onEmailChange:this.handleEmailChange,onPasswordChange:this.handlePasswordChange,password:a??"",passwordText:s.bt("Создайте пароль", "Create a password", "Text asking the user to create a password while registering", undefined, true),passwordValidationError:this.state.passwordValidationError,signupForm:{birthdayProps:{birthday:e,birthdayValidationError:x,disabled:"1"===_.U2(c.It),setBirthdayValidationError:e=>this.setState({birthdayValidationError:e}),onBirthdayChange:i},checkEmailExistsWithCompletion:this.checkEmailExistsWithCompletion,checkEmailValidation:this.checkEmailValidation,registerRestricted:"1"===_.U2(c.It)},suppressFocus:l,viewParameter:d,viewType:r}):(0,p.jsx)(n.xu,{"data-test-id":"emailSignUpButton",children:(0,p.jsx)(n.zx,{color:"red",fullWidth:!0,onClick:()=>{P(13506),(0,B.NC)("signup_email_button"),this.props.trackInteraction({action:"click",item:"email-signup-button",within:"bottom-right-upsell"}),this.setState({showRegisterForm:!0})},text:s.bt("Ввести адрес электронной почты", "Continue with email", "Text on the sign up button for signing up with email", undefined, true)})})}),e_(this,"showUnderAgeError",e=>{let{i18n:t}=this.props;this.setState({birthdayValidationError:e||t.bt("На данный момент регистрация в Pinterest недоступна.", "Sorry, you’re not eligible to sign up for Pinterest right now.", "Error message shown when underage user tries to register", undefined, true)})});let t=new URLSearchParams(e.location.search),o=parseFloat(t.get("aec")||"0");t.delete("aec"),t.size>0&&`?${t.toString()}`!==e.location.search&&e.history.replace({pathname:e.location.pathname,search:t.toString()}),this.state={accountRecoveryModalType:o===E.yV||o===E.$j?C.Ny.SOFT_BANNED:null,birthdayValidationError:null,emailFieldHasError:!1,emailValidationError:null,googleValidationError:null,passwordValidationError:null,showRegisterForm:"home_page"===this.props.container||"lopBoardUpsell"===this.props.container||"lopDownloadUpsell"===this.props.container,hideFBGoogleToolTip:!1,isSsoEmail:!1,existingUserSso:!1,existingUserIsSso:!1,exchangeCodeToTokenUrl:""};let{i18n:s}=e;this.emailValidators=[(0,ed.aH)({message:s.bt("Вы кое-что забыли! Укажите свой адрес электронной почты.", "You missed a spot! Don't forget to add your email.", " - ", undefined, true)}),(0,ed.GT)({message:s.bt("Хм… Это не похоже на адрес электронной почты.", "Hmm...that doesn't look like an email address.", " - ", undefined, true)})];let i=s.bt("Слишком короткий пароль. Он должен содержать не менее 6 символов.", "Your password is too short! You need 6+ characters.", " - ", undefined, true),a=s.bt("Используйте только сочетания букв, цифр и специальных символов (например: ?, !, $).", "Use only a mix of letters, numbers and special characters (for example: ?, !, $).", "EmailPasswordStep.password.onlyASCII", undefined, true);this.requireBirthdayValidatorMessage=s.bt("Вы кое-что забыли. Добавьте дату рождения.", "You missed a spot. Don’t forget to add your birthday.", "signup.emailpasswordstep.birthday.require.validator_message", undefined, true);let l=s.bt("Недействительная дата", "Invalid date", "signup.emailpasswordstep.birthday.validator_message", undefined, true);this.asciiValidators=[(0,ed.oR)({message:a})],this.loginPasswordValidators=[(0,ed.aH)({message:i}),(0,ed.oR)({message:a}),(0,ed.Gy)({min:6,minErrorString:i})],this.birthdayValidators=[(0,ed.aH)({message:this.requireBirthdayValidatorMessage}),(0,ed.C9)({date:new Date(new Date().getFullYear(),0,1),message:l})]}componentDidMount(){this.props.email&&this.checkIfSsoUser()}handleLoginFailure(e,t){let{setPassword:o,email:s,onLoginWithMfa:i,i18n:a,requestContext:n}=this.props,l=e.http_status===ea.Ej?ea.Ej:e.api_error_code;if(l===E.Zn)return void C.ZP.handleLoginMfa(t,{phoneNumberEnd:e.data?.phone_number_end},i);let r=(0,et.Z)({error:e,source:"emailPasswordStep",onClickPasswordReset:()=>{this.props.trackInteraction({action:"click",item:"password-reset-link"}),(0,J.Z)({url:"/v3/users/forgot_password/",method:"POST",data:{username_or_email:s,type:n.experimentsClient.checkExperiment("unauth_dweb_unified_ar").anyEnabled?"unified":"reset"}}).then(()=>this.updateAccountRecoveryModal(C.Ny.PASSWORD_RESET_SENT))}});r?(this.setState({...r,accountRecoveryModalType:l?G.w[l]:void 0}),r.passwordValidationError&&o("")):(0,V.x)(a.bt("К сожалению, произошла ошибка.", "Sorry! Something went wrong on our end.", " - ", undefined, true)),this.setLoadingState(!1)}handleLoginSuccess(e){C.ZP.storeLoginCredentialsToBrowser(e);let{showResponseMessageModal:t}=this.props;t?t(!1):this.props.nextUrlParam?C.ZP.handleSignupRedirect(this.props.nextUrlParam,this.props.disablePostSignupNextUrl):window.location.reload()}signupLoginContextEvent(e){let{viewer:t}=this.props,{isSsoEmail:o,existingUserSso:s,existingUserIsSso:i}=this.state;return{event_type:e,aux_data:{...(0,x.Z)(t.type),signup_login_method:o&&(!s||s&&i)?T.Z.SSO:T.Z.EMAIL}}}validateEmailAvailable(e){let{container:t,email:o,login:s,pageContext:i,password:a}=this.props;this.props.refreshRecaptchaV3Token&&this.props.refreshRecaptchaV3Token(),this.setLoadingState(!0),this.checkEmailExistsWithCompletion({email:o,handleEmailExists:()=>{let e={username_or_email:o,password:a??""};s({creds:e,loggingOptions:{loggingData:{container:t,page:i?.pageType},loginAttemptContextEvent:this.signupLoginContextEvent(7534)},recaptchaV3Token:this.props.recaptchaV3Token||"default"}).then(()=>this.handleLoginSuccess(e),t=>this.handleLoginFailure(t,e))},handleEmailNotExist:async()=>{await this.checkEmailValidation(o);let{birthday:t,password:s,isConsentStepNeeded:i,onConsentStepNeeded:a}=this.props;if(this.setLoadingState(!1),this.state.emailValidationError)return;let n=await this.props.getPasswordValidationRules({}),l=await (0,ec.U)(s??"",n);if(l){this.setState({passwordValidationError:l}),(0,B.My)(`unauth.login.error.CLIENT_ERROR.malformpwd.${eg}`);return}let r=(0,ec.Z)(t||"",this.birthdayValidators);if(r){(0,B.My)(`unauth.login.error.CLIENT_ERROR.invalidbirthday.${eg}`),this.setState({birthdayValidationError:r});return}let c=t?(0,h.Z)(t):void 0;return void 0===c?void this.setState({birthdayValidationError:this.requireBirthdayValidatorMessage}):(0,K.Z)(o)?void this.setState({emailFieldHasError:!0}):(this.setState({emailValidationError:null}),(0,B.My)("unauth.signup_step_1.completed"),i&&a)?void a({type:"consent",signupOptions:{type:"email",email:o,password:s,birthday:c}}):void this.register({birthday:c},e)}})}render(){let{additionalChildren:e,container:t,email:o,loadingIndicatorCallback:s,nextUrlParam:a,onLoginWithMfa:l,switchToSocialSignupWithAgeFlow:r,showLineConnectButton:c,showResponseMessageModal:d,trackConversionUpsell:u}=this.props,{accountRecoveryModalType:_,googleValidationError:h,hideFBGoogleToolTip:g,showRegisterForm:m}=this.state,x=e=>{u({element:e,eventType:14689})};return(0,p.jsxs)(n.xu,{dangerouslySetInlineStyle:{__style:{margin:"0 auto"}},width:268,children:[(0,p.jsx)(G.Z,{email:o,modalType:_,onLoginWithMfa:l,onLoginWithSuspended:this.onLoginWithSuspended,onLoginWithVoluntarilyDeactivated:this.onLoginWithVoluntarilyDeactivated,updateAccountRecoveryModal:this.updateAccountRecoveryModal}),(0,p.jsxs)(n.xu,{children:[this.renderSignupForm(),!!m&&!this.state.isSsoEmail&&(0,p.jsx)(W.Z,{}),!this.state.isSsoEmail&&(0,p.jsxs)(n.xu,{dangerouslySetInlineStyle:{__style:{marginTop:"10px"}},children:[(0,p.jsx)(n.xu,{children:(0,p.jsx)(H.Z,{container:t,nextUrlParam:a,onClick:()=>{x(13504)},onLoginWithMfa:l,onLoginWithSuspended:this.onLoginWithSuspended,onLoginWithVoluntarilyDeactivated:this.onLoginWithVoluntarilyDeactivated,showLoginRateLimited:()=>this.updateAccountRecoveryModal(C.Ny.RATE_LIMITED),showResponseMessageModal:d,socialSignupCallbacks:{type:"SOCIAL_SIGNUP_WITH_AGE",switchToSocialSignupWithAgeFlow:r},tooltip:!g&&"string"==typeof h&&h||null})}),c&&(0,p.jsxs)(i.Fragment,{children:[(0,p.jsx)(n.xu,{height:10}),(0,p.jsx)(X.Z,{name:"SafeSuspense_EmailPasswordStep_LineConnectButton",children:(0,p.jsx)(en.Z,{children:(0,p.jsx)(eh,{container:t,loadingIndicatorCallback:s,nextUrlParam:a,onClick:()=>{x(13507)},onLoginWithMfa:l,onLoginWithSuspended:this.onLoginWithSuspended,showLoginRateLimited:()=>this.updateAccountRecoveryModal(C.Ny.RATE_LIMITED),showResponseMessageModal:d,socialSignupCallbacks:{type:"SOCIAL_SIGNUP_WITH_AGE",switchToSocialSignupWithAgeFlow:r}})})})]})]})]}),(0,p.jsx)(R.Z,{isSignupStep:!0}),e]})}}function em(e){let{password:t,setPassword:o,birthday:s,setBirthday:n}=e,l=(0,Y.a2)(),c=(0,N.B)(),{showToast:d}=(0,el.F9)(),{register:u,viewer:_}=(0,g.B$)(),h=(0,$.Z)(),m=(0,r.Z)(),{viewType:x,viewParameter:y}=(0,D.SU)(),v=(0,w.Z)(),P=(0,f.ZP)(),{country:k}=c,A=(0,a.TH)(),S=(0,a.k6)(),{recaptchaV3Token:E,refreshToken:C}=(0,j.D)(),[z,T]=(0,i.useState)(""),{trackConversionUpsell:L}=(0,b.Z)(),{checkExperiment:R}=(0,ei.F)(),{authenticateWithSso:B,verifySsoUser:I}=(0,es.ZP)(),Z=(0,er.Z)(),{isRequirementEnabled:F}=(0,M.yp)(),U=F({requirementEnum:1,viewType:10});return(0,p.jsx)(ep,{...e,attributionLabel:e.attributionLabel,authenticateWithSso:B,birthday:s,checkExperiment:R,getPasswordValidationRules:Z,history:S,i18n:P,isConsentStepNeeded:U,location:A,logContextEvent:m,login:h,name:z,onBirthdayChange:e=>n(e.value),pageContext:l,password:t,recaptchaV3Token:E,refreshRecaptchaV3Token:C,register:u,requestContext:c,setNameFromEmail:()=>T((0,O.Z)(e.email,k)),setPassword:o,showLineConnectButton:"JP"===k,showToast:d,trackConversionUpsell:L,trackInteraction:v,verifySsoUser:I,viewer:_,viewParameter:y,viewType:x})}var ex=o(128407),ef=o(641092);let ey=({email:e,emailError:t,onNotNowClick:o,handleEmailChange:s,handleSubmit:a})=>{let l=(0,f.ZP)();(0,i.useEffect)(()=>{(0,B.My)("unauth.fb_phone_only_signup.email_step")},[]),l.bt("Мы используем ваш адрес электронной почты для создания аккаунта, а также для отправки важных уведомлений о безопасности и правовых нормах.", "We use your email address for account creation and for important security and legal notices.", "subtitle to explain the step on email collection form", undefined, true);let r=l.bt("Ой. Мы не можем создать для вас аккаунт без адреса электронной почты. Укажите его, чтобы продолжить.", "Oops. We're unable to create your account without your email. To continue, make sure you provide email to create your account.", "subtitle to explain the step on email collection form", undefined, true);return(0,p.jsx)(n.xu,{marginTop:3,children:(0,p.jsxs)("form",{method:"post",noValidate:!0,onSubmit:e=>{e.preventDefault(),a()},children:[(0,p.jsx)(n.xv,{align:"start",overflow:"normal",children:r}),(0,p.jsx)(n.xu,{marginTop:3}),(0,p.jsx)(n.xu,{children:(0,p.jsx)(n.nv,{ref:ef.Z,errorMessage:Array.isArray(t)?t.join(""):t,id:"email",onChange:s,placeholder:l.bt("Адрес эл. почты", "Email address", "email placeholder in the email inputfield on email collection form", undefined, true),size:"lg",type:"email"})}),(0,p.jsx)(n.xu,{marginTop:5}),(0,p.jsx)(n.zx,{color:"red",disabled:!e,fullWidth:!0,text:l.bt("Продолжить", "Continue", "word on the button which to submit user email information", undefined, true),type:"submit"}),(0,p.jsx)(n.xu,{marginTop:2}),(0,p.jsx)(n.zx,{fullWidth:!0,onClick:()=>{(0,B.My)("unauth.fb_phone_only_signup.email_step.not_now_click"),o&&o()},text:l.bt("Не сейчас", "Not now", "word on not now button to dismiss the collection form", undefined, true),type:"submit"})]})})},ew=e=>({type:"facebook",first_name:e.first_name,last_name:e.last_name,email:e.email,gender:e.gender,image_url:e.picture&&!e.picture.data.is_silhouette?e.picture.data.url:void 0,facebook_id:e.id,facebook_token:e.access_token,birthday:e.birthday?(0,h.Z)(e.birthday):void 0});var eb=o(996552);function ev(e,t,o){var s;return(t="symbol"==typeof(s=function(e,t){if("object"!=typeof e||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var s=o.call(e,t||"default");if("object"!=typeof s)return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?s:s+"")in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}let eP={EMAIL:"email"};class ek extends i.Component{constructor(e){super(e),ev(this,"mounted",!1),ev(this,"handleEmailChange",({value:e})=>{this.setState({email:e})}),ev(this,"showError",(e,t)=>{this.mounted&&t===eP.EMAIL&&this.setState({emailError:e})}),ev(this,"handleSubmit",()=>{let{i18n:e}=this.props;if((0,B.My)("unauth.fb_phone_only_signup.submit_email"),(0,B.Rp)({event:"submit_email",provider:"facebook"}),this.state.email)(0,B.My)("unauth.fb_phone_only_signup.submit_email"),this.attemptEmailSignupOrLogin();else{let t=e.bt("Укажите адрес электронной почты", "Email is required", "email error message", undefined, true);this.setState({emailError:t})}}),ev(this,"handleSignupSuccess",()=>{C.ZP.handleSignupRedirect(this.props.nextUrlParam||window.location.pathname,!0),(0,B.My)("unauth.fb_phone_only_signup.signup_success"),(0,B.Rp)({event:"signup_api_call_success",provider:"facebook"})}),ev(this,"handleSignupFailure",e=>t=>{let{i18n:o}=this.props,s=t.message||o.bt("Ой! Произошла ошибка… Нажмите «Продолжить», чтобы повторить попытку.", "Oops! Something went wrong… Click Continue to try again.", "Error during signup during FB email collection step", undefined, true);this.showError(s,e),(0,B.My)("unauth.fb_phone_only_signup.signup_failure"),(0,B.Rp)({event:"signup_api_call_failure",provider:"facebook"})}),ev(this,"attemptEmailSignupOrLogin",()=>{let{desktopCoreLoginContext:{register:e},i18n:t}=this.props,{email:o}=this.state,s=[(0,ed.GT)({message:t.bt("Хм… Это не похоже на адрес электронной почты.", "Hmm... that doesn't look like an email address.", "email error message", undefined, true)})],i=(0,ec.Z)(o,s);if(i){(0,B.My)("unauth.fb_phone_only_signup.email_validation_failure"),this.setState({emailError:i});return}let{registrationCredentials:{type:a,signupOptions:n},showSocialSignupWithAgeStep:l,showEmailAlreadyExistModal:r}=this.props;(0,J.Z)({url:"/v3/register/exists/",data:{email:o}}).then(t=>{if(!1===t.resource_response.data){let t={...n,email:o,email_source_site:z.E_.PINTEREST},{birthday:s}=t;void 0!==s&&(0,ex.Z)(s)?((0,B.Rp)({event:"signup_api_call_start",provider:"facebook"}),(t.facebook_token?(0,eb.MI)(t.facebook_token).then(ew):Promise.resolve(Object.freeze({}))).then(o=>{let{isConsentStepNeeded:i,onConsentStepNeeded:a}=this.props;if(i)return void a({type:"consent",signupOptions:{...o,...t,birthday:s,birthday_source_site:z.E_.FACEBOOK}});e({...o,...t,birthday:s,birthday_source_site:z.E_.FACEBOOK},{signupContext:void 0,signupAttemptContextEvent:{event_type:7537,view_type:10}}).then(this.handleSignupSuccess,()=>this.handleSignupFailure(eP.EMAIL))})):l({type:a,signupOptions:t})}else r({email:o}),(0,B.My)("unauth.fb_phone_only_signup.email_existed")},e=>{let o=(0,Q.Z)(e,"api_error_code")===E.bd?(0,Q.Z)(e,"message")??"":t.bt("Хм… Это не похоже на адрес электронной почты.", "Hmm... that doesn't look like an email address.", "email error message", undefined, true);this.showError(o,eP.EMAIL),(0,B.My)("unauth.fb_phone_only_signup.email_exist_api_call_failure")})}),this.state={email:"",emailError:""}}componentDidMount(){this.mounted=!0,this.props.loadingIndicatorCallback&&this.props.loadingIndicatorCallback(!1)}componentWillUnmount(){this.mounted=!1}render(){return(0,p.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{margin:"0 auto"}},width:268,children:(0,p.jsx)(ey,{email:this.state.email,emailError:this.state.emailError,handleEmailChange:this.handleEmailChange,handleSubmit:this.handleSubmit,onNotNowClick:this.props.onNotNowClick})})}}let eA=e=>{let t=(0,g.B$)(),o=(0,N.B)(),s=(0,f.ZP)(),{isRequirementEnabled:i}=(0,M.yp)(),a=i({requirementEnum:1,viewType:10});return(0,p.jsx)(ek,{...e,desktopCoreLoginContext:t,i18n:s,isConsentStepNeeded:a,requestContext:o})};var eS=o(338418),eE=o(197748),eC=o(383774),ez=o(167912),eT=o(522968),ej=o(971518),eL=o(890360),eR=o(139714),eB=o(774609);let eM=void 0!==s?s:s=o(227522),eI=({fallback:e,pinId:t,iconButton:o})=>{let s=(0,f.ZP)(),i=(0,ez.useLazyLoadQuery)(eM,{pinId:t});if(!t)return e;let a=i.v3GetPinQuery?.__typename==="V3GetPin"?i.v3GetPinQuery?.data:null,l={"236x":a?.imageSpec_236x?.url??""},r=(0,eR.Z)({imagesUrls:l,embedSrc:a?.embed?.src,embedType:a?.embed?.type,preferredResolution:"236x",excludeOriginals:!0});return r?(0,p.jsxs)(n.xu,{"data-test-id":"signup-image-wrapper",height:80,margin:"auto",position:"relative",width:82,children:[(0,p.jsx)(n.xu,{height:72,margin:"auto",marginBottom:6,marginTop:4,width:56,children:(0,p.jsx)(n.zd,{height:72,rounding:2,width:56,children:(0,p.jsx)(n.Ee,{alt:s.bt("Сохранить изображение пина", "Save pin image", "FullPageSignup.signupImage.savePinImage", undefined, true),color:a?.dominantColor||"",fit:"cover",naturalHeight:1,naturalWidth:1,src:r})})}),!!o&&(0,p.jsx)(n.xu,{bottom:!0,position:"absolute",right:!0,children:o})]}):e};function eZ({container:e,fallback:t,savePinId:o,user:s,signupSource:i}){let l=(0,f.ZP)(),{path:r}=(0,a.$B)(),c=(0,a.TH)(),d=(0,eL.L6)(c)||(0,eL.fY)(c),u=(0,w.Z)(),_=o||(r.startsWith("/pin/:id")?c.pathname.split("/")[2]:null);switch(e){case"follow":return(0,p.jsx)(n.xu,{display:"flex",justifyContent:"center",marginBottom:4,marginTop:8,children:(0,p.jsx)(ej.qE,{accessibilityLabel:l.bt("Аватар пользователя", "User Avatar", "profile.ProfileHeader.Avatar", undefined, true),color:s?.avatar_color_index,name:s?.full_name??"",outline:!0,size:"md",src:s?.image_large_url??""})});case"save":case"download":return d&&_?(0,p.jsx)(eB.Z,{fallback:t,children:(0,p.jsx)(eI,{fallback:t,iconButton:"downloadImageBtnUnauth"===i?(0,p.jsx)(n.zd,{rounding:"circle",children:(0,p.jsx)("div",{"aria-hidden":"true",onClick:()=>{u({action:"click",item:"download-image-button",within:"unauth-signup-modal"})},children:(0,p.jsx)(n.xu,{alignItems:"center",color:"lightWash",dangerouslySetInlineStyle:{__style:{boxSizing:"border-box",border:`solid 3px ${eT.PP}`}},direction:"column",display:"flex",height:32,justifyContent:"center",rounding:"circle",width:32,children:(0,p.jsx)(n.JO,{accessibilityLabel:l.bt("Зарегистрируйтесь, чтобы скачать", "Sign up to download", "web.unauth.download_modal.download_value_prop_unauth", undefined, true),color:"default",icon:"download"})})})}):null,pinId:_})}):t;default:return t}}var eO=o(20791);function eN({large:e}){return(0,p.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{margin:"8px auto 6px"}},display:"block",height:45,width:45,children:(0,p.jsx)(eO.Z,{size:e?50:40})})}class eF extends i.Component{constructor(...e){var t,o,s;super(...e),t="componentDidMount",o=()=>{let{container:e,modalType:t}=this.props;(0,B.My)("web.unauth.modal_title.view"),(0,B.My)(`unauth_web_modal.${e||"unknown"}.tier1.${t}.shown`)},(t="symbol"==typeof(s=function(e,t){if("object"!=typeof e||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var s=o.call(e,t||"default");if("object"!=typeof s)return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?s:s+"")in this?Object.defineProperty(this,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):this[t]=o}render(){let{container:e,titleText:t}=this.props;return(0,p.jsx)("h1",{style:{color:"#333",fontSize:"revamped_business_login_page"===e?"28px":"32px",fontWeight:"revamped_business_login_page"===e?500:600,letterSpacing:"-1.2px",MozOsxFontSmoothing:"grayscale",padding:"revamped_business_login_page"===e?"0px 0px":"0px 16px",WebkitFontSmoothing:"antialiased",wordBreak:"keep-all",overflowWrap:"break-word"},children:t})}}var eD=o(674573),eU=o(755090);let eG=({email:e,emailError:t,onNotNowClick:o,handleEmailChange:s,handleSubmit:i})=>{let a=(0,f.ZP)();(0,eU.Z)(()=>{(0,B.My)("unauth.line_missing_email.email_step")}),a.bt("Мы используем ваш адрес электронной почты для создания аккаунта, а также для отправки важных уведомлений о безопасности и правовых нормах.", "We use your email address for account creation and for important security and legal notices.", "subtitle to explain the step on email collection form", undefined, true);let l=a.bt("Ой. Мы не можем создать для вас аккаунт без адреса электронной почты. Укажите его, чтобы продолжить.", "Oops. We're unable to create your account without your email. To continue, make sure you provide email to create your account.", "subtitle to explain the step on email collection form", undefined, true);return(0,p.jsx)(n.xu,{marginTop:3,children:(0,p.jsxs)("form",{method:"post",noValidate:!0,onSubmit:e=>{e.preventDefault(),i()},children:[(0,p.jsx)(n.xv,{align:"start",overflow:"normal",children:l}),(0,p.jsx)(n.xu,{marginBottom:5,marginTop:3,children:(0,p.jsx)(n.nv,{ref:ef.Z,errorMessage:Array.isArray(t)?t.join(""):t,id:"email",onChange:s,placeholder:a.bt("Адрес эл. почты", "Email address", "email placeholder in the email inputfield on email collection form", undefined, true),size:"lg",type:"email"})}),(0,p.jsx)(n.zx,{color:"red",disabled:!e,fullWidth:!0,text:a.bt("Продолжить", "Continue", "word on the button which to submit user email information", undefined, true),type:"submit"}),(0,p.jsx)(n.xu,{marginTop:2}),(0,p.jsx)(n.zx,{fullWidth:!0,onClick:()=>{(0,B.My)("unauth.line_missing_email.email_step.not_now_click"),o&&o()},text:a.bt("Не сейчас", "Not now", "word on not now button to dismiss the collection form", undefined, true),type:"submit"})]})})},eW=({nextUrlParam:e,loadingIndicatorCallback:t,showEmailAlreadyExistModal:o,onNotNowClick:s,registrationCredentials:a,showSocialSignupWithAgeStep:l})=>{let r=(0,g.B$)(),c=(0,f.ZP)(),[d,u]=(0,i.useState)(""),[_,h]=(0,i.useState)("");return(0,eU.Z)(()=>{t(!1)}),(0,p.jsx)(n.xu,{marginBottom:0,marginEnd:"auto",marginStart:"auto",marginTop:0,width:268,children:(0,p.jsx)(eG,{email:d,emailError:_,handleEmailChange:({value:e})=>u(e),handleSubmit:()=>{if((0,B.My)("unauth.line_missing_email.submit_email"),!d)return void h(c.bt("Укажите адрес электронной почты", "Email is required", "email error message", undefined, true));(0,B.My)("unauth.line_missing_email.submit_email");let{register:s}=r,i=[(0,ed.GT)({message:c.bt("Хм… Это не похоже на адрес электронной почты.", "Hmm... that doesn't look like an email address.", "email error message", undefined, true)})],n=(0,ec.Z)(d,i);if(n){(0,B.My)("unauth.line_missing_email.email_validation_failure"),h(n);return}let{type:u,signupOptions:_}=a;(0,J.Z)({url:"/v3/register/exists/",data:{email:d}}).then(i=>{if(!1!==i.resource_response.data){o({email:d}),(0,B.My)("unauth.line_missing_email.email_existed");return}t(!0);let{birthday:a}=_;void 0===a?(l({type:u,signupOptions:{..._,email:d}}),t(!1)):s({..._,email:d,birthday:a},{signupContext:void 0,signupAttemptContextEvent:{event_type:7537,view_type:10}}).then(()=>{t(!1),C.ZP.handleSignupRedirect(e||C.ZP.defaultSocialLoginRedirectUrl(),!0),(0,B.My)("unauth.line_missing_email.signup_success")},e=>{t(!1),h(e.message||c.bt("Ой! Произошла ошибка… Нажмите «Продолжить», чтобы повторить попытку.", "Oops! Something went wrong… Click Continue to try again.", "unauth.lineEmailCollect.error", undefined, true)),(0,B.My)("unauth.line_missing_email.signup_failure")})},e=>{h((0,Q.Z)(e,"api_error_code")===E.bd?(0,Q.Z)(e,"message")??"":c.bt("Хм… Это не похоже на адрес электронной почты.", "Hmm... that doesn't look like an email address.", "email error message", undefined, true)),(0,B.My)("unauth.line_missing_email.email_exist_api_call_failure")})},onNotNowClick:s})})};var eV=o(698352),eH=o(19963),eq=o(892671),e$=o(919642),eY=o(51340),eK=o(362149);let eX=function({container:e="unknown",creds:t,isAccountSwitch:o,nextUrlParam:s,phoneNumberEnd:a}){let[l,r]=(0,i.useState)(null),[c,d]=(0,i.useState)(""),[u,_]=(0,i.useState)(!1),[h,g]=(0,i.useState)(!1),{isAuthenticated:m,loginState:x}=(0,N.B)(),w=(0,f.ZP)(),b=(0,Y.a2)(),v=(0,$.Z)(),P={container:e,page:b?.pageType},{logContextEvent:k}=(0,eH.v)();(0,eq.Q)({view_type:565,view_parameter:3731}),(0,i.useEffect)(()=>{!o&&C.ZP.isFullyLoggedIn(m,x)&&C.ZP.handleRedirect(s)},[]);let A=w.bt("Продолжить", "Continue", " - ", undefined, true);return(0,p.jsxs)(n.xu,{dangerouslySetInlineStyle:{__style:{margin:"18px auto"}},width:268,children:[u&&(0,p.jsx)(eK.Z,{rounding:8}),(0,p.jsx)(n.xu,{paddingY:6,children:(0,p.jsx)(n.xv,{align:"center",size:"200",children:a?(0,eY.nk)(w.bt("На ваш телефон (заканчивается на {{ phoneNumberEnd }}) отправлен код. Введите его в поле ниже, чтобы войти.", "Please check your phone with the number ending in {{ phoneNumberEnd }} for a code and enter it in the field below to log in.", " - ", undefined, true),{phoneNumberEnd:(0,p.jsx)(n.xv,{inline:!0,weight:"bold",children:a},"phone")}):w.bt("На ваш телефон отправлен код. Введите его в поле ниже, чтобы войти.", "Please check your phone for a code and enter it in the field below to log in.", " - ", undefined, true)})}),(0,p.jsxs)("form",{method:"POST",noValidate:!0,onSubmit:e=>{e.preventDefault(),k({view_type:565,view_parameter:3731,event_type:101,element:12019});let o=(0,ec.Z)(c??"",[(0,ed.aH)({message:w.bt("Вы кое-что забыли! Укажите свой код подтверждения.", "You missed a spot! Don't forget to add your verification code.", " - ", undefined, true)}),(0,ed.VC)({message:w.bt("Хм… Это не похоже на код подтверждения.", "Hmm...that doesn't look like a verification code.", " - ", undefined, true)})]);o?(r(o),(0,B.My)("unauth.login.error.CLIENT_ERROR.wrongcode.loginmfa")):(r(null),_(!0),v({creds:{...t,mfa_token:c},loggingOptions:{loggingData:P,loginAttemptContextEvent:{event_type:7534,view_type:565,view_parameter:3731}}}).then(()=>{k({view_type:565,view_parameter:3731,event_type:9992});let e=window.location.pathname===y.lfe||window.location.pathname.startsWith("/add-account")?"/":window.location.pathname;C.ZP.handleRedirect(s||e)},e=>{let t=(0,Q.Z)(e,"message");t?r(t):(0,V.x)(w.bt("К сожалению, произошла ошибка.", "Sorry! Something went wrong on our end.", " - ", undefined, true)),_(!1)}))},children:[(0,p.jsx)(e$.Z,{autoComplete:"off",focused:!0,hasError:!!l,id:"mfaCode",name:"code",onChange:e=>d(e.target.value),placeholder:w.bt("Код проверки", "Verification code", " - ", undefined, true),tooltip:l,type:"text",value:c}),(0,p.jsx)(n.xu,{height:10}),(0,p.jsx)(n.zx,{accessibilityLabel:A,color:"red",fullWidth:!0,text:A,type:"submit"})]}),(0,p.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{marginTop:"15px",color:"#333"}},children:(0,eY.nk)(w.bt("Если вы не получили его, мы можем {{ resendCode }}.", "If you didn't get it, we can {{ resendCode }}.", " - ", undefined, true),{resendCode:(0,p.jsx)(n.rU,{display:"inlineBlock",href:"",onClick:({event:e,dangerouslyDisableOnNavigation:o})=>{o(),e.preventDefault(),k({view_type:565,view_parameter:3731,event_type:101,element:12920}),_(!0),v({creds:{...t,mfa_resend:!0},loggingOptions:{loggingData:P,loginAttemptContextEvent:{event_type:7534,view_type:565,view_parameter:3731}}}).then(()=>{_(!1),g(!0)},e=>{_(!1);let t=(0,Q.Z)(e,"message");t?r(t):(0,V.x)(w.bt("К сожалению, произошла ошибка.", "Sorry! Something went wrong on our end.", " - ", undefined, true))})},underline:"hover",children:(0,p.jsx)(n.xv,{size:"100",weight:"bold",children:w.bt("повторно отправить код", "resend the code", " - ", undefined, true)})},"code")})}),h&&(0,p.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{bottom:50,left:"50%",transform:"translateX(-50%)"}},fit:!0,paddingX:1,position:"fixed",children:(0,p.jsx)(ee.Z,{duration:5e3,onHide:()=>g(!1),text:w.bt("Мы отправили вам новый код.", "We sent you a new code!", "login2fa.resendCode.success", undefined, true)})})]})},eQ=({onClick:e,zIndex:t})=>{let o=(0,N.B)(),s=(0,f.ZP)();return(0,p.jsx)(n.xu,{"data-test-id":"full-page-signup-back-button",display:"block",height:40,left:!o.isRTL,marginEnd:4,marginStart:4,marginTop:4,position:"absolute",right:o.isRTL,top:!0,width:40,zIndex:t?new n.Ry(t):void 0,children:(0,p.jsx)(n.hU,{accessibilityLabel:s.bt("Назад", "Go back", "dweb.desktopLoginModal.backButton.accessibilityLabel", undefined, true),icon:"arrow-back",iconColor:"darkGray",onClick:e,size:"md"})})};var eJ=o(892249);let e0=({handleCloseButtonClick:e,loginFormOptions:t,setSignupFlow:o,setEmailErrorForMagicLink:s,loadingIndicatorCallback:a,children:l})=>{let r=(0,f.ZP)(),{container:c,titleText:d,currentStep:u,showCloseIcon:_,setCurrentStep:h,loginEmail:g}=t,[m,x]=(0,i.useState)(!0),[y,w]=(0,i.useState)(g||""),[b,v]=(0,i.useState)(""),{checkExperiment:P}=(0,ei.F)(),k="emailInput"!==u||!P("dweb_unauth_magic_link_login_primary",{dangerouslySkipActivation:!0}).anyEnabled,A=(0,p.jsx)(n.xu,{children:k?(0,p.jsx)(eQ,{onClick:()=>{"emailSent"===u?h("emailInput"):o({type:"login"})}}):_&&(0,p.jsx)(eC.Z,{onClick:e})}),S=async()=>{try{(0,B.My)("dweb.desktop_login_modal.magic_link_email_send.request"),await (0,J.Z)({url:"v3/users/magic_link/",method:"POST",data:{email:y}});let e=(await (0,J.Z)({url:"v3/email/validation/",data:{email:y}})).resource_response.data;e?.is_valid?((0,B.My)("dweb.desktop_login_modal.magic_link_email_send.success"),h("emailSent")):(o({type:"login",email:y}),(0,B.My)("dweb.desktop_login_modal.magic_link_email_send.bounced_email"))}catch(t){let e=(0,Q.Z)(t,"api_error_code");(0,B.My)(`dweb.desktop_login_modal.magic_link_email_send.error.${e}`),e===E.iZ?(s(r.bt("Этот адрес электронной почты не связан с аккаунтом Pinterest. Зарегистрируйтесь или повторите попытку", "This email isn’t associated with a Pinterest account. Please sign up or try again", "dweb.desktopLoginModal.magicLink.noUserError", undefined, true)),o({type:"signup",email:y})):v((0,Q.Z)(t,"message")??r.bt("Произошла техническая ошибка. Повторите попытку", "Something went wrong on our end, please try again", "error.desktop_login_modal_magic_link.generic", undefined, true))}};return(0,eU.Z)(()=>{(0,B.My)("dweb.desktop_login_modal.magic_link_email_form.view");let e=async()=>{a(!0),await new Promise(e=>setTimeout(e,1e3)),a(!1)};y&&(0,eJ.ZP)(y)&&((0,B.My)("dweb.desktop_login_modal.magic_link_email_form.auto_submit"),S(),e())}),(0,p.jsxs)(n.xu,{children:[A,(0,p.jsx)(eN,{}),(0,p.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{...eD.mM,padding:"0 10px"}},width:"100%",children:(0,p.jsx)(eF,{container:c,modalType:"loginMfa",titleText:"emailSent"===u?r.bt("Проверьте почту", "Check your email", "desktopLoginModal.magicLinkSent.title", undefined, true):d})}),(0,p.jsx)(n.xu,{marginBottom:"emailInput"===u?4:2,marginEnd:"auto",marginStart:"auto",marginTop:-2,width:270,children:(0,p.jsx)(n.xv,{align:"center",size:"300",children:"emailSent"===u?(0,eY.nk)(r.bt("Используйте одноразовую ссылку для входа, отправленную на адрес {{ userEmail }}", "Use the one-time link we sent to {{ userEmail }} to log in", "desktopLoginModal.magicLinkSent.description", undefined, true),{userEmail:y}):r.bt("Введите адрес электронной почты, и мы отправим вам одноразовую ссылку", "Enter your account email and we’ll send a one-time link", "desktopLoginModal.magicLinkEmail.description", undefined, true)})}),"emailSent"!==u&&(0,p.jsx)("form",{"data-test-id":"magicLinkRequestForm",method:"POST",noValidate:!0,onSubmit:e=>{e.preventDefault(),S()},children:(0,p.jsxs)(n.xu,{dangerouslySetInlineStyle:{__style:{margin:"8px auto"}},width:268,children:[(0,p.jsx)(n.xu,{"data-test-id":"emailInputField",marginBottom:4,children:(0,p.jsx)(e$.Z,{autoComplete:"email",focused:!0,hasError:!!b,id:"magic link email",label:r.bt("Адрес электронной почты", "Email", "desktopLoginModal.magicLinkEmail.label", undefined, true),name:"id",onBlur:()=>{(0,B.My)("dweb.desktop_login_modal.magic_link_email_input.blur"),y&&!(0,eJ.ZP)(y)&&(v(r.bt("К сожалению, этот адрес электронной почты недействителен", "Sorry, this doesn't look like a valid email", "dweb.desktop_login_modal.magic_link_email_input.chan_error", undefined, true)),x(!0))},onChange:e=>{let t=e.target.value;(0,B.My)("dweb.desktop_login_modal.magic_link_email_input.change"),w(t.trim()),t&&(0,eJ.ZP)(t.trim())?(v(""),x(!1)):((0,eJ.ZP)(t.trim())&&v(""),x(!0)),s("")},onFocus:()=>{y&&(0,eJ.ZP)(y.trim())&&x(!1)},placeholder:r.bt("Адрес электронной почты", "Email", "desktopLoginModal.magicLinkEmail.placeholder", undefined, true),tooltip:b,type:"email",value:y})}),(0,p.jsx)(n.xu,{"data-test-id":"registerFormSubmitButton",marginTop:2,children:(0,p.jsx)(n.zx,{accessibilityLabel:r.bt("Кнопка для отправки письма со ссылкой для входа", "Button to send magic link email", "desktopLoginModal.magicLinkEmail.buttonAccessibilityLabel", undefined, true),color:"red",disabled:m,fullWidth:!0,onClick:()=>{(0,B.My)("dweb.desktop_login_modal.magic_link_email_send.click")},size:"lg",text:r.bt("Продолжить", "Continue", "desktopLoginModal.magicLinkEmail.continue", undefined, true),type:"submit"})})]})}),l]})};var e1=o(729402);let e4={backgroundColor:"#fff",borderRadius:"8px",padding:"22px 0",position:"relative",textAlign:"center",width:"400px",margin:"auto",boxShadow:"0 2px 10px rgba(0,0,0,0.45)"},e2=({children:e,noBoxShadow:t})=>{let o={...e4,...t?{boxShadow:"none"}:{}},{viewer:s}=(0,g.B$)(),i=(0,g.Cw)();return"LIMITED_LOGIN"===s.type&&i?(0,p.jsxs)("div",{"data-test-id":"login-modal-default",style:{...o,display:"flex",width:"auto",padding:""},children:[(0,p.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{borderRadius:"8px 0 0 8px"}},overflow:"hidden",children:(0,p.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{width:"number"==typeof i.height&&"number"==typeof i.width?600*(i.width/i.height||0):0,backgroundSize:"cover",backgroundPosition:"center",backgroundImage:i.url?`url(${i.url})`:""}},height:"100%",maxWidth:400})}),(0,p.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{padding:"32px 0"}},width:400,children:e})]}):(0,p.jsx)("div",{"data-test-id":"login-modal-default",style:{...o,padding:"32px 0"},children:e})},e3=({children:e,email:t,footer:o,handleNotYouClick:s,header:a,noBoxShadow:l,title:r,viewerInfo:c})=>{let{viewer:d}=(0,g.B$)(),u=(0,f.ZP)();return(0,p.jsx)(e2,{noBoxShadow:l,children:(0,p.jsxs)(i.Fragment,{children:[a,(0,p.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{margin:"0 auto 16px"}},display:"block",height:40,width:40,children:(0,p.jsx)(eO.Z,{size:40})}),(0,p.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{margin:"0 48px 16px"}},maxHeight:150,overflow:"hidden",width:"auto",children:r}),"LIMITED_LOGIN"===d.type&&(0,p.jsx)(n.xu,{marginBottom:4,paddingX:12,children:(0,p.jsx)(e1.Z,{})}),(0,p.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{margin:"0 auto 16px"}},width:120,children:(0,p.jsx)(ej.qE,{name:c.firstName,src:c.imageUrl??void 0})}),(0,p.jsx)(n.xu,{marginBottom:3,children:(0,p.jsx)(n.xv,{align:"center",children:t})}),e,(0,p.jsx)(n.xu,{paddingY:5,children:(0,p.jsx)(n.iz,{})}),(0,p.jsx)(n.xu,{"data-test-id":"login-switch-account",children:(0,p.jsx)(n.iP,{fullWidth:!1,onTap:({event:e})=>{e.preventDefault(),s()},children:(0,p.jsx)(n.xv,{align:"center",size:"200",weight:"bold",children:(0,p.jsx)(n.rU,{href:"#",onClick:({event:e,dangerouslyDisableOnNavigation:t})=>{e.preventDefault(),t()},children:u.bt("Это не вы? Войдите с помощью другого аккаунта", "Not you? Log in with a different account", "Short message (in small fonts) on the bottom of the login modal that prompts a user to log in to a different account", undefined, true)})})})}),(0,p.jsx)(n.xu,{marginBottom:0,marginTop:1,children:o})]})})};var e6=o(101653);let e5=e=>"authenticated"===e;function e8({container:e,nextUrlParam:t}){let[o,s]=(0,i.useState)(!0),[a,l]=(0,i.useState)(null),[r,c]=(0,i.useState)(null),d=(0,f.ZP)(),u=(0,Y.a2)(),{viewer:_}=(0,g.B$)(),h=(0,$.Z)(),m=u?.pageType,y=_.type;return(0,eU.Z)(()=>{(async()=>{try{var e;let t=await (0,J.Z)({url:"/v3/qr_auth/",method:"POST",data:{}});(e=t.resource_response.data,"object"==typeof e&&null!==e&&"qr_token"in e)?c(t.resource_response.data.qr_token):((0,B.My)("dweb.generate_qr_token.non_qr_code_data_response"),l(0))}catch(e){l((0,Q.Z)(e,"api_error_code")??0)}})(),s(!1)}),(0,i.useEffect)(()=>{let o=setInterval(async()=>{r&&h({creds:{qr_token:r},loggingOptions:{loggingData:{container:e,page:m},loginAttemptContextEvent:{event_type:7534,element:18049,aux_data:{...(0,x.Z)(y),signup_login_method:T.Z.QR_CODE}}}}).then(e=>{let{status:i,login_response:a}=e.resource_response.data;e5(i)&&a?.user&&a?.user.id&&((0,B.My)("dweb.qr_code_login.success.authenticated"),s(!0),clearInterval(o),C.ZP.handleRedirect(t))},e=>{l((0,Q.Z)(e,"api_error_code")??0)})},2e3);return()=>clearInterval(o)},[a,e,d,h,t,m,r,y]),(0,p.jsxs)(n.xu,{marginBottom:6,children:[null!==a&&(0,p.jsx)(n.he,{iconAccessibilityLabel:"Error",message:(e=>{switch(e){case 6061:return d.bt("При создании вашего QR-кода произошла ошибка. Попробуйте перезагрузить страницу и отсканировать код еще раз.", "There was a problem with generating your QR code. Try reloading the page and scanning the code again.", "unauth.desktopWeb.loginForm.qrCodeLoginModal.errorMessages.qrAuthCacheSetError", undefined, true);case 6062:return d.bt("Ваш QR-код истек или не найден. Попробуйте перезагрузить страницу и отсканировать код еще раз.", "Your QR code has expired or was not found. Try reloading the page and scanning the code again.", "unauth.desktopWeb.loginForm.qrCodeLoginModal.errorMessages.qrTokenNotFoundError", undefined, true);case 6065:return d.bt("Ваш QR-код был отсканирован с другого IP-адреса или устройства. Убедитесь, что ваше мобильное устройство подключено к той же сети Wi-Fi, что и компьютер, и попробуйте отсканировать код снова.", "Your QR code was scanned from a different IP address or device. Make sure that your mobile device is connected to the same WiFi as your computer and try scanning the code again.", "unauth.desktopWeb.loginForm.qrCodeLoginModal.errorMessages.qrIPAddressOrDeviceMismatchError", undefined, true);case 30:return d.bt("Не удалось найти ваш аккаунт. Попробуйте войти в другой аккаунт.", "We couldn't find your account. Try logging in with a different account.", "unauth.desktopWeb.loginForm.qrCodeLoginModal.errorMessages.userNotFoundError", undefined, true);case 82:return d.bt("Вход с помощью QR-кода не поддерживается для деактивированных аккаунтов. Сначала попробуйте восстановить аккаунт.", "QR code login isn't supported for deactivated accounts. Try reactivating your account first.", "unauth.desktopWeb.loginForm.qrCodeLoginModal.errorMessages.loginDeactivatedUserError", undefined, true);case 4951:return d.bt("Вход с использованием QR-кода не поддерживается для аккаунтов с единым входом. Попробуйте войти с использованием единого входа.", "QR code login isn't supported for accounts using single sign-on. Try logging in with single sign-on instead.", "unauth.desktopWeb.loginForm.qrCodeLoginModal.errorMessages.ssoFailureError", undefined, true);default:return d.bt("Не удалось войти с помощью QR-кода. Попробуйте перезагрузить страницу и отсканировать код еще раз.", "We couldn’t log you in with QR code. Try reloading the page and scanning the code again.", "unauth.desktopWeb.loginForm.qrCodeLoginModal.errorMessages.defaultError", undefined, true)}})(a),type:"error"}),(0,p.jsxs)(n.kC,{direction:"column",gap:10,children:[(0,p.jsx)(n.kC,{direction:"column",justifyContent:"center",children:(0,p.jsxs)(n.kC,{direction:"column",gap:4,children:[(0,p.jsx)(n.xv,{align:"center",children:d.bt("1. Войдите в приложение Pinterest, используя ту же сеть Wi-Fi, к которой подключен ваш компьютер", "1. Log in to the Pinterest app using the same WiFi as your computer", "unauth.desktopWeb.loginForm.qrCodeLoginModal.instructions", undefined, true)}),(0,p.jsx)(n.xv,{align:"center",children:d.bt("2. Отсканируйте QR-код с помощью камеры телефона", "2. Scan the QR code with your phone's camera", "unauth.desktopWeb.loginForm.qrCodeLoginModal.instructions", undefined, true)}),(0,p.jsx)(n.xv,{align:"center",children:d.bt("3. Подтвердите вход в приложение Pinterest", "3. Confirm login in the Pinterest app", "unauth.desktopWeb.loginForm.qrCodeLoginModal.instructions", undefined, true)})]})}),(0,p.jsxs)(n.kC,{alignItems:"center",justifyContent:"center",children:[(0,p.jsx)(e6.ZP,{fgColor:o?"#f1f1f1":"#000000",size:180,value:`https://www.pinterest.com/qr_code_login/${r}`}),(0,p.jsx)(n.xu,{position:"absolute",children:(0,p.jsx)(n.xH,{show:o})})]})]})]})}var e7=o(635169),e9=o(94970),te=o(900957);let tt=e=>{e9.Z.resume(te.LU),(0,B.My)(`web.dismiss_account_switcher.${e}`)};var to=o(761439),ts=o(122702),ti=o(32526),ta=o(21642),tn=o(945011);let tl={backgroundColor:"#fff",borderRadius:"32px",position:"relative",textAlign:"center",margin:"auto",minHeight:"450px",boxShadow:"0 2px 10px rgba(0,0,0,0.45)"},tr={home_page:{...tl,minHeight:"initial"},pinBookmarklet:{...tl,boxShadow:"none"},revamped_business_login_page:{...tl,margin:void 0,textAlign:void 0}},tc={minHeight:"400px",padding:"20px 10px 24px"},td=(e,t)=>{switch(t){case"boardInvite":return e.bt("Зарегистрируйтесь, чтобы принять приглашение на доску", "Sign up to accept your board invite", "Sign up copy board invite", undefined, true);case"saveButton":return e.bt("Регистрируйтесь, чтобы увидеть больше", "Sign up to see more", "signup copy save button", undefined, true);case"saveButtonExp":return e.bt("Зарегистрируйтесь в Pinterest, чтобы сохранить эту идею", "Join Pinterest to save this idea", "FullPageSignup.signupTagline.save", undefined, true);case"homePage":return e.bt("Добро пожаловать в Pinterest", "Welcome to Pinterest", "Title on desktop signup modal on home page", undefined, true);case"pinBookmarklet":return e.bt("Зарегистрироваться, чтобы сохранить этот пин", "Sign up to save this Pin!", "signup copy save button from third party website", undefined, true);case"downloadImageBtnDweb":return e.bt("Чтобы больше не терять свои идеи, создайте аккаунт", "Never lose track of your ideas again! Sign up for an account", "mweb.unauth.download_modal.download_value_prop", undefined, true);case"downloadImageBtnUnauth":return e.bt("Зарегистрируйтесь, чтобы скачать", "Sign up to download", "web.unauth.download_modal.download_value_prop_unauth", undefined, true);case"followButton":return e.bt("Зарегистрируйтесь в Pinterest, чтобы подписаться", "Join Pinterest to follow", "mweb.unauth.follow_modal.follow_value_prop", undefined, true);case"lopBoardUpsell":return e.bt("Упорядочивайте любимые пины с помощью досок", "Boards let you organize what you love", "unauth.desktop.signup_modal.lopBoardUpsell.header", undefined, true);default:return e.bt("Регистрируйтесь, чтобы увидеть больше", "Sign up to see more", "sigup copy default includes pin click and scrolling", undefined, true)}},tu=(e,t)=>{switch(t){case"boardInvite":return e.bt("Войдите, чтобы принять приглашение на доску", "Log in to accept your board invite", "Login copy board invite", undefined, true);case"homePage":return e.bt("Добро пожаловать в Pinterest", "Welcome to Pinterest", "Title on desktop signup modal on home page", undefined, true);case"pinBookmarklet":return e.bt("Войти, чтобы сохранить этот пин", "Sign in to save this Pin!", "Login copy save button from third party website", undefined, true);case"saveButton":return e.bt("Войдите в Pinterest, чтобы сохранить идею", "Log in to save this idea", "Login copy save upsell", undefined, true);case"lopBoardUpsell":return e.bt("Упорядочивайте любимые пины с помощью досок", "Boards let you organize what you love", "unauth.desktop.signup_modal.lopBoardUpsell.header", undefined, true);case"lopDownloadUpsell":return e.bt("Войдите, чтобы скачать", "Log in to download", "unauth.desktop.signup_modal.lopDownloadUpsell.header", undefined, true);default:return e.bt("Войдите, чтобы увидеть больше", "Log in to see more", "Title on desktop login modal", undefined, true)}};function t_({container:e,savePinId:t,customLoginTagline:o,customSignupTagline:s,handleCloseButtonClick:c,handleShowingSignupWelcomeLoading:d,handleSsoRedirect:u,hideAccountSwitchValueProp:_,inviter:h,isAccountSwitch:y=!1,isBusiness:v,nextUrlParam:P,removeSignupLoginToggleFooter:k,renderBusinessCreateButton:E,showCloseIcon:C,showResponseMessageModal:z,signupRedirectUrl:T,signupSource:j="defaultSource",suppressFocus:L,toggleType:R="DEFAULT_TOGGLE",signupFlow:M,attributionLabel:I,onRedirectToSignup:O}){let D=(0,N.B)(),U=(0,f.ZP)(),{viewer:{info:G,type:W}}=(0,g.B$)(),V=(0,r.Z)(),H=(0,w.Z)(),{checkExperiment:q}=(0,ei.F)(),[$,Y]=(0,i.useState)(!1),[K,X]=(0,i.useState)(!1),[Q,J]=(0,i.useState)(!1),[ee,et]=(0,i.useState)("signup"===(0,ti.Z)().type?{type:"signup"}:M),[eo,es]=(0,i.useState)(""),[ea,en]=(0,i.useState)(""),{trackConversionUpsell:el}=(0,b.Z)(),[er,ec]=(0,i.useState)(!1),ed=(0,x.Z)(W),{username:eu}=(0,a.UO)(),e_=(0,tn.cm)(),eh=eu?e_(eu):null,eg="commentComposer"===j,ep="login"===ee.type?14212:14214,[ex,ef]=(0,i.useState)(ep),ey=q("dweb_unauth_fb_login_account_recovery_flow").anyEnabled,[ew,eb]=(0,i.useState)(!1),[ev,eP]=(0,i.useState)("login"),[ek,ez]=(0,i.useState)(""),eT=(0,ta.cO)(),{expGroup:eL=""}=eT?.data?.popoverData||{},eR="revamped_business_login_page"===e,eB=(0,i.useRef)(null);(0,i.useEffect)(()=>((0,B.My)(`unauth.authentication_modal.shown.${R}.${ee.type}`),()=>{y&&((0,to.Z)("add_account_dismiss",null,e),tt(e))}),[]);let eM=(0,i.useRef)(ee.type);(0,i.useEffect)(()=>{eM.current!==ee.type&&(eM.current=ee.type,(0,B.My)(`unauth.authentication_modal.shown.${R}.${ee.type}`))});let eI=(0,i.useRef)(M);(0,i.useEffect)(()=>{eI.current.type!==M.type&&(eI.current=M,et(M))}),(0,i.useEffect)(()=>{let e=()=>{if(!eB.current)return;let e=eB.current,t=e.getBoundingClientRect();if(t.top<150){let o=150-t.top;e.style.transform=`translateY(${o}px)`}else e.style.transform=""};return window.addEventListener("resize",e),e(),()=>{window.removeEventListener("resize",e)}},[]);let eO=tr[e]??tl,eU=()=>P?decodeURIComponent(P):P,eG=e=>eU()?(0,ts.Z)(e,{next:eU()}):e,eH=e=>et({type:"EmailCollection",registrationCredentials:e}),eq=e=>et({type:"socialSignupWithAge",registrationCredentials:e}),e$=e=>et({type:"consents",registrationCredentials:e}),eQ=(e,t)=>et({type:"loginMfa",creds:e,phoneNumberEnd:t?.phoneNumberEnd||void 0}),eJ=e=>{(0,B.My)(`unauth.personalized_login.prevent_register.${e}`),ec(!0),X(!1),et({type:"signup"})},e1=()=>{H({action:"click",item:"login-switch-account",within:"personalized-login"}),(0,B.NC)("click_change_signin_account"),V({aux_data:ed,element:10879,event_type:101}),el({eventType:14689,element:10879})},e2=e=>{(0,B.My)(`unauth.authentication_modal.${e}.${R}.${ee.type}`)},e6=e=>{e2("login_toggle_click"),(0,B.NC)("click_toggle_login"),H({action:"click",item:"login-button"}),el({eventType:14689,element:13914}),et({type:"login",email:e?.email}),ef(14212),el({eventType:14688,component:14212,element:13914,upsellReason:I,incrementUpsellReasonCounter:!1}),Y(!1)},e5=({email:e})=>{if(e2("signup_toggle_click"),(0,B.NC)("click_toggle_signup"),el({eventType:14689,element:13913}),T)return void(0,l.Z)(T,!1);ef(14214),el({eventType:14688,component:14214,element:13913,upsellReason:I,incrementUpsellReasonCounter:!1}),et({type:"signup",email:e})},e9=({email:e})=>(0,p.jsx)(n.iP,{fullWidth:!1,onTap:t=>{let o={event_type:101,element:10880};v?V(o):(t.event.preventDefault(),H({action:"click",item:"signup-toggle-button",within:"personalized-login"}),V({...o,aux_data:ed}),e5({email:e}))},children:(0,p.jsx)(n.xv,{align:"center",size:"200",weight:"bold",children:(0,p.jsx)(n.xu,{"data-test-id":"need-account-link",children:(0,p.jsx)(n.rU,{href:v?eG("/business/create"):"#",onClick:({dangerouslyDisableOnNavigation:e})=>e(),children:U.bt("Нужен аккаунт? Зарегистрируйтесь", "Need an account? Sign up now", "Short message (in small fonts) on the bottom of the login modal that prompts a users to create an account", undefined, true)})})})}),te=()=>{X(!1),eb(!0)},t_=()=>{et({...ee,type:"loginMagicLink"}),eP("emailInput")},th=C&&(0,p.jsx)(eC.Z,{onClick:c});if(Q&&["signup","login","socialSignupWithAge"].includes(ee.type))return(0,p.jsx)(e7.Z,{});switch(ee.type){case"signup":case"respondMessage":{let o=$?U.bt("С возвращением в Pinterest!", "Welcome back to Pinterest!", "welcoming user back to pinterest in signup modal when we recognize their email", undefined, true):s||td(U,j),a=h&&!h.is_default_image?h:null,l=!("save"===e&&eL.startsWith("enabled")),r=(0,p.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:eD.mM},width:"login_page"!==e?400:void 0,children:(0,p.jsx)(eF,{container:e,modalType:"signup",titleText:a&&l&&("respondMessage"===M.type?(U.bt("Зарегистрируйтесь и поделитесь своим мнением с пользователем {{ name }}", "Sign up and let {{ name }} know what you think", "Prompt user to signup to access all Pinterest features", undefined, true)).replace("{{ name }}",a.first_name||a.full_name):(U.bt("Присоединяйтесь к пользователю {{ name }} в Pinterest, чтобы найти больше идей", "Join {{ name }} on Pinterest for more ideas", "Prompt user to signup to access all Pinterest features", undefined, true)).replace("{{ name }}",a.first_name||a.full_name))||(["login_page","home_page","save","download","follow","lopBoardUpsell","lopDownloadUpsell"].includes(e)?o:U.bt("Неограниченный бесплатный доступ к наилучшим идеям со всего мира", "Unlimited free access to the world's best ideas", "FullPageSignup.signupTitle.save", undefined, true))})});return(0,p.jsxs)(n.xu,{dangerouslySetInlineStyle:{__style:eO},"data-test-id":"signup-default-modal",width:484,children:[K&&(0,p.jsx)(eK.Z,{rounding:8*!a}),(0,p.jsxs)(n.xu,{dangerouslySetInlineStyle:{__style:a?{minHeight:"400px",padding:"30px 10px 20px"}:tc},children:[th,a&&l?(0,p.jsxs)(i.Fragment,{children:[(0,p.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{margin:"0 auto 16px"}},width:108,children:(0,p.jsx)(ej.qE,{name:a.first_name||a.full_name,src:a.image_medium_url,verified:"respondMessage"===M.type})}),r]}):(0,p.jsxs)(i.Fragment,{children:[(0,p.jsx)(eZ,{container:e,fallback:(0,p.jsx)(eN,{large:"homePage"!==j}),savePinId:t,signupSource:j,user:eh}),r,(0,p.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:eD.mM},children:!$&&(0,p.jsx)(n.xu,{marginBottom:4,marginTop:-4,children:(0,p.jsx)(n.xv,{align:"center",size:"300",children:"login_page"!==e&&"home_page"!==e&&"save"!==e&&"download"!==e&&"follow"!==e&&"lopBoardUpsell"!==e&&"lopDownloadUpsell"!==e?o:"downloadImageBtnDweb"===j&&U.bt("Узнайте, как эффективно упорядочивать идеи", "Discover a better way to keep your ideas organized", "mweb.unauth.signup_modal.download_value_prop_subheader", undefined, true)||"downloadImageBtnUnauth"===j&&U.bt("Скачайте это изображения и не только с помощью аккаунта Pinterest", "Download this image and more with a Pinterest account", "web.unauth.signup_modal.download_value_prop_subheader", undefined, true)||"followButton"===j&&(0,eY.nk)(U.bt("Создайте аккаунт, чтобы подписаться на автора {{ creatorName }}", "Create an account to follow {{ creatorName }}", "mweb.unauth.signup_modal.follow_value_prop_subheader", undefined, true),{creatorName:eh?.full_name})||"homePage"===j&&U.bt("Находите новые идеи для вдохновения", "Find new ideas to try", "Value prop on desktop signup modal on home page", undefined, true)||"saveButtonExp"===j&&U.bt("Неограниченный бесплатный доступ к наилучшим идеям со всего мира", "Unlimited free access to the world's best ideas", "FullPageSignup.signupSubTitle.saDDve", undefined, true)||"lopBoardUpsell"===j&&U.bt("Зарегистрируйтесь, чтобы создать доску!", "Sign up to make one!", "unauth.desktop.signup_modal.lopBoardUpsell.subheader", undefined, true)||U.bt("Ищите полезное", "Discovery starts here", "Pinterest value proposition on desktop login modal", undefined, true)})})})]}),(0,p.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{textAlign:"center",margin:"0 auto"}},"data-test-id":"signup-options",position:"relative",children:(0,p.jsx)(em,{additionalChildren:!k&&(0,p.jsx)(A,{layout:"NOT_NOW_BUTTON"===R&&"SIGNUP_LARGE"||"home_page"===e&&"SIGNUP_SMALL"||"SIGNUP_DEFAULT",onClick:()=>e6({email:ee.email}),shouldHideBusinessCreateFooterLink:!!E,type:"signupToLogin"}),attributionLabel:I,birthday:ea,component:ex,container:e,disablePostSignupNextUrl:!P,email:ee.email??"",emailErrorForMagicLink:ek,handleSsoRedirect:u,loadingIndicatorCallback:X,nextUrlParam:eU(),onBirthdayUnderage:({birthday:e,email:t})=>{et({type:"UnderageConfirmation",birthday:e,email:t})},onConsentStepNeeded:e$,onFBMissingEmail:eH,onFBPhoneOnlyConnectVerified:eH,onLoginWithMfa:eQ,password:eo,setBirthday:en,setEmail:e=>et((ee.type,{...ee,email:e})),setEmailErrorForMagicLink:ez,setPassword:es,showResponseMessageModal:"respondMessage"===M.type?z:void 0,showSignupWelcomeLoadingFn:e=>{J(e),d&&d(e)},signupSource:j,suppressFocus:L,switchToSocialSignupWithAgeFlow:eq})})]}),E&&E()]})}case"login":{if(q("dweb_unauth_magic_link_login_primary").anyEnabled&&"select"!==ev)return et({type:"loginMagicLink"}),eP("emailInput"),null;if(!er&&!y&&G&&"AUTH"!==W&&"bottom.right.upsell.email"!==e){let t=G.hasPassword||G.connectedToFacebook||G.connectedToGoogle;return(0,p.jsx)(e3,{email:ee.email??"",footer:e9({email:ee.email}),handleNotYouClick:()=>{ec(!0),e1()},header:(0,p.jsxs)(i.Fragment,{children:[K&&(0,p.jsx)(eK.Z,{}),th]}),noBoxShadow:"pinBookmarklet"===e,title:(0,p.jsx)(eF,{container:e,modalType:"personalizedLogin",titleText:(0,eY.nk)(U.bt("С возвращением, {{name}}!", "Welcome back, {{name}}!", "Short title (large font) on the login modal welcoming back a user who previously logged in to Pinterest", undefined, true),{name:G?G.firstName:""}).join("")}),viewerInfo:G,children:(0,p.jsx)(eV.ZP,{attributionLabel:I,component:ex,container:e,disableFBSignup:te,disablePostSignupNextUrl:!P,email:G.email,hideEmailField:!0,hideFacebookButton:t&&!G.connectedToFacebook,hideGoogleButton:t&&!G.connectedToGoogle,hideLineButton:t,hidePasswordField:t&&!G.hasPassword,hideTermsOfService:!0,inFacebookLoginRecoverExperiment:ey,loadingIndicatorCallback:X,loginButtonTextOverride:U.bt("Продолжить", "Continue", " - ", undefined, true),nextUrlParam:eU(),onEmailChange:()=>{},onLoginWithMagicLink:t_,onLoginWithMfa:eQ,requestContext:D,shouldHideFBButtonForSignup:ew,showResponseMessageModal:"respondMessage"===M.type?z:void 0,socialSignupCallbacks:{type:"ACCOUNT_RECOVERY",switchToAccountRecoverySignupFlow:eJ}})})}let t=eg?U.bt("Войдите в аккаунт, чтобы оставить комментарий", "Log in to comment", "dweb.unauth.comment_compose.upsell_tagline", undefined, true):o||tu(U,j),s=(0,p.jsx)(n.xu,{bottom:!0,color:"secondary",dangerouslySetInlineStyle:{__style:{borderRadius:"0 0 32px 32px"}},height:62,left:!0,width:"100%",children:(0,p.jsx)(n.iP,{fullHeight:!0,onTap:()=>{(0,l.Z)((0,ts.Z)("/login",{}),!0),(0,B.My)("unauth.business.login_personal_account.click"),V({event_type:101,component:13096,element:10773,aux_data:{is_revamped_business_login:!0}})},children:(0,p.jsx)(n.kC,{alignItems:"center",height:"100%",justifyContent:"center",children:(0,p.jsx)(n.xv,{weight:"bold",children:U.bt("Войти в личный аккаунт", "Log in to a personal account", "bizsite.revampSignup.redirectToPersonalAccountLogin", undefined, true)})})})});return(0,p.jsxs)(n.xu,{dangerouslySetInlineStyle:{__style:eO},"data-test-id":"login-modal-default",width:eR?480:484,children:[K&&(0,p.jsx)(eK.Z,{rounding:8}),(0,p.jsxs)(n.xu,{dangerouslySetInlineStyle:{__style:{...tc,...eR?{padding:"40px"}:{}}},children:[th,ew&&(0,p.jsx)(eE.Z,{}),ey&&(0,p.jsx)(eS.Z,{}),!eR&&(0,p.jsx)(eN,{large:"homePage"!==j}),(0,p.jsxs)(n.xu,{dangerouslySetInlineStyle:{__style:eR?{...eD.mM,width:void 0,marginBottom:"40px"}:eD.mM},width:["login_page","revamped_business_login_page"].includes(e)?void 0:300,children:[(0,p.jsx)(eF,{container:e,modalType:"login",titleText:t}),"lopBoardUpsell"===j&&(0,p.jsx)(n.xu,{marginBottom:4,marginTop:1,children:(0,p.jsx)(n.xv,{align:"center",size:"300",children:U.bt("Войдите, чтобы создать доску.", "Log in to make one!", "unauth.desktop.signup_modal.lopBoardUpsell.subheader", undefined, true)})}),"lopDownloadUpsell"===j&&(0,p.jsx)(n.xu,{marginBottom:4,marginTop:2,children:(0,p.jsx)(n.xv,{align:"center",size:"300",children:U.bt("Скачайте это изображения и не только с помощью аккаунта Pinterest", "Download this image and more with a Pinterest account", "unauth.desktop.signup_modal.download_upsell.subheader", undefined, true)})})]}),y&&!_&&(0,p.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:eD.mM},children:(0,p.jsx)(n.xu,{marginBottom:8,marginTop:-4,children:(0,p.jsx)(n.xv,{align:"center",size:"300",children:U.bt("У вас есть другой аккаунт Pinterest? Войдите, чтобы удобно переключаться между ними", "Have another Pinterest account? Log in to easily switch between them", "Subtitle on the login modal that explains to a user why they would add an additional account to their profile", undefined, true)})})}),(0,p.jsx)(eV.ZP,{attributionLabel:I,component:ex,container:e,disableFBSignup:te,disablePostSignupNextUrl:!P,email:ee.email,handleSsoRedirect:u,inFacebookLoginRecoverExperiment:ey,isAccountSwitch:y,loadingIndicatorCallback:X,nextUrlParam:eU(),onEmailChange:e=>et({...ee,email:e.target.value}),onFBPhoneOnlyConnectVerified:eH,onLoginWithMagicLink:t_,onLoginWithMfa:eQ,onRedirectToSignup:O,qrCodeLoginButtonClickHandler:()=>et({type:"loginQRCode"}),requestContext:D,shouldHideFBButtonForSignup:ew,showResponseMessageModal:"respondMessage"===M.type?z:void 0,socialSignupCallbacks:{type:"SOCIAL_SIGNUP_WITH_AGE",switchToSocialSignupWithAgeFlow:eq}}),v?!eR&&(0,p.jsxs)(n.kC,{alignItems:"center",direction:"column",children:[(0,p.jsx)(m,{}),(0,p.jsx)(n.xv,{size:"100",weight:"bold",children:(0,p.jsx)(n.rU,{href:eG("/business/create"),children:U.bt("Создать аккаунт", "Create new account", "Link to the page to create a new business account instead of logging in", undefined, true)})})]}):!y&&!k&&(0,p.jsx)(A,{layout:"NOT_NOW_BUTTON"===R&&"LOGIN_INLINE"||"SMALL_TOGGLE"===R&&"LOGIN_SMALL"||"LOGIN_DEFAULT",onClick:()=>{e5({email:ee.email})},type:"loginToSignup"})]}),eR&&s]})}case"loginMagicLink":return(0,p.jsxs)(n.xu,{dangerouslySetInlineStyle:{__style:eO},"data-test-id":"login-modal-magic-link",width:eR?480:484,children:[K&&(0,p.jsx)(eK.Z,{rounding:8}),(0,p.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:tc},children:(0,p.jsxs)(e0,{handleCloseButtonClick:c,loadingIndicatorCallback:X,loginFormOptions:{container:e,showCloseIcon:C,loginEmail:ee.email,titleText:tu(U,j),currentStep:ev,setCurrentStep:eP},setEmailErrorForMagicLink:ez,setSignupFlow:et,children:[(0,p.jsx)(eV.ZP,{container:e,disableFBSignup:te,disablePostSignupNextUrl:!P,email:ee.email,loadingIndicatorCallback:X,magicLinkLoginStep:ev,onNavigateToLoginStep:()=>{eP("select"),et({type:"login",email:ee.email})},requestContext:D,shouldHideFBButtonForSignup:ew,socialSignupCallbacks:{type:"SOCIAL_SIGNUP_WITH_AGE",switchToSocialSignupWithAgeFlow:eq}}),!k&&(0,p.jsx)(A,{layout:"NOT_NOW_BUTTON"===R&&"LOGIN_INLINE"||"SMALL_TOGGLE"===R&&"LOGIN_SMALL"||"LOGIN_DEFAULT",onClick:()=>{e5({email:ee.email})},type:"loginToSignup"})]})})]});case"loginMfa":return(0,p.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:eO},"data-test-id":"login-modal-mfa",width:489,children:(0,p.jsxs)(n.xu,{dangerouslySetInlineStyle:{__style:tc},children:[th,(0,p.jsx)(eN,{}),(0,p.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{...eD.mM,padding:"0 10px"}},width:"100%",children:(0,p.jsx)(eF,{container:e,modalType:"loginMfa",titleText:U.bt("Требуется двухфакторная аутентификация", "Two-factor authentication required", "desktopLoginModal.2fa.title", undefined, true)})}),(0,p.jsx)(eX,{container:e,creds:ee.creds,isAccountSwitch:y,nextUrlParam:eU(),phoneNumberEnd:ee.phoneNumberEnd})]})});case"socialSignupWithAge":return(0,p.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:eO},"data-test-id":"birthday-collection-modal",minHeight:"0",children:(0,p.jsx)(Z,{disablePostSignupNextUrl:!P,handleLoginToggleButtonClick:e6,loadingIndicatorCallback:X,nextUrlParam:eU(),registrationCredentials:ee.registrationCredentials,showResponseMessageModal:"respondMessage"===M.type?z:void 0})});case"EmailCollection":{let e=()=>{et({type:"signup",email:ee.registrationCredentials.signupOptions.email}),X(!1)},t=({email:e})=>et({type:"EmailAlreadyExist",email:e});return(0,p.jsxs)(n.xu,{dangerouslySetInlineStyle:{__style:tl},"data-test-id":"line"===ee.registrationCredentials.type?"signup-modal-line-phone-only":"signup-modal-facebook-phone-only",minHeight:400,children:[K&&(0,p.jsx)(eK.Z,{rounding:8}),(0,p.jsxs)(n.xu,{dangerouslySetInlineStyle:{__style:tc},children:[th,(0,p.jsx)(eN,{}),(0,p.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:eD.mM},width:310,children:(0,p.jsx)(n.X6,{size:"700",children:U.bt("Укажите свой адрес электронной почты", "What's your email address?", "Prompt for email address in after sign in with line", undefined, true)})}),"line"===ee.registrationCredentials.type?(0,p.jsx)(eW,{loadingIndicatorCallback:X,nextUrlParam:P,onNotNowClick:e,registrationCredentials:ee.registrationCredentials,showEmailAlreadyExistModal:t,showSocialSignupWithAgeStep:eq}):(0,p.jsx)(eA,{loadingIndicatorCallback:X,nextUrlParam:P,onConsentStepNeeded:e$,onNotNowClick:e,registrationCredentials:ee.registrationCredentials,showEmailAlreadyExistModal:t,showSocialSignupWithAgeStep:eq})]})]})}case"EmailAlreadyExist":return(0,p.jsxs)(n.xu,{dangerouslySetInlineStyle:{__style:e4},"data-test-id":"login-modal-existing-email",children:[K&&(0,p.jsx)(eK.Z,{}),(0,p.jsx)(eN,{}),(0,p.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:eD.mM},maxHeight:120,overflow:"hidden",width:350,children:(0,p.jsx)(eF,{container:e,modalType:"personalizedLogin",titleText:(0,eY.nk)(U.bt("Похоже, вы уже зарегистрированы в Pinterest", "Looks like you're already on Pinterest", "Short title (large font) on the login modal welcoming back a user who previously logged in to Pinterest", undefined, true),{name:G?G.firstName:""}).join("")})}),(0,p.jsx)(n.xu,{marginBottom:3,children:(0,p.jsx)(n.xv,{align:"center",children:ee.email})}),(0,p.jsx)(eV.ZP,{attributionLabel:I,component:ex,container:e,disableFBSignup:te,disablePostSignupNextUrl:!P,email:ee.email,hideEmailField:!0,hideFacebookButton:!0,hideLineButton:!0,hideTermsOfService:!0,inFacebookLoginRecoverExperiment:ey,loadingIndicatorCallback:X,loginButtonTextOverride:U.bt("Продолжить", "Continue", " - ", undefined, true),nextUrlParam:eU(),onEmailChange:()=>{},onLoginWithMagicLink:t_,onLoginWithMfa:eQ,requestContext:D,shouldHideFBButtonForSignup:ew,showResponseMessageModal:"respondMessage"===M.type?z:void 0,socialSignupCallbacks:{type:"ACCOUNT_RECOVERY",switchToAccountRecoverySignupFlow:eJ}}),(0,p.jsx)(n.xu,{paddingY:5,children:(0,p.jsx)(n.iz,{})}),(0,p.jsx)(n.xu,{"data-test-id":"login-switch-account",children:(0,p.jsx)(n.iP,{fullWidth:!1,onTap:({event:e})=>{e.preventDefault(),et({type:"login"}),ec(!0),e1()},children:(0,p.jsx)(n.xv,{align:"center",size:"200",weight:"bold",children:(0,p.jsx)(n.rU,{href:"#",onClick:({event:e,dangerouslyDisableOnNavigation:t})=>{e.preventDefault(),t()},children:U.bt("Это не вы? Войдите с помощью другого аккаунта", "Not you? Log in with a different account", "Short message (in small fonts) on the bottom of the login modal that prompts a user to log in to a different account", undefined, true)})})})}),(0,p.jsx)(n.xu,{marginBottom:4,marginTop:1,children:e9({email:ee.email})}),th]});case"UnderageConfirmation":return(0,p.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:eO},"data-test-id":"underage-confirmation-modal",children:(0,p.jsx)(S.Z,{birthday:ee.birthday,onEditBirthday:()=>{et({type:"signup",email:ee.email}),X(!1)}})});case"consents":return(0,p.jsxs)(n.xu,{dangerouslySetInlineStyle:{__style:eO},"data-test-id":"consents-step-modal",width:484,children:[th,(0,p.jsx)(F,{disablePostSignupNextUrl:!P,nextUrlParam:eU(),onBackButtonClick:()=>{et({type:"signup",email:"email"===ee.registrationCredentials.signupOptions.type?ee.registrationCredentials.signupOptions.email:""})},onBirthdayUnderage:({birthday:e,email:t})=>{et({type:"UnderageConfirmation",birthday:e,email:t})},registrationCredentials:ee.registrationCredentials})]});case"loginQRCode":return(0,p.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:eO},"data-test-id":"qr-code-login-modal",width:484,children:(0,p.jsxs)(n.xu,{dangerouslySetInlineStyle:{__style:{...tc}},children:[(0,p.jsxs)(n.kC,{alignContent:"between",children:[(0,p.jsx)(n.hU,{accessibilityLabel:U.bt("Назад на страницу входа", "Go back to login", "unauth.desktopWeb.loginForm.qrCodeLoginModal.goBackToLoginButton", undefined, true),dataTestId:"arrow-back-button",icon:"arrow-back",iconColor:"dark",onClick:()=>{(0,B.My)("dweb.qr_code_modal.back_button.click"),et({type:"login"})},size:"md"}),th]}),(0,p.jsx)(eN,{}),(0,p.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:eD.mM},width:["login_page","revamped_business_login_page"].includes(e)?void 0:400,children:(0,p.jsx)(eF,{container:e,modalType:"loginQRCode",titleText:U.bt("Сканирование с помощью телефона", "Scan with your phone", "desktopLoginModal.qrCode.title", undefined, true)})}),(0,p.jsx)(e8,{container:e,nextUrlParam:P})]})});default:return null}}},383774:(e,t,o)=>{"use strict";o.d(t,{Z:()=>l});var s=o(883119),i=o(233846),a=o(174646),n=o(785893);let l=({onClick:e,zIndex:t})=>{let o=(0,a.B)(),l=(0,i.ZP)();return(0,n.jsx)(s.xu,{"data-test-id":"full-page-signup-close-button",display:"block",height:40,left:o.isRTL,marginEnd:4,marginStart:4,marginTop:4,position:"absolute",right:!o.isRTL,top:!0,width:40,zIndex:t?new s.Ry(t):void 0,children:(0,n.jsx)(s.hU,{accessibilityLabel:l.bt("закрыть", "close", "accessible label for close button", undefined, true),icon:"cancel",iconColor:"darkGray",onClick:e,size:"md"})})}},612583:(e,t,o)=>{"use strict";o.d(t,{Z:()=>S});var s=o(667294),i=o(883119),a=o(889989),n=o(67503),l=o(846382),r=o(245497),c=o(17151),d=o(778661),u=o(517585),_=o(233846),h=o(624366),g=o(693806),p=o(353401),m=o(91672),x=o(250964),f=o(281508),y=o(964273),w=o(967312),b=o(174646),v=o(112800),P=o(755090),k=o(785893);let A=({container:e,isAccountSwitch:t,nextUrlParam:o,onLoginWithMfa:l,onLoginWithSuspended:w,onLoginWithVoluntarilyDeactivated:A,showResponseMessageModal:S,socialSignupCallbacks:E,tooltip:C,showLoginRateLimited:z,onClick:T,logoCentered:j=!1,buttonStatic:L=!1,handleGoogleConnectResponseOverride:R})=>{let{viewer:{type:B}}=(0,a.B$)(),M=(0,c.Z)(),I=(0,u.a2)(),Z=(0,_.ZP)(),O=(0,x.l)(),N=(0,s.useRef)(null),{locale:F}=(0,b.B)(),D=(0,s.useRef)(!1);return(0,P.Z)(()=>(window.googleConnectButtonContainer=e||"",()=>{delete window.googleConnectButtonContainer})),(0,P.Z)(()=>{let s=({credential:s,select_by:i})=>{if(R)return void R();let a=(0,m.mK)((0,m.PL)(i));M({creds:{google_open_id_token:s},loggingOptions:{loggingData:{container:window.googleConnectButtonContainer,page:I?.pageType,trigger:a},loginAttemptContextEvent:{event_type:7534,element:12981,aux_data:{...(0,d.Z)(B),signup_login_method:y.Z.GPLUS}}},isAccountSwitch:t}).then(s=>{let i=s?.resource_response.data?.user;t&&i&&(0,h.Z)(i,"google",e),S?S(!1):f.ZP.handleRedirect(o||f.ZP.defaultSocialLoginRedirectUrl())},e=>{switch(g.ik.includes(e.api_error_code??0)&&z?.(),e.api_error_code){case g.E6:A?.(e.message);break;case g.Zn:l?.({google_open_id_token:s},{phoneNumberEnd:e.data?.phone_number_end});break;case g.xN:if("ACCOUNT_RECOVERY"===E.type)E.switchToAccountRecoverySignupFlow("google");else{(0,v.Rp)({event:"start",provider:"google"});let e=(0,p.Z)(s),t={container:window.googleConnectButtonContainer,page:I?.pageType,trigger:a},o={type:"google",google_open_id_token:s,first_name:e.given_name,last_name:e.family_name,image_url:e.picture};E.switchToSocialSignupWithAgeFlow({type:"google",context:t,signupOptions:{...o}})}break;case g.iU:(0,n.x)(e.message||"");break;default:e.api_error_code===g.an&&w?w():(0,n.x)(Z.bt("При входе в систему произошла ошибка.", "Sorry, we can't log you in.", "error message when user failed to login caused by suspend/deactivated etc.", undefined, true))}})};return(async()=>{await O?.ensureInit("button",s)})(),()=>{O?.removeButtonCallback(s)}}),(0,s.useEffect)(()=>{N.current&&(0,m.Fm)()&&!D.current&&((0,m.ru)({buttonRef:N,locale:F,isDesktop:!0,logo_alignment:j?"center":"left",onClick:T}),D.current=!0)},[F,j,T]),(0,k.jsxs)(i.xu,{"data-test-id":"google-connect-button",position:"relative",children:[(0,k.jsx)(i.xu,{height:44,children:(0,k.jsx)(i.xu,{ref:N,position:L?"static":"absolute",width:"100%"})}),!!C&&(0,k.jsx)(r.Z,{anchor:N.current,message:C})]})};function S(e){let{checkExperiment:t}=(0,w.F)(),{anyEnabled:o}=t("web_google_disabled");return o?(0,k.jsx)(l.Z,{tooltip:e.tooltip}):(0,k.jsx)(A,{...e})}},846382:(e,t,o)=>{"use strict";o.d(t,{Z:()=>d});var s=o(667294),i=o(883119),a=o(773385),n=o(245497),l=o(58564),r=o(233846),c=o(785893);function d(e){let t=(0,r.ZP)(),{tooltip:o,onClick:d,textOption:u}=e,[_,h]=(0,s.useState)(),g=(0,s.useRef)(null),p=(0,c.jsxs)(i.kC,{alignItems:"center",justifyContent:"center",children:[(0,c.jsx)(i.xu,{height:24,marginTop:1,width:24,children:(0,c.jsx)(l.Z,{size:20})}),(0,c.jsx)(i.xu,{marginStart:2,children:(0,c.jsxs)(i.xv,{weight:"bold",children:["alternativeAuth"===u&&t.bt("Привязать аккаунт к Google", "Link account to Google", "googleSocialConnectButtonWithDisabledSDK.buttonText", undefined, true),"accountRecovery"===u&&t.bt("Настроить вход через Google", "Set up Google login", "unauthGoogleConnectButtonForAccRecovery.buttonText", undefined, true),!u&&t.bt("Подключиться через Google", "Connect with Google", "googleConnectButtonWithDisabledSDK.buttonText", undefined, true)]})})]});return(0,c.jsxs)(i.xu,{ref:g,"data-test-id":"google-connect-button",position:"relative",children:[(0,c.jsx)(i.iP,{onTap:d?d():()=>h(!0),children:"alternativeAuth"===u?(0,c.jsx)(i.xu,{alignItems:"center",color:"default",display:"flex",height:44,justifyContent:"center",marginTop:2,paddingX:4,position:"relative",rounding:5,width:"100%",children:p}):(0,c.jsx)(i.xu,{alignItems:"center",color:"secondary",display:"flex",height:"accountRecovery"===u?48:40,justifyContent:"center",marginTop:2,position:"relative",rounding:5,width:"100%",children:p})}),!!o&&(0,c.jsx)(n.Z,{anchor:g.current,message:o}),_&&(0,c.jsx)(a.Z,{onDismiss:()=>h(!1),type:"google"})]})}},729402:(e,t,o)=>{"use strict";o.d(t,{Z:()=>r});var s=o(883119),i=o(69466),a=o(233846),n=o(316866),l=o(785893);let r=({useDefaultText:e})=>{let{limitedLoginModalSubheader:t}=(0,n.H)(),o=(0,a.ZP)();return(0,l.jsx)(s.xv,{align:"center",overflow:"normal",children:e||!t?(0,i.lt)(o):t.text})}},698352:(e,t,o)=>{"use strict";o.d(t,{OL:()=>ep,ZP:()=>ex});var s=o(667294),i=o(616550),a=o(883119),n=o(19963),l=o(718369),r=o(182997),c=o(222106),d=o(368775),u=o(889989),_=o(67503),h=o(518761);let g=()=>o.e(51798).then(o.bind(o,833858)),p=({onError:e,onEventReceived:t,onSuccess:o,rerequestFacebookEmail:s,viewer:i})=>{let a=null,n=s=>{let i=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"");if(s.origin!==i||"social-connect-complete"!==s.data.type&&"social-connect-error"!==s.data.type)return;let n=s.data;"facebook"===n.network&&(t(),a&&clearInterval(a),"social-connect-error"===n.type?e("OTHER_ERROR"):o({type:"PROFILE",profile:n.profile}))};if(window.addEventListener("message",n),s)g().then(({default:t})=>{t(t=>{t?.login(t=>{"connected"===t.status&&(t.authResponse.grantedScopes?.split(",")||[]).includes("email")?o({type:"ACCESS_TOKEN",id:t.authResponse.userID,access_token:t.authResponse.accessToken}):e("OTHER_ERROR")},{scope:"email",auth_type:"rerequest",return_scopes:!0})},i)});else{let t=(0,h.Z)(),o=window.open("/connect/facebook/","",t);o?a=setInterval(()=>{o.closed&&(a&&clearInterval(a),e("OTHER_ERROR"))},1e3):e("POPUP_DISABLED")}return{unsubscribe:()=>{window.removeEventListener("message",n)}}};var m=o(785893);function x(e){let[t,o]=(0,s.useState)(!1);return!t&&e.message?(0,m.jsx)(a.J2,{anchor:e.anchor,color:"darkGray",idealDirection:"right",onDismiss:()=>o(!0),shouldFocus:!1,size:"md",children:(0,m.jsx)(a.xu,{padding:3,children:(0,m.jsx)(a.xv,{color:"light",overflow:"noWrap",size:"200",weight:"bold",children:e.message})})}):null}var f=o(773385),y=o(17151),w=o(778661),b=o(517585),v=o(18644),P=o(233846),k=o(624366),A=o(693806),S=o(996552),E=o(591471),C=o(801888),z=o(281508),T=o(964273),j=o(967312),L=o(174646),R=o(112800),B=o(677316),M=o(358549),I=o(882368),Z=o(892249);function O(e,t,o){var s;return(t="symbol"==typeof(s=function(e,t){if("object"!=typeof e||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var s=o.call(e,t||"default");if("object"!=typeof s)return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?s:s+"")in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}let N=e=>"PROFILE"===e.type?{facebook_id:e.profile.id}:{facebook_id:e.id,facebook_token:e.access_token};class F extends s.Component{constructor(...e){super(...e),O(this,"state",{showModal:!1}),O(this,"unsubscribeThisButton",null),O(this,"loginWithFacebook",({facebookConnectData:e,isAccountSwitch:t,handlePostSuccessConnect:o,loadingIndicatorCallback:s})=>{let{checkExperiment:i,container:a,desktopCoreLoginContext:{getDeviceAppTypeString:n},i18n:l,login:r,disableFBSignup:c,nextUrlParam:d,onLoginWithMfa:u,onLoginWithSuspended:h,pageContext:g,showResponseMessageModal:p,showLoginRateLimited:m,socialSignupCallbacks:x}=this.props,f={container:a,page:g?.pageType},y=N(e);r({creds:y,loggingOptions:{loggingData:f,loginAttemptContextEvent:this.signupLoginContextEvent(7534)},isAccountSwitch:t}).then(e=>{let s=e?.resource_response.data?.user;t&&s&&(0,k.Z)(s,"facebook",a),(0,R.My)("login.facebook."+n()),p?p(!0):(i("dweb_arr_modal_post_fb_login").anyEnabled&&(0,Z.I9)(),z.ZP.handleRedirect(d||z.ZP.defaultSocialLoginRedirectUrl())),o?.()},e=>{let t=(0,v.Z)(e,"api_error_code");t===A.Zn?(s?.(!1),(0,R.My)("login.facebook."+n()),u?.(y,{phoneNumberEnd:e.data?.phone_number_end})):t===A.xN||t===A.lg?(c?.(),"ACCOUNT_RECOVERY"===x.type&&x.switchToAccountRecoverySignupFlow("facebook")):A.ik.includes(t??0)?m?.():t===A.iU?(0,_.x)((0,v.Z)(e,"message")||""):(t&&(0,R.My)(`facebook_button.failed_login_${t}`),t===A.an&&h?h():(0,_.x)(l.bt("При входе в систему произошла ошибка.", "Sorry, we can't log you in.", "error message when user failed to login caused by suspend/deactivated etc.", undefined, true)))})}),O(this,"statusChangeCallback",e=>{let t;this.props.onClick?.();let{connectErrorMessage:o,handlePostSuccessConnect:s,isAccountSwitch:i,loadingIndicatorCallback:a}=this.props;if((0,R.EX)({event:"start",provider:"facebook"}),"connected"===e.status){let{authResponse:o}=e;(0,R.My)("web.facebook_connect_button.login_status.connected"),a?.(!0),this.loginWithFacebook({facebookConnectData:{type:"ACCESS_TOKEN",id:o.userID,access_token:o.accessToken},isFromStatusChange:!0,isAccountSwitch:i,handlePostSuccessConnect:s,loadingIndicatorCallback:a}),t="success"}else"not_authorized"===e.status?((0,R.My)("web.facebook_connect_button.cancel.not_authorized"),(0,_.x)(o),t="not_authorized"):((0,R.My)("web.facebook_connect_button.cancel.unknown"),(0,_.x)(o),t="other_error");let{handlePostConnectClick:n}=this.props;n?.(t)})}componentDidMount(){if(this.props.webFacebookDisabled)return;"undefined"!=typeof window&&(window.statusChangeCallback=this.statusChangeCallback,window.checkLoginState=()=>this.checkLoginState(),window.fbConnectButtonContainerStack?window.fbConnectButtonContainerStack.push(this.props.container):window.fbConnectButtonContainerStack=[this.props.container],window.nextUrlParam=this.props.nextUrlParam,window.fbButtonMounted=window.fbButtonMounted?window.fbButtonMounted+1:1);let{requestContext:{userAgent:{platform:e}}}=this.props;if(["ios","ipad"].includes(e))if(window.fb_init!==E.Z.STARTED&&window.fb_init!==E.Z.FINISHED)this.initializeFB();else if(window.fb_init===E.Z.FINISHED&&window.FB.XFBML)window.FB.XFBML.parse();else{let e=setInterval(()=>{window.fb_init===E.Z.FINISHED&&window.FB.XFBML&&(window.FB.XFBML.parse(),clearInterval(e))},100)}else setTimeout(()=>{window.__branchRedirectToStore||!window.__branchPinterestStarted?this.initializeFB():window.onbeforeunload=()=>{window.__branchRedirectToStore&&this.initializeFB()}},50);this.props.isRerequest&&(this.props.loadingIndicatorCallback?.(!1),this.props.showSignupWelcomeLoadingFn?.(!1)),(0,R.My)("pcons.dweb.facebook_connect_button_rendered")}componentDidUpdate(){window.nextUrlParam=this.props.nextUrlParam}componentWillUnmount(){if("undefined"!=typeof window){if(window.fbButtonMounted-=1,window.fbConnectButtonContainerStack){let e=window.fbConnectButtonContainerStack.indexOf(this.props.container);e>=0&&window.fbConnectButtonContainerStack.splice(e,1)}0===window.fbButtonMounted&&(delete window.statusChangeCallback,delete window.checkLoginState,delete window.nextUrlParam)}}initializeFB(){let{requestContext:{locale:e}}=this.props;null!==this.profilePicButton&&(void 0!==window.FB&&null!==window.FB?window.FB.XFBML.parse():(window.fbAsyncInit=()=>(0,S.sl)(),((t,o)=>{let s="script",i=t.getElementsByTagName(s)[0];if(t.getElementById(o))return;let a=t.createElement(s);a.id=o,a.src=(0,C.Z)(e),i&&i.parentNode&&i.parentNode.insertBefore(a,i)})(document,"facebook-jssdk")))}checkLoginState(){window.FB.getLoginStatus(e=>{this.statusChangeCallback&&this.statusChangeCallback(e)})}signupLoginContextEvent(e){let{desktopCoreLoginContext:{viewer:t}}=this.props;return{event_type:e,aux_data:{...(0,w.Z)(t.type),signup_login_method:T.Z.FACEBOOK}}}renderProfilePicButtonWithFallback(){let{i18n:e,isRerequest:t,showFallback:o,container:s,checkExperiment:i}=this.props,n=i("dweb_unauth_turn_on_personalized_fb_button").anyEnabled?"true":void 0;return(0,m.jsxs)(a.xu,{ref:e=>{this._fallbackButton=e},"data-test-id":"facebook-connect-button",children:[(0,m.jsx)(a.iP,{onTap:()=>{let{connectErrorMessage:e,desktopCoreLoginContext:{getDeviceAppTypeString:t},i18n:o,webFacebookDisabled:s,viewer:i,trackInteraction:a,trackConversionUpsell:n}=this.props;if(s)return void this.setState({showModal:!0});a({action:"click",item:"facebook-connect-button"}),(0,R.NC)("press_facebook_login_fallback"),(0,R.My)(`unauth_web.social_connect.facebook.${t()}`),(0,R.EX)({event:"start",provider:"facebook"}),n({eventType:14689,element:13505}),this.unsubscribeThisButton?.();let{unsubscribe:l}=p({onSuccess:e=>{(0,R.My)("unauth_web.facebook_connect.manual.success"),this.loginWithFacebook({facebookConnectData:e,isFromStatusChange:!1})},onError:t=>{(0,R.My)("unauth_web.facebook_connect.manual.failure"),(0,_.x)("POPUP_DISABLED"===t?o.bt("Необходимо включить всплывающие окна!", "You must enable popups!", " - ", undefined, true):e)},onEventReceived:()=>{this.unsubscribeThisButton?.()},rerequestFacebookEmail:this.rerequestFacebookEmail,viewer:i});this.unsubscribeThisButton=()=>{l(),this.unsubscribeThisButton=null}},children:(0,m.jsx)(a.xu,{alignItems:"center",color:"infoBase",dangerouslySetInlineStyle:{__style:{padding:"0px 0px 0px 8px"}},display:"flex",height:40,justifyContent:"revamped_business_login_page"===s?"center":"start",marginTop:0,position:o?"relative":"absolute",rounding:1,width:"100%",children:(0,m.jsxs)(a.kC,{alignItems:"center",justifyContent:"revamped_business_login_page"===s?"center":"start",children:[(0,m.jsx)(a.xu,{"aria-hidden":!0,color:"default",dangerouslySetInlineStyle:{__style:{paddingTop:5}},height:24,marginStart:1,paddingX:1,rounding:1,width:24,children:(0,m.jsx)(a.JO,{accessibilityLabel:"",color:"info",icon:"facebook",inline:!0,size:19})}),(0,m.jsx)(a.xu,{display:"inlineBlock",margin:6,marginStart:2,paddingY:1,width:"revamped_business_login_page"===s?void 0:"88%",children:(0,m.jsx)(a.xv,{color:"light",size:"300",weight:"bold",children:e.bt("Войти через Facebook", "Continue with Facebook", " - ", undefined, true)})})]})})}),!o&&(0,m.jsx)(a.xu,{ref:e=>{this.profilePicButton=e},dangerouslySetInlineStyle:{__style:{textAlign:"revamped_business_login_page"===s?"center":"left"}},height:40,children:(0,m.jsx)("div",{className:"fb-login-button","data-auth-type":t?"rerequest":void 0,"data-button-type":"continue_with","data-layout":"default","data-onlogin":"checkLoginState","data-scope":(0,S._V)().join(","),"data-size":"large","data-use-continue-as":n,"data-width":"268px"})})]})}render(){let{tooltip:e}=this.props;return(0,m.jsxs)(a.xu,{position:"relative",children:[this.renderProfilePicButtonWithFallback(),(0,m.jsx)(x,{anchor:this._fallbackButton??null,message:e??null}),this.state.showModal&&(0,m.jsx)(f.Z,{onDismiss:()=>this.setState({showModal:!1}),type:"facebook"})]})}}function D(e){let t=(0,P.ZP)(),o=(0,L.B)(),s=(0,u.B$)(),i=(0,b.a2)(),{checkExperiment:a}=(0,j.F)(),n=(0,I.Z)(),l=(0,B.Z)(),{trackConversionUpsell:r}=(0,M.Z)(),{anyEnabled:c}=a("web_facebook_disabled");return(0,m.jsx)(F,{...e,checkExperiment:a,connectErrorMessage:t.bt("Не удалось установить соединение. Необходимо предоставить Pinterest доступ.", "Couldn't connect. You must authorize Pinterest.", " - ", undefined, true),desktopCoreLoginContext:s,i18n:t,login:(0,y.Z)(),pageContext:i,requestContext:o,trackConversionUpsell:r,trackInteraction:l,viewer:n,webFacebookDisabled:c})}var U=o(612583),G=o(755090);function W({onClick:e,navigateToLogin:t}){let[o,i]=(0,s.useState)(!1),n=(0,P.ZP)(),{checkExperiment:l}=(0,j.F)();(0,G.Z)(()=>{(0,R.My)("dweb.desktop_login_modal.magic_link_button.view")});let r=l("dweb_unauth_magic_link_login_exp_v0",{dangerouslySkipActivation:!0}).anyEnabled?n.bt("Войти в аккаунт без пароля", "Log in without password", "unauth.loginForm.magicLinkLoginButton2", undefined, true):n.bt("Использовать одноразовую ссылку", "Use one-time link", "unauth.loginForm.magicLinkLoginButton", undefined, true);return(0,m.jsx)(a.iP,{accessibilityHaspopup:!0,accessibilityLabel:"Magic link login button",onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),onTap:()=>{(0,R.My)("dweb.magic_link_login_button.click"),e?.()},children:(0,m.jsxs)(a.xu,{alignItems:"center",borderStyle:"sm",color:o?"secondary":"default",display:"flex",height:40,justifyContent:"between",marginBottom:2,marginTop:2,position:"relative",rounding:1,width:"100%",children:[(0,m.jsx)(a.xu,{height:24,marginEnd:-5,marginStart:3,marginTop:1,width:24,children:(0,m.jsx)(a.JO,{accessibilityLabel:n.bt("значок электронной почты", "email icon", "desktopLoginModal.magicLinkButtonIcon.accessibilityLabel", undefined, true),color:"default",icon:"gmail",size:20})}),(0,m.jsx)(a.xu,{marginEnd:"auto",marginStart:"auto",width:232,children:(0,m.jsx)(a.xv,{align:"center",weight:"bold",children:t?n.bt("Продолжить с паролем", "Continue with password", "unauth.loginForm.switchToPasswordLoginButton", undefined, true):r})})]})})}function V({onClickHandler:e}){let[t,o]=(0,s.useState)(!1),i=(0,P.ZP)();return(0,m.jsx)(a.iP,{accessibilityHaspopup:!0,accessibilityLabel:"QR code login button",onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),onTap:()=>{(0,R.My)("dweb.qr_code_login_button.click"),e?.()},children:(0,m.jsxs)(a.xu,{alignItems:"center",borderStyle:"sm",color:t?"secondary":"default",display:"flex",height:40,marginBottom:2,marginTop:1,padding:3,position:"relative",rounding:1,width:"100%",children:[(0,m.jsx)(a.xu,{children:(0,m.jsx)(a.JO,{accessibilityLabel:"QR code",color:"default",icon:"qr-code",inline:!0,size:"18"})}),(0,m.jsx)(a.xu,{alignItems:"center",marginStart:13,children:(0,m.jsx)(a.xv,{size:"300",children:i.bt("Использовать QR-код", "Use QR code", "unauth.desktopWeb.loginForm.qrCodeLoginButton", undefined, true)})})]})})}var H=o(778442),q=o(80421),$=o(95460),Y=o(397657),K=o(94970),X=o(900957),Q=o(51340),J=o(415862),ee=o(974946),et=o(20992),eo=o(435035),es=o(456535),ei=o(181710),ea=o(142212),en=o(72613),el=o(251719),er=o(352322),ec=o(331935),ed=o(992114);function eu(e,t,o){var s;return(t="symbol"==typeof(s=function(e,t){if("object"!=typeof e||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var s=o.call(e,t||"default");if("object"!=typeof s)return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?s:s+"")in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}let e_=(0,s.lazy)(()=>o.e(34514).then(o.bind(o,34514))),eh=ea.lfe,eg="loginmodal",ep="6LeZIo0UAAAAAKFpimHio-ff_ddIT8f_QzpXG0_1";class em extends s.Component{constructor(e){super(e),eu(this,"onLoginWithVoluntarilyDeactivated",e=>this.setState({googleValidationError:e})),eu(this,"onLoginWithSuspended",()=>{let{loadingIndicatorCallback:e}=this.props;e&&e(!1),this.setState({accountRecoveryModalType:c.w[A.an],loading:!1})}),eu(this,"onloadCallback",()=>{try{window.recaptchaIdOne=window.grecaptcha.render("recaptcha_placeholder_1",{sitekey:ep,callback:"verifyCaptcha"})}catch(e){}try{window.recaptchaIdTwo=window.grecaptcha.render("recaptcha_placeholder_2",{sitekey:ep,callback:"verifyCaptcha"})}catch(e){}}),eu(this,"handleButtonClick",async(e,t,o)=>{let{authenticateWithSso:s,desktopCoreLoginContext:{viewer:i},email:a,handleSsoRedirect:n,history:l,logContextEvent:r}=this.props,{isSsoEmail:c,exchangeCodeToTokenUrl:d,existingUserSso:u,existingUserIsSso:_,ssoAuthorizationUri:h}=this.state;if(c){if(!u&&a){n&&n(),(0,ee.i)(a,l);return}else if(_){r({event_type:101,element:14367,aux_data:{...(0,w.Z)(i.type),signup_login_method:T.Z.SSO}}),s({callbacks:{success:e=>{let{authCode:s,state:i}=e;a&&s&&this.loginUser("sso",{sso_user_email:a??"",sso_auth_code:s,sso_state:i},t,o)},error:e=>{(0,R.My)(`unauth.login.sso.error.${eg}`,{code:e.api_error_code,message:e.message}),this.handleLoginFailure("sso",{api_error_code:0},{sso_user_email:"",sso_auth_code:"",sso_state:""})}},exchangeCodeToTokenUrl:d,isLogin:!0,modalUrl:h??""});return}}r({event_type:101,element:30,aux_data:{...(0,w.Z)(i.type),signup_login_method:T.Z.EMAIL}}),this.setState({googleValidationError:null,hideFBGoogleToolTip:!1});let g=(0,er.Z)(this.props.email??"",this.emailValidators);if(g)this.setState({emailValidationError:g}),(0,R.My)(`unauth.login.error.CLIENT_ERROR.malformemail.${eg}`);else{this.setState({emailValidationError:null}),g=await (0,er.U)(this.props.password,this.passwordValidators);let e=(0,er.Z)(this.props.password,this.asciiValidators);g?(this.setState({passwordValidationError:g}),(0,R.My)(`unauth.login.error.CLIENT_ERROR.malformpwd.${eg}`)):e?(this.setState({passwordValidationError:e}),(0,R.My)(`unauth.login.error.CLIENT_ERROR.malformpwd.${eg}`)):(this.setState({passwordValidationError:null}),this.loginUser("email",void 0,t,o))}}),eu(this,"updateAccountRecoveryModal",e=>this.setState({accountRecoveryModalType:e})),eu(this,"loadRecaptchaView",()=>{if("undefined"!=typeof document&&document.head)if(document.getElementById("recaptcha-jssdk"))this.onloadCallback();else{let e=document.createElement("script");e.id="recaptcha-jssdk",e.src="https://www.recaptcha.net/recaptcha/api.js?onload=onloadCallback&render=explicit",document.head&&document.head.appendChild(e)}}),eu(this,"handleLoginFailure",(e,t,o)=>{let{email:s,i18n:i,loadingIndicatorCallback:n,setPassword:l,requestContext:r}=this.props;(0,R.My)(`unauth.login.error.LOGIN_FAILURE.${e}`),n(!1),this.props.refreshRecaptchaV3Token&&this.props.refreshRecaptchaV3Token();let d=t.http_status||t.httpStatus,u=d===es.Ej?es.Ej:t.api_error_code;if(u===A.Zn)return void z.ZP.handleLoginMfa(o,{phoneNumberEnd:t.data?.phone_number_end},this.props.onLoginWithMfa);if(d===es.Ej&&u===A.bd&&t.message&&"!"!==t.message[t.message.length-1]&&!z.ZP.isExceedRecaptchaLocalLimit()||u===A._K&&d===es.AB&&!z.ZP.isExceedRecaptchaLocalLimit()){this.loadRecaptchaView(),this.setState({passwordValidationError:i.bt("Ой! Вход выполнен слишком быстро. Повторите попытку с reCAPTCHA.", "Oops! You logged in too quickly. Please try again with the reCAPTCHA.", "Error message showing to user when his/her login attempt exceeds ip based rules, ask they to retry using recaptcha", undefined, true),loading:!1});return}if(d===es.Rl&&u===A.q1){(0,R.My)("unauth.dweb.login_form.error.invalid_password_google_user");let e=r.experimentsClient.checkExperiment("dweb_unauth_assist_google_connected_users",{dangerouslySkipActivation:!0}).group.includes("modal");this.setState({passwordValidationError:t.message,googleValidationError:e?null:i.bt("Войдите с помощью кнопки Google", "Log in with Google button", "dweb.login.badPassword.googleConnected.tooltip", undefined, true),accountRecoveryModalType:e?z.Ny.LOGIN_GOOGLE:null,loading:!1});return}if(d===es.Rl&&u===A.nY){(0,R.My)("unauth.dweb.login_form.error.invalid_password_fb_user"),this.setState({passwordValidationError:(0,m.jsx)(a.xv,{color:"error",size:"200",children:(0,Q.nk)(i.bt("Ваш аккаунт подключен к Facebook, но вход через Facebook больше недоступен. {{ accountRecoveryLink }}", "Your account is connected to Facebook, but Facebook login is no longer available. {{ accountRecoveryLink }}", "unauth.desktopWeb.loginForm.errorMessage.fbLoginUnavailable", undefined, true),{accountRecoveryLink:(0,m.jsx)(a.xu,{display:"inlineBlock",children:(0,m.jsx)(a.rU,{href:ea.lfe,target:"blank",children:(0,m.jsx)(a.xv,{color:"error",size:"200",underline:!0,children:i.bt("Восстановить аккаунт", "Recover your account", "unauth.desktopWeb.loginForm.errorMessage.fbLoginUnavailable.accountRecoveryLink", undefined, true)},"err_text")})})})}),loading:!1});return}let h=(0,J.Z)({error:t,source:"login",onClickPasswordReset:()=>{(0,R.My)("unauth_password_reset_link_tapped"),(0,Y.Z)({url:"/v3/users/forgot_password/",method:"POST",data:{username_or_email:s,type:r.experimentsClient.checkExperiment("unauth_dweb_unified_ar").anyEnabled?"unified":"reset"}}).then(()=>this.updateAccountRecoveryModal(z.Ny.PASSWORD_RESET_SENT))}});h?(this.setState({...h,accountRecoveryModalType:u?c.w[u]:void 0,loading:!1}),h.passwordValidationError&&l("")):((0,R.My)("unauth.login.error.LOGIN_FAILURE.unknow_error",{loginMethod:e,error:t}),(0,_.x)(i.bt("К сожалению, произошла ошибка.", "Sorry! Something went wrong on our end.", " - ", undefined, true)),this.setState({loading:!1}))}),eu(this,"verifyCaptcha",()=>{let e=window.grecaptcha.getResponse(window.recaptchaIdOne)||window.grecaptcha.getResponse(window.recaptchaIdTwo);z.ZP.updateRecaptchaTimeStamp(),this.handleButtonClick(void 0,e),z.ZP.isExceedRecaptchaLocalLimit()||(void 0!==window.recaptchaIdOne&&window.grecaptcha.reset(window.recaptchaIdOne),void 0!==window.recaptchaIdTwo&&window.grecaptcha.reset(window.recaptchaIdTwo))}),eu(this,"handleEmailChange",e=>{this.props.onEmailChange&&this.props.onEmailChange(e),this.debouncedCheckIfSsoUser(),this.setState({hideFBGoogleToolTip:!0})}),eu(this,"handlePasswordChange",e=>{this.state.passwordValidationError&&this.setState({passwordValidationError:null}),this.props.setPassword(e.target.value)}),eu(this,"checkIfSsoUser",async()=>{let{email:e,verifySsoUser:t}=this.props,o=await t(e??"");this.setState({exchangeCodeToTokenUrl:o.exchangeCodeToTokenUrl??"",isSsoEmail:o.isSso,existingUserSso:!!o.existingUser,existingUserIsSso:!!o.existingUserIsSso,ssoAuthorizationUri:o.authorizationUri??""})}),eu(this,"debouncedCheckIfSsoUser",(0,r.Z)(()=>{(0,er.Z)(this.props.email??"",this.emailValidators)?this.state.isSsoEmail&&this.setState({isSsoEmail:!1}):this.checkIfSsoUser()},300)),eu(this,"handleBlur",()=>{this.setState({googleValidationError:null});let e=(0,er.Z)(this.props.email??"",this.asciiValidators);e&&(0,R.My)(`unauth.login.error.CLIENT_ERROR.nonasciiemail.${eg}`),(e=(0,er.Z)(this.props.password,this.asciiValidators))&&(0,R.My)(`unauth.login.error.CLIENT_ERROR.nonasciipwd.${eg}`)}),eu(this,"renderSocialButtons",()=>{if(this.state.isSsoEmail)return null;let{disablePostSignupNextUrl:e,hideFacebookButton:t,hideLineButton:o,hideGoogleButton:i,isAccountSwitch:n,isPersonalizedLoginFlyout:l,inFacebookLoginRecoverExperiment:r,loadingIndicatorCallback:c,nextUrlParam:d,onLoginWithMfa:u,onFBPhoneOnlyConnectVerified:_,onFBMissingEmail:h,shouldHideFBButtonForSignup:g,disableFBSignup:p,container:x="unknown",socialSignupCallbacks:f,showResponseMessageModal:y,isLineAuthenticationEnabled:w,trackConversionUpsell:b}=this.props,{hideFBGoogleToolTip:v}=this.state,P="ACCOUNT_RECOVERY"===f.type?{...f,type:"ACCOUNT_RECOVERY",switchToAccountRecoverySignupFlow:e=>{"facebook"===e?this.updateAccountRecoveryModal(z.Ny.PREVENT_FACEBOOK_REGISTER):"google"===e&&this.updateAccountRecoveryModal(z.Ny.PREVENT_GOOGLE_REGISTER),f.switchToAccountRecoverySignupFlow(e)}}:f,k=e=>{b({element:e,eventType:14689})},A=!(r||g||t)&&(0,m.jsx)(D,{container:x,disableFBSignup:p,disablePostSignupNextUrl:e,isAccountSwitch:n,loadingIndicatorCallback:c,nextUrlParam:d,onClick:()=>{k(13505)},onFBMissingEmail:h,onFBPhoneOnlyConnectVerified:_,onLoginWithMfa:u,onLoginWithSuspended:this.onLoginWithSuspended,showLoginRateLimited:()=>this.updateAccountRecoveryModal(z.Ny.RATE_LIMITED),showResponseMessageModal:y,socialSignupCallbacks:P,tooltip:null}),S=!i&&(0,m.jsx)(U.Z,{container:x,isAccountSwitch:n,logoCentered:"revamped_business_login_page"===x,nextUrlParam:d,onClick:()=>{k(13504)},onLoginWithMfa:u,onLoginWithSuspended:this.onLoginWithSuspended,onLoginWithVoluntarilyDeactivated:this.onLoginWithVoluntarilyDeactivated,showLoginRateLimited:()=>this.updateAccountRecoveryModal(z.Ny.RATE_LIMITED),showResponseMessageModal:y,socialSignupCallbacks:P,tooltip:!v&&"string"==typeof this.state.googleValidationError&&this.state.googleValidationError||null}),E=!o&&w&&(0,m.jsx)($.Z,{name:"SafeSuspense_LineConnectButton",children:(0,m.jsx)(ei.Z,{children:(0,m.jsx)(e_,{container:x,isAccountSwitch:n,loadingIndicatorCallback:c,nextUrlParam:d,onClick:()=>{k(13507)},onLoginWithMfa:u,onLoginWithSuspended:this.onLoginWithSuspended,showLoginRateLimited:()=>this.updateAccountRecoveryModal(z.Ny.RATE_LIMITED),showResponseMessageModal:y,socialSignupCallbacks:P})})}),C=t||i?"0px":"8px";return(0,m.jsxs)(a.xu,{dangerouslySetInlineStyle:{__style:{marginTop:l?"9px":"10px"}},"data-test-id":"login-options",children:[A,!r&&(0,m.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{height:l?C:"10px"}}}),S,!o&&w&&(0,m.jsxs)(s.Fragment,{children:[(0,m.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{height:l?C:"10px"}}}),E]})]})}),eu(this,"renderPasswordLoginButton",()=>"emailSent"===this.props.magicLinkLoginStep?(0,m.jsx)(a.xu,{marginTop:4,children:(0,m.jsx)(W,{navigateToLogin:!0,onClick:this.props.onNavigateToLoginStep})}):null),eu(this,"renderMagicLinkButton",()=>this.state.isSsoEmail||this.props.isAccountSwitch||"select"!==this.props.magicLinkLoginStep&&this.props.magicLinkLoginStep?null:(0,m.jsx)(W,{onClick:this.props.onLoginWithMagicLink})),eu(this,"renderQRCodeButton",()=>!this.state.isSsoEmail&&(0,m.jsx)(V,{onClickHandler:this.props.qrCodeLoginButtonClickHandler})),eu(this,"renderRegisterForm",()=>{let{container:e,disableEmailLogin:t,email:o,hideEmailField:i,hideFacebookButton:n,hideGoogleButton:l,hidePasswordField:r,i18n:c,isAccountSwitch:d,loginButtonTextOverride:u,password:_,suppressFocus:h,logContextEvent:g,requestContext:{isRTL:p},desktopCoreLoginContext:{viewer:x},viewType:f,viewParameter:y,component:b,attributionLabel:v}=this.props,{emailValidationError:P,loading:k,passwordValidationError:A,isSsoEmail:S,existingUserSso:E,existingUserIsSso:C}=this.state,z=S&&(!E||E&&C),T=u||c.bt("Войти", "Log in", "Copy on the button to log in", undefined, true);z&&(T=c.bt("Продолжить с помощью единого входа", "Continue with SSO", "loginButtonTextOverride.sso", undefined, true));let j=A&&(0,s.isValidElement)(A)?null:(0,m.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{float:p?"right":"left"}},marginBottom:3,marginTop:2,children:(0,m.jsx)(a.xv,{size:"200",weight:"bold",children:(0,m.jsx)(a.rU,{href:eh+(o?`?ue=${o}`:""),onClick:({dangerouslyDisableOnNavigation:e})=>{e(),(0,R.My)("login_modal_forget_account"),(0,R.NC)("click_forget_password"),g({event_type:101,element:10881,aux_data:{...(0,w.Z)(x.type)}})},children:c.bt("Забыли пароль?", "Forgot your password?", "Desktop login modal link for users to recover their account", undefined, true)})})});return(0,m.jsx)(H.Z,{attributionLabel:v,buttonText:T,component:b,container:e,disableEmailLogin:t,email:o,emailText:c.bt("Адрес электронной почты", "Email", "Placeholder text for email field", undefined, true),emailValidationError:P,hideEmailField:i,hideFacebookButton:n,hideGoogleButton:l,hidePasswordField:r,isSsoEmail:z,loading:k&&!d,onButtonClick:(e,t)=>{this.handleButtonClick(void 0,void 0,t)},onEmailBlur:this.handleBlur,onEmailChange:this.handleEmailChange,onPasswordChange:this.handlePasswordChange,password:_,passwordResetLink:j,passwordText:c.bt("Пароль", "Password", " - ", undefined, true),passwordValidationError:A,suppressFocus:h,viewParameter:y,viewType:f})}),eu(this,"renderOriginalForm",()=>{let{hideFacebookButton:e,hideGoogleButton:t,hidePasswordField:o,isAccountSwitch:i,requestContext:a,magicLinkLoginStep:n}=this.props,l=!o&&(!t||!e)&&!this.state.isSsoEmail;return(0,m.jsxs)(s.Fragment,{children:["emailInput"!==n&&"emailSent"!==n&&this.renderRegisterForm(),l&&(0,m.jsx)(d.Z,{}),this.renderPasswordLoginButton(),"enabled"===a.experimentsClient.checkExperiment("dweb_unauth_magic_link_login_exp_v0").group&&this.renderMagicLinkButton(),this.renderSocialButtons(),"enabled_bottom"===a.experimentsClient.checkExperiment("dweb_unauth_magic_link_login_exp_v0").group&&this.renderMagicLinkButton(),!i&&a.experimentsClient.checkExperiment("dweb_unauth_qr_code_login_v1").anyEnabled&&this.props.qrCodeLoginButtonClickHandler&&this.renderQRCodeButton()]})}),eu(this,"renderButtons",()=>this.renderOriginalForm()),eu(this,"renderTextAndLinkToSignup",()=>{let{onRedirectToSignup:e=()=>{}}=this.props;return(0,m.jsxs)(a.xu,{display:"flex",paddingY:6,children:[(0,m.jsx)(a.xv,{size:"300",weight:"normal",children:this.props.i18n.bt("У вас еще нет бизнес-аккаунта?", "Don’t have a business account?", "businessAccountCreate.signupLink.text", undefined, true)}),(0,m.jsx)(a.xu,{marginStart:1,children:(0,m.jsx)(a.rU,{display:"inlineBlock",href:"#",onClick:({event:t,dangerouslyDisableOnNavigation:o})=>{t.preventDefault(),o(),e()},children:(0,m.jsx)(a.xv,{size:"300",weight:"normal",children:this.props.i18n.bt("Создать бесплатно", "Create one for free", "businessAccountCreate.signupLink.CTA", undefined, true)})},0)})]})}),this.state={accountRecoveryModalType:null,emailValidationError:null,passwordValidationError:null,googleValidationError:null,loading:!1,hideFBGoogleToolTip:!1,isSsoEmail:!1,existingUserSso:!1,existingUserIsSso:!1,exchangeCodeToTokenUrl:""};let{i18n:t}=e,o=t.bt("Вы кое-что забыли! Укажите свой адрес электронной почты.", "You missed a spot! Don't forget to add your email.", " - ", undefined, true),i=t.bt("Хм… Это не похоже на адрес электронной почты.", "Hmm...that doesn't look like an email address.", " - ", undefined, true),n=t.bt("Используйте только сочетания букв, цифр и специальных символов (например: ?, !, $).", "Use only a mix of letters, numbers and special characters (for example: ?, !, $).", "Login.password.onlyASCII", undefined, true);this.emailValidators=[(0,ec.aH)({message:o}),(0,ec.GT)({message:i})];let l=t.bt("Неправильный пароль.", "The password you entered is incorrect.", " - ", undefined, true);this.passwordValidators=[(0,el.Z)({shortPassStr:l,samePasswordStr:l,blackPassStr:l})],this.asciiValidators=[(0,ec.oR)({message:n})]}componentDidMount(){let{isAccountSwitch:e,email:t,nextUrlParam:o,requestContext:s,showResponseMessageModal:i}=this.props;z.ZP.isFullyLoggedIn(s.isAuthenticated,s.loginState)&&!e&&(i?i(!1):z.ZP.handleRedirect(o)),window.onloadCallback=this.onloadCallback,window.verifyCaptcha=this.verifyCaptcha,void 0===window.recaptchaCount?window.recaptchaCount=1:window.recaptchaCount+=1,t&&this.checkIfSsoUser()}componentWillUnmount(){void 0!==window.recaptchaCount&&(window.recaptchaCount-=1)}loginUser(e,t,o,s){let{container:i="unknown",email:a,flushContextEvents:n,isAccountSwitch:l,loadingIndicatorCallback:r,login:c,pageContext:d,showResponseMessageModal:u,desktopCoreLoginContext:{viewer:_}}=this.props;this.setState({loading:!0}),r(!0);let h=t||{username_or_email:a||"",password:this.props.password},g={container:i,page:d?d.pageType:void 0},p=T.Z.EMAIL;"facebook"===e?p=T.Z.FACEBOOK:"google"===e?p=T.Z.GPLUS:"sso"===e&&(p=T.Z.SSO),K.Z.pause(X.LU),n(),s?.submitTriggeredTime&&(0,ed.LY)("web_identity_fp_vendors.login.submit.time",performance.now()-s.submitTriggeredTime,{tags:{experiment_group:s.experimentGroup}}),c({creds:h,loggingOptions:{loggingData:g,loginAttemptContextEvent:{event_type:7534,element:"google"===e?12981:void 0,aux_data:{...(0,w.Z)(_.type),signup_login_method:p}}},isAccountSwitch:l,recaptchaV2Token:o,recaptchaV3Token:this.props.recaptchaV3Token||"default",fingerprintData:s}).then((e={})=>{z.ZP.storeLoginCredentialsToBrowser(h);let t=this.props.nextUrlParam||z.ZP.defaultLoginRedirectUrl();if(l&&e.resource_response&&e.resource_response.data&&e.resource_response.data.user){let{user:o}=e.resource_response.data;(0,k.Z)(o,"email",i),t="/"+o.username}else z.ZP.storeLoginCredentialsToBrowser(h);u?u(!1):z.ZP.handleRedirect(t)},t=>this.handleLoginFailure(e,t,h))}render(){let{email:e,container:t}=this.props,o="revamped_business_login_page"===t;return(0,m.jsxs)(a.kC,{alignItems:"center",direction:"column",children:[(0,m.jsxs)(a.xu,{dangerouslySetInlineStyle:{__style:{margin:"0 auto"}},width:o?"100%":268,children:[(0,m.jsx)(c.Z,{email:e||"",modalType:this.state.accountRecoveryModalType,onLoginWithMfa:this.props.onLoginWithMfa,updateAccountRecoveryModal:this.updateAccountRecoveryModal}),this.renderButtons(),o&&this.renderTextAndLinkToSignup()]}),(0,m.jsx)(a.xu,{width:o?"100%":320,children:!this.props.hideTermsOfService&&(0,m.jsx)(en.Z,{})})]})}}function ex(e){let t=(0,P.ZP)(),{flushContextEvents:o,logContextEvent:a}=(0,n.v)(),r=(0,b.a2)(),c=(0,i.k6)(),{recaptchaV3Token:d,refreshToken:_}=(0,eo.D)(),h=(0,u.B$)(),{country:g}=(0,L.B)(),p=(0,y.Z)(),[x,f]=(0,s.useState)(""),{viewType:w,viewParameter:v}=(0,l.SU)(),k=(0,q.g)(),{trackConversionUpsell:A}=(0,M.Z)(),{authenticateWithSso:S,verifySsoUser:E}=(0,et.ZP)(),C=(0,B.Z)();return(0,m.jsx)(em,{...e,authenticateWithSso:S,desktopCoreLoginContext:h,flushContextEvents:o,history:c,i18n:t,isLineAuthenticationEnabled:"JP"===g,logContextEvent:a,login:p,pageContext:r,password:x,recaptchaV3Token:d,refreshRecaptchaV3Token:_,setPassword:f,trackConversionUpsell:A,trackInteraction:C,unauthDesktopSignupModalPageContext:k,verifySsoUser:E,viewParameter:v,viewType:w})}},778442:(e,t,o)=>{"use strict";o.d(t,{Z:()=>R});var s=o(667294),i=o(883119),a=o(973935),n=o(19963);let l={LOGIN:"login",SIGNUP:"signup"},r={ENABLED_ARKOSE:"enabled_arkose",ENABLED_SARDINE:"enabled_sardine",ENABLED_DETECTION:"enabled_detection",ENABLED_CHALLENGE:"enabled_challenge",ENABLED_ARKOSE_ENFORCEMENT:"enabled_arkose_enforcement",ENABLED_SARDINE_ENFORCEMENT:"enabled_sardine_enforcement",ENABLED_ARKOSE_IFRAME:"enabled_arkose_iframe",CONTROL:"control"},c=new Map([[l.LOGIN,"E2AD90FE-BD5D-4567-9768-249F6F8D252C"],[l.SIGNUP,"905FF52E-7CD7-4477-88FC-5AC41787C4E4"]]),d="https://iframe.arkoselabs.com",u=({component:e})=>{let t=document.getElementById("arkoseFrame");t?.contentWindow&&t.contentWindow.postMessage(JSON.stringify({publicKey:c.get(14214===e?l.SIGNUP:l.LOGIN),eventId:"challenge-open"}),d)},_=({component:e,fingerprintData:t,startTimeMs:o,logContextEvent:s,onCompleted:i})=>{window.setupEnforcement=a=>{t.current.arkoseEnforcement=a,a.setConfig({publicKey:c.get(14214===e?l.SIGNUP:l.LOGIN),onCompleted(e){i(e.token)},onReady(){s({event_type:8109,component:e,element:18039,aux_data:{time_in_ms:Math.round(performance.now()-o),is_iframe:!1}})}})}};var h=o(755090),g=o(609924),p=o(785893);let m={CHALLENGE_LOADED:"challenge-loaded",CHALLENGE_SUPPRESSED:"challenge-suppressed",CHALLENGE_COMPLETE:"challenge-complete",CHALLENGE_SHOW:"challenge-show",CHALLENGE_SHOWN:"challenge-shown",CHALLENGE_HIDE:"challenge-hide"},x={width:0,height:0,display:"none",border:"none"},f={display:"flex",height:"100%",width:"100%",position:"fixed",top:0,left:0,zIndex:10001,inset:0,border:"none"};function y({component:e,experimentGroup:t,startTimeMs:o,onChallengeCompleted:i}){let u=t===r.ENABLED_ARKOSE_IFRAME,[_,y]=(0,s.useState)(!1),{logContextEvent:w}=(0,n.v)();if((0,h.Z)(()=>{u&&window.addEventListener("message",t=>{if(!t.data||"object"==typeof t.data||t.origin!==d)return;let s=JSON.parse(t.data);switch(s.eventId){case m.CHALLENGE_LOADED:w({event_type:8109,component:e,element:18039,aux_data:{time_in_ms:Math.round(performance.now()-o),is_iframe:!0}});break;case m.CHALLENGE_COMPLETE:s.payload?.sessionToken&&i(s.payload.sessionToken),y(!1);break;case m.CHALLENGE_SHOW:y(!0);break;case m.CHALLENGE_HIDE:y(!1);case m.CHALLENGE_SUPPRESSED:case m.CHALLENGE_SHOWN:}})}),u){let t=14214===e?l.SIGNUP:l.LOGIN,o=document.getElementById(g.dV);return o&&(0,a.createPortal)((0,p.jsx)("iframe",{id:"arkoseFrame",src:`${d}/${c.get(t)}/lightbox.html`,style:_?f:x,title:"Arkose Challenge"}),o)}return null}let w=["gmail.com","hotmail.com","hotmail.com.ar","yahoo.com.ar","live.com.ar","outlook.com","live.com","bigpond.com","yahoo.com","icloud.com","yahoo.com.au","yahoo.com.br","bol.com.br","yahoo.ca","hotmail.ca","web.de","gmx.de","t-online.de","hotmail.de","hotmail.es","yahoo.es","hotmail.fr","orange.fr","yahoo.fr","live.fr","free.fr","laposte.net","wanadoo.fr","outlook.fr","hotmail.co.uk","rediffmail.com","yahoo.co.in","yahoo.in","libero.it","hotmail.it","alice.it","yahoo.co.jp","ezweb.ne.jp","docomo.ne.jp","i.softbank.jp","softbank.ne.jp","live.com.mx","outlook.es","aol.com","outlook.com","comcast.net"];var b=o(165635),v=o(919642);let P=e=>e?"api.sandbox.sardine.ai":"api.sardine.ai",k=({component:e,startTimeMs:t,logContextEvent:o,onCompleted:s})=>{window._Sardine&&fetch("/session_key",{method:"GET",credentials:"include",headers:{"Content-Type":"application/json",Accept:"application/json"}}).then(async e=>await e.text()).then(i=>{let a=P(!1),n="6036e124-818f-4b73-b254-e531391f6a1c",r=14214===e?l.SIGNUP:l.LOGIN;window._Sardine?.createContext({clientId:n,sessionKey:i,flow:r,environment:"production",parentElement:document.body,onDeviceResponse:a=>{s(i),o({event_type:8109,component:e,element:18040,aux_data:{time_in_ms:Math.round(performance.now()-t),is_iframe:!1}})}});let c=document.createElement("noscript");c.id="sardine-ns",c.innerHTML=`
              <img
                src="https://${a}/v1/a.png?clientId=${n}&sessionKey=${i}&flow=${r}&ns=1"
                style="display: none"
              />
            `,document.body.appendChild(c)})};var A=o(233846),S=o(51340),E=o(350918),C=o(983311),z=o(967312),T=o(112800),j=o(358549),L=o(717616);function R({buttonText:e,buttonTextLabel:t,container:o="",disableEmailLogin:a,email:l,emailFieldHasError:c,emailLabel:d,emailText:g,emailValidationError:m,hideEmailField:x,hideFacebookButton:f,hideGoogleButton:P,hidePasswordField:R,isSsoEmail:B,onButtonClick:M,onEmailBlur:I,onEmailChange:Z,onPasswordChange:O,password:N,passwordResetLink:F,passwordText:D,passwordValidationError:U,signupForm:G,suppressFocus:W,component:V}){let H=(0,A.ZP)(),[q,$]=(0,s.useState)(!!G),[Y,K]=(0,s.useState)(null),[X,Q]=(0,s.useState)(""),{trackConversionUpsell:J}=(0,j.Z)(),{checkExperiment:ee}=(0,z.F)(),{logContextEvent:et}=(0,n.v)(),eo=ee("web_strong_password").anyEnabled,es=(0,s.useRef)(performance.now()),ei=(0,s.useRef)({sardineSessionKey:null,arkoseSessionToken:null,arkoseEnforcement:null,submitTriggeredTime:null,experimentGroup:ee("web_identity_fp_vendors").group}),ea=ei.current.experimentGroup===r.ENABLED_ARKOSE_IFRAME;(0,h.Z)(()=>{switch(ei.current.experimentGroup){case r.ENABLED_ARKOSE:_({component:V,fingerprintData:ei,startTimeMs:es.current,logContextEvent:et,onCompleted:e=>{ei.current.arkoseSessionToken=e}});break;case r.ENABLED_SARDINE:k({component:V,startTimeMs:es.current,logContextEvent:et,onCompleted:e=>{ei.current.sardineSessionKey=e}});break;case r.ENABLED_DETECTION:case r.ENABLED_CHALLENGE:case r.ENABLED_ARKOSE_ENFORCEMENT:case r.ENABLED_SARDINE_ENFORCEMENT:_({component:V,fingerprintData:ei,startTimeMs:es.current,logContextEvent:et,onCompleted:e=>{ei.current.arkoseSessionToken=e}}),k({component:V,startTimeMs:es.current,logContextEvent:et,onCompleted:e=>{ei.current.sardineSessionKey=e}});break;case r.CONTROL:default:et({event_type:8109,component:V,aux_data:{time_in_ms:Math.round(performance.now()-es.current)}})}});let en=m;!en&&(R||a)&&(f||P?!f&&P?en=H.bt("Ваш аккаунт связан с Facebook. Войдите с помощью кнопки Facebook", "Your account is connected to Facebook - use the Facebook button to log in", "Customized desktop login for users with Facebook", undefined, true):f&&!P&&(en=H.bt("Ваш аккаунт связан с Google. Войдите с помощью кнопки Google", "Your account is connected to Google - use the Google button to log in", "Customized desktop login for users with Google", undefined, true)):en=H.bt("Ваш аккаунт связан с Facebook и Google. Войдите с помощью кнопок", "Your account is connected to Facebook and Google - use the buttons to log in", "Customized desktop login for users with FB and Google", undefined, true));let el=R||B,er=e=>{J({element:e,eventType:14689})},ec="revamped_business_login_page"===o;return(0,p.jsxs)(s.Fragment,{children:[(0,p.jsx)(y,{component:V,experimentGroup:ei.current.experimentGroup,onChallengeCompleted:e=>{ei.current.arkoseSessionToken=e},startTimeMs:es.current}),(0,p.jsxs)("form",{"data-test-id":"registerForm",method:"POST",noValidate:!0,onSubmit:e=>(e.preventDefault(),ei.current.submitTriggeredTime=performance.now(),ea&&!ei.current.arkoseSessionToken)?void u({component:V}):ei.current.arkoseEnforcement&&!ei.current.arkoseSessionToken?void ei.current.arkoseEnforcement.run():void(eo&&et({event_type:16896,component:13096,element:31,aux_data:{score_source:"zxcvbn",score:(0,L.tc)(N),surface:"SET_PASSWORD_ARR"}}),M(e,ei.current)),children:[!x&&(0,p.jsx)(i.xu,{marginBottom:ec?4:1,marginStart:2,children:(0,p.jsx)(i.__,{htmlFor:"email",children:(0,p.jsx)(i.xv,{size:ec?"300":"200",children:H.bt("Адрес электронной почты", "Email", "registerForm.label.email", undefined, true)})})}),!x&&(0,p.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{marginBottom:ec?36:7}},children:(0,p.jsx)(v.Z,{autoComplete:"email",dataTestId:"emailInputField",disabled:!!G?.registerRestricted,domainError:Y?(0,S.nk)(H.bt("Возможно, вы имели в виду {{ newEmail }}?", "Did you mean {{ newEmail }}?", " - ", undefined, true),{newEmail:(0,p.jsx)(i.xv,{color:"error",inline:!0,size:"200",weight:"bold",children:Y},"err_text")}):void 0,focused:!W,hasError:!!m||!!c,id:"email",label:d,name:"id",onBlur:()=>{I?.(),G&&(l?G.checkEmailExistsWithCompletion({email:l,handleEmailExists:()=>{(0,T.My)("web.unauth.signup.email_entered"),q&&$(!1)},handleEmailNotExist:async()=>{q||$(!0),await G.checkEmailValidation(l)},handleError:()=>{$(!0)}}):$(!0));let e=e=>{Q(e),l===e?K(null):(K(e),(0,T.My)("unauth.email_domain_typo_suggestion.shown"))},t=l&&-1!==l.indexOf("@")?l.split("@"):[];if(l&&l!==X||K(null),l&&t&&l.length<60){if(2===t.length){let o=t[1],s=o&&-1!==o.indexOf(".")?o.split("."):[];s.length>=2&&"gmail"===s[0]&&("com"!==s.slice(1).join(".")?e(t[0]+"@gmail.com"):K(null))}let o=t[1]&&w.includes(t[1])?null:t[1]&&w.map(e=>{let o=(0,E.Z)(e,t[1]);return 2===o||1===o?e:null}).filter(e=>"string"==typeof e);o&&o.length&&e(o[0]?`${t[0]}@${o[0]}`:"")}},onChange:Z,placeholder:g,tooltip:en,type:"email",value:l})}),!el&&(0,p.jsx)(i.xu,{marginBottom:ec?4:1,marginStart:2,marginTop:4*!!ec,children:(0,p.jsx)(i.__,{htmlFor:"password",children:(0,p.jsx)(i.xv,{size:ec?"300":"200",children:H.bt("Пароль", "Password", "registerForm.label.password", undefined, true)})})}),!el&&(0,p.jsxs)(s.Fragment,{children:[(0,p.jsx)(v.Z,{autoComplete:"new-password",dataTestId:"passwordInputField",disabled:!!a||!!G?.registerRestricted,focused:!!x&&!W,hasError:!!U,id:"password",label:eo?H.bt("Пароль должен содержать не менее 8 букв, цифр и специальных символов", "Use 8 or more letters, numbers and symbols", "passwordStrengthMeter.description", undefined, true):void 0,name:"password",onChange:O,onFocus:()=>{(0,T.NC)("focus_password")},placeholder:D,tooltip:U,type:"password",value:N}),(0,p.jsx)(i.xu,{"data-test-id":"password-reset-button",children:F??null}),G&&(0,p.jsx)(C.default,{password:N})]}),window.recaptchaCount&&window.recaptchaCount>0?(0,p.jsx)("div",{className:"g-recaptcha",id:`recaptcha_placeholder_${window.recaptchaCount}`,style:{marginTop:"16px",transform:"scale(0.88)",transformOrigin:"0 0"}}):null,G&&!B&&(0,p.jsx)(b.Z,{...G.birthdayProps}),G?.registerRestricted&&(0,p.jsx)(i.xu,{marginTop:2,children:(0,p.jsx)(i.xv,{color:"error",size:"100",children:H.bt("На данный момент регистрация в Pinterest недоступна.", "Sorry, you’re not eligible to sign up for Pinterest right now.", "Signup.AgeStep.underageError", undefined, true)})}),!R&&(0,p.jsx)(i.xu,{"data-test-id":"registerFormSubmitButton",marginBottom:B?2:void 0,marginTop:ec?7:2,children:(0,p.jsx)(i.zx,{accessibilityLabel:t,color:"red",disabled:a||!!G?.registerRestricted,fullWidth:!0,onClick:()=>{er(14214===V?12019:30),q?((0,T.NC)("press_signup_continue"),(0,T.Rp)({event:"start",provider:"email"})):((0,T.EX)({event:"start",provider:"email"}),(0,T.NC)("press_login_continue"))},text:e,type:"submit"})})]})]})}},165635:(e,t,o)=>{"use strict";o.d(t,{Z:()=>c});var s=o(667294),i=o(883119),a=o(639543),n=o(233846),l=o(112800),r=o(785893);function c({birthday:e,birthdayValidationError:t,disabled:o,setBirthdayValidationError:c,onBirthdayChange:d}){let u=(0,n.ZP)(),_=u.bt("Чтобы позаботиться о безопасности сообщества Pinterest, нам нужно знать дату вашего рождения. Зная вашу дату рождения, мы можем предоставлять вам более персонализированные рекомендации и актуальные объявления. Мы не передаем эту информацию без вашего разрешения, и она не будет видна в вашем профиле.", "To help keep Pinterest safe, we now require your birthdate. Your birthdate also helps us provide more personalized recommendations and relevant ads. We won't share this information without your permission and it won't be visible on your profile.", "registerForm.label.birthdate.tooltipDescription", undefined, true);return(0,s.useEffect)(()=>{(0,l.My)("dweb.signup_age_step",{type:"email",format:"birthday"})},[]),(0,r.jsxs)(s.Fragment,{children:[(0,r.jsx)(i.xu,{marginBottom:1,marginStart:2,marginTop:2,children:(0,r.jsxs)(i.kC,{children:[(0,r.jsx)(i.xu,{marginEnd:2,children:(0,r.jsx)(i.__,{htmlFor:"birthdate",children:(0,r.jsx)(i.xv,{size:"200",children:u.bt("Дата рождения", "Birthdate", "registerForm.label.birthdate", undefined, true)})})}),(0,r.jsx)(i.u,{accessibilityLabel:"",idealDirection:"right",text:_,zIndex:a.C,children:(0,r.jsx)(i.xu,{tabIndex:0,children:(0,r.jsx)(i.JO,{accessibilityLabel:_,icon:"info-circle"})})})]})}),(0,r.jsx)(i.xu,{"data-test-id":"signup-birthdate-field",children:(0,r.jsx)(i.nv,{autoComplete:"bday",disabled:o,errorMessage:t,id:"birthdate",onChange:e=>{d(e),c("")},size:"lg",type:"date",value:e||""})})]})}},773385:(e,t,o)=>{"use strict";o.d(t,{Z:()=>l});var s=o(883119),i=o(852015),a=o(233846),n=o(785893);function l({type:e,onDismiss:t}){let o=(0,a.ZP)(),l="facebook"===e?o.bt("Ой! Facebook не работает", "Oops! Facebook isn't available", "socialAuthDisabled.facebook.title", undefined, true):o.bt("Ой! Google не работает", "Oops! Google isn't available", "socialAuthDisabled.google.title", undefined, true),r="facebook"===e?o.bt("Похоже, Facebook сейчас не работает. Попробуйте другой вариант или обновите страницу и повторите попытку позже.", "Looks like Facebook isn't available right now. Give another option a try or refresh the page and try again later.", "socialAuthDisabled.facebook.description", undefined, true):o.bt("Похоже, Google сейчас не работает. Попробуйте другой вариант или обновите страницу и повторите попытку позже.", "Looks like Google isn't available right now. Give another option a try or refresh the page and try again later.", "socialAuthDisabled.google.description", undefined, true);return(0,n.jsx)(i.ZP,{accessibilityModalLabel:l,footer:(0,n.jsx)(s.kC,{alignItems:"center",justifyContent:"center",children:(0,n.jsx)(s.xu,{"data-test-id":"SocialAuthDisabledModal",paddingX:1,children:(0,n.jsx)(s.zx,{color:"red",onClick:t,size:"md",text:o.bt("ОК", "OK", "socialAuthDisabled.okButton", undefined, true)})})}),heading:l,isOpen:!0,onDismiss:t,children:(0,n.jsx)(s.xu,{paddingX:5,children:(0,n.jsx)(s.xv,{align:"center",children:r})})})}},919642:(e,t,o)=>{"use strict";o.d(t,{Z:()=>c});var s=o(667294),i=o(883119),a=o(674573),n=o(970601),l=o(174646),r=o(785893);function c({label:e,autoComplete:t="on",disabled:o,domainError:c,focused:d,hasError:u,helperText:_,id:h,name:g,onBlur:p,onChange:m,onFocus:x,placeholder:f,tooltip:y,type:w,useExperimentalTextfield:b,value:v,dataTestId:P}){let k=(0,s.useRef)(d),A=(0,s.useRef)(null),S=(0,s.useRef)(u),E=(0,l.B)();return(0,s.useEffect)(()=>{k.current&&A.current?.focus()},[]),(0,s.useEffect)(()=>{!1===S.current&&u&&A.current?.focus(),S.current=u},[u]),(0,r.jsxs)(i.xu,{"data-test-id":"textFieldWrapper",position:"relative",children:[(0,r.jsx)(i.xu,{display:"visuallyHidden",children:(0,r.jsx)(i.__,{htmlFor:h,children:e??f??""})}),E.userAgent.browserName?.includes("Edge")&&(0,r.jsx)(n.Z,{unsafeCSS:a.Kz}),(0,r.jsx)(i.nv,{ref:A,autoComplete:b?void 0:t,dataTestId:P,disabled:o,errorMessage:y?b&&c||y:"",helperText:b?void 0:_,id:h,name:g,onBlur:p,onChange:({event:e})=>m(e),onFocus:x,placeholder:f,size:b?void 0:"lg",type:w,value:v||""})]})}},245497:(e,t,o)=>{"use strict";o.d(t,{Z:()=>n});var s=o(667294),i=o(883119),a=o(785893);function n({message:e,anchor:t}){let[o,n]=(0,s.useState)(!0);return o?(0,a.jsx)(i.pl,{anchor:t,idealDirection:"right",onDismiss:()=>n(!1),children:(0,a.jsx)(i.xu,{padding:3,children:(0,a.jsx)(i.xv,{color:"light",size:"200",weight:"bold",children:e})})}):null}},116586:(e,t,o)=>{"use strict";o.d(t,{Z:()=>l});var s=o(667294),i=o(996552),a=o(174646),n=o(538645);function l({disableFetch:e=!1}){let{locale:t}=(0,a.B)(),o=(0,n.HG)(),[l,r]=(0,s.useState)(!1),[c,d]=(0,s.useState)(!1),[u,_]=(0,s.useState)(!1),[h,g]=(0,s.useState)(!1),[p,m]=(0,s.useState)(!0);return(0,s.useEffect)(()=>{let s=async()=>{let e=await (0,i.fi)(t,o);e?(r(e.isGoogleConnected),d(e.hasPassword),_(e.isFBAuthOnly)):g(!0),m(!1)};e?m(!1):s()},[t,o,e]),h||e?{isRetrievingLoginData:p}:{isGoogleConnected:l,hasPassword:c,isFBAuthOnly:u,isRetrievingLoginData:p}}},778661:(e,t,o)=>{"use strict";o.d(t,{Z:()=>i});var s=o(243694);let i=e=>"UNAUTH"===e?Object.freeze({}):{login_state:"LIMITED_LOGIN"===e?s.Z.LIMITED:s.Z.DEFAULT}},517585:(e,t,o)=>{"use strict";o.d(t,{Mi:()=>s,a2:()=>i});let{Provider:s,getMaybe:i}=(0,o(218291).Z)("pageContext")},641092:(e,t,o)=>{"use strict";function s(e){e&&e.focus()}o.d(t,{Z:()=>s})},522968:(e,t,o)=>{"use strict";o.d(t,{PP:()=>s,Y5:()=>i,YO:()=>r,ex:()=>l,j7:()=>n,kT:()=>a,yM:()=>c});let s=o(830811).wvI,i="#f0f0f0",a="#efefef",n="#e2e2e2",l="rgba(0, 0, 0, 0.06)",r="#ad081b",c="#4a8ad4"},665921:(e,t,o)=>{"use strict";o.d(t,{Z:()=>i});let s=e=>e.split("").sort(()=>.5-Math.random()).join("");function i(e,t){let o=e.split("@")[0],i="";return(i=(i=o.includes(".")?o.replace("."," "):o.includes("_")?o.replace("_"," "):o).replace(/[0-9]/g,""),"GB"===t)?"User_"+s(i):i=i.replace(/\w\S*/g,e=>e.charAt(0).toUpperCase()+e.substr(1).toLowerCase())}},139714:(e,t,o)=>{"use strict";function s({embedSrc:e,embedType:t,imagesUrls:o,preferredResolution:s,excludeOriginals:i}){if(!e&&!t&&!o)return"";if("gif"===t)return e||"";if(!o)return"";if(s){let e="474x"===s&&o["474x"]||"236x"===s&&o["236x"]||o["736x"];if(e)return e}let a=Object.keys(o).reduce((e,t)=>{try{let s=t.split("x")[0];if(Number.isNaN(Number(s)))return{...e,[t]:o[t]};return{...e,[s]:o[t]}}catch(t){return e}},{}),n=Object.keys(a);return i&&"orig"===n[n.length-1]&&n.pop(),a[n.pop()]||""}o.d(t,{Z:()=>s})},591471:(e,t,o)=>{"use strict";o.d(t,{Z:()=>s});let s={STARTED:1,FINISHED:2}},415862:(e,t,o)=>{"use strict";o.d(t,{Z:()=>_});var s=o(883119),i=o(233846),a=o(51340),n=o(693806),l=o(785893);function r({apiErrorCode:e,errorMessage:t,onClickPasswordReset:o}){let r=(0,i.ZP)(),c=({text:e})=>(0,l.jsx)(s.xu,{display:"inlineBlock",children:(0,l.jsx)(s.iP,{onTap:o,children:(0,l.jsx)(s.xv,{color:"error",size:"200",underline:!0,children:e},"err_text")})}),d=(e=>{switch(e){case n.yV:case n.$j:return(0,a.nk)(r.bt("Мы заметили странные действия в вашем аккаунте. {{ resetPasswordLink }} или войдите с помощью Facebook либо Google, чтобы вернуться в аккаунт.", "We noticed some strange activity on your account. {{ resetPasswordLink }} or log in with Facebook or Google to get back into your account.", "Error message when user is soft banned", undefined, true),{resetPasswordLink:(0,l.jsx)(c,{text:r.bt("сбросьте пароль", "Reset your password", "Link text for password reset", undefined, true)})});case n.iK:return(0,a.nk)(r.bt("Ваш аккаунт уже привязан к Google. Чтобы войти с помощью электронной почты, {{ resetPasswordLink }}.", "Your account is already linked to Google. To log in with email, {{ resetPasswordLink }}", " - ", undefined, true),{resetPasswordLink:(0,l.jsx)(c,{text:r.bt("установите пароль.", "set a password.", "Link text to set password for user with account with only google auth", undefined, true)})});case n.nY:return(0,a.nk)(r.bt("Ваш аккаунт уже привязан к Facebook. Чтобы войти с помощью электронной почты, {{ resetPasswordLink }}.", "Your account is already linked to Facebook. To log in with email, {{ resetPasswordLink }}", " - ", undefined, true),{resetPasswordLink:(0,l.jsx)(c,{text:r.bt("установите пароль.", "set a password.", "Link text to set password for user with account with only facebook auth", undefined, true)})});case n.nf:return(0,a.nk)(r.bt("Ваш аккаунт подключен к Apple. Эта функция работает только в приложении Pinterest для iOS. Чтобы войти в Pinterest здесь, вам нужно {{ resetPasswordLink }}.", "Your account is connected to Apple. This option works only on the Pinterest iOS app. To log into Pinterest here, you’ll need to {{ resetPasswordLink }}", "unauth.web.emailLogin", undefined, true),{resetPasswordLink:(0,l.jsx)(c,{text:r.bt("установить пароль", "set a password.", "Link text to set password for user with account with only apple auth", undefined, true)})});case n.oP:return(0,a.nk)(r.bt("Вы ввели неправильный пароль. Повторите попытку или {{ resetPasswordLink }}.", "The password you entered is incorrect. Try again or {{ resetPasswordLink }}", " - ", undefined, true),{resetPasswordLink:(0,l.jsx)(c,{text:r.bt("сбросьте пароль", "Reset your password", "Link text for password reset", undefined, true)})});default:return[t]}})(e);return(0,l.jsx)(s.xu,{"data-test-id":"touchableErrorMessage",children:d.map((e,t)=>(0,l.jsx)(s.xv,{color:"error",inline:!0,size:"200",children:e},`err_message_${t}`))})}var c=o(456535),d=o(112800);let u=[...n.ZP,c.Ej,n.oP,n.nf].filter(e=>e!==n.RL&&e!==n.an);function _({error:e,onClickPasswordReset:t,source:o}){let s=e.api_error_code;(e.http_status||e.httpStatus)===c.Ej&&(s=c.Ej);let i=s&&u.includes(s)?(0,l.jsx)(r,{apiErrorCode:s,errorMessage:e.message??"",onClickPasswordReset:t}):e.message;if(i)switch(s){case n.oP:case n.RL:return{passwordValidationError:i};case n.nY:return{facebookValidationError:i};case n.iK:return{googleValidationError:i};case n.hU:return{emailValidationError:i};case n._K:return{passwordValidationError:i};default:return{emailValidationError:i}}return(0,d.My)(`unauth.login.error.SERVER_ERROR.unknown.${String(s)}.${o}`),null}},352322:(e,t,o)=>{"use strict";async function s(e,t){let o;for(let s of t){let t=s(e);if(t instanceof Promise){let s=(await t)(e);if(s.errors.length>0){o=s.errors[0];break}}else if(t.errors.length>0){o=t.errors[0];break}}return o}o.d(t,{U:()=>s,Z:()=>i});let i=(e,t)=>{let o;return t.some(t=>{let s=t(e);return s.errors.length>0&&(o=s.errors[0],!0)}),o}},746613:e=>{"use strict";e.exports="https://s.pinimg.com/webapp/birthday-08b9de02.png"}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/32254.ru_RU-4aac74164bc0e1b0.mjs.map