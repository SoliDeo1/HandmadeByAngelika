"use strict";(self.modernJsonp=self.modernJsonp||[]).push([[99015],{506213:(e,o,s)=>{s.d(o,{Z:()=>u});var t=s(667294),n=s(883119),r=s(420205),a=s(236890),i=s(463227),l=s(231333),c=s(233846),d=s(281508),_=s(112800),h=s(785893);let u=({birthday:e,onEditBirthday:o,onConfirmBirthday:s=()=>{}})=>{let u=(0,c.ZP)(),[m,p]=(0,t.useState)(!1);return(0,h.jsxs)(t.Fragment,{children:[(0,h.jsx)(n.xu,{"data-test-id":"underageconfirmation-modal",padding:8,children:(0,h.jsxs)(n.kC,{alignItems:"center",direction:"column",justifyContent:"center",children:[(0,h.jsx)(n.xu,{"data-test-id":"underageconfirmation-title",marginBottom:5,width:420,children:(0,h.jsx)(n.X6,{align:"center",size:"700",children:(0,a.ew)(e||"",u)})}),(0,h.jsx)(n.xu,{marginBottom:10,maxWidth:540,children:(0,h.jsx)(n.xv,{align:"center",children:(0,a.Pe)(u)})}),(0,h.jsx)(n.xu,{children:(0,h.jsxs)(n.kC,{children:[(0,h.jsx)(n.xu,{marginEnd:2,children:(0,h.jsx)(n.zx,{onClick:()=>{(0,_.My)("dweb.underageconfirmation.edit"),i.t8(r.It,"0",(0,i.kZ)(r.It)),o()},text:u.bt("Изменить", "Edit", "signup.underageconfirmation.edit", undefined, true)})}),(0,h.jsx)(n.zx,{color:"red",onClick:()=>{p(!0),(0,_.My)("dweb.underageconfirmation.confirm"),s(),setTimeout(()=>{d.ZP.handleRedirect("/")},4e3)},text:u.bt("Подтвердить", "Confirm", "signup.underageconfirmation.confirm", undefined, true),type:"submit"})]})})]})}),m&&(0,h.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{bottom:"50%",left:"50%",transform:"translateX(-50%)"}},fit:!0,paddingX:1,position:"fixed",children:(0,h.jsx)(l.Z,{duration:3500,onHide:()=>p(!m),text:u.bt("На данный момент регистрация в Pinterest недоступна.", "Sorry, you’re not eligible to sign up for Pinterest right now.", "signup.underageconfirmation.error", undefined, true)})})]})}},974946:(e,o,s)=>{s.d(o,{i:()=>i});var t=s(779947),n=s(183908),r=s(137130);let a=e=>`/signup/sso-business-account?email=${e}`,i=(e,o,s)=>{let i=window.location.origin,l=a(e);s&&(l=(0,n.Z)(l,s)),i===r.C0?o.push(l):(0,t.Z)(`${r.C0}${l}`)}},20992:(e,o,s)=>{s.d(o,{ZP:()=>h});var t=s(913472),n=s(420205),r=s(463227),a=s(397657),i=s(112800),l=s(857147);let c=t.z.object({authorization_uri:t.z.string().nullable(),existing_user:t.z.boolean().nullable(),existing_user_is_sso:t.z.boolean().nullable(),is_sso:t.z.boolean(),redirect_uri:t.z.string().nullable(),exchange_code_to_token_info_url:t.z.string().nullable(),state_param:t.z.string().nullable().optional(),nonce_param:t.z.string().nullable().optional()});t.z.object({resource_response:t.z.object({data:c})});let d=e=>{let{hostname:o}=(0,l.Qc)(e);return o&&(o.startsWith("www.pinterest")||o.endsWith(".pinterest.com")||o.endsWith(".pinterdev.com"))},_=({origin:e,data:o})=>d(e)?String(o):null;function h(){let e="undefined"!=typeof window;return{verifySsoUser:async e=>{try{let o=await fetch("/secure/sso_info",{headers:{"Content-Type":"application/json","x-csrftoken":`${String(r.U2(n.fS))}`},method:"POST",body:JSON.stringify({email:e})}),s=await o.json(),{authorization_uri:t,existing_user:a,existing_user_is_sso:i,is_sso:l,redirect_uri:d,exchange_code_to_token_info_url:_}=c.parse(s.data);return{authorizationUri:t,exchangeCodeToTokenUrl:_,existingUser:a,existingUserIsSso:i,isSso:l,redirectUri:d}}catch(e){return(0,i.My)("coreSso.verifyUser.error",{code:e.api_error_code,message:e.message,http_status:e.http_status}),{authorizationUri:null,exchangeCodeToTokenUrl:null,existingUser:null,existingUserIsSso:null,isSso:!1,redirectUri:null}}},authenticateWithSso:({callbacks:o,exchangeCodeToTokenUrl:s,isLogin:t,modalUrl:c})=>{let d;if(!e)return void o.error?.({api_error_code:0,message:"Window is undefined"});let h=async e=>{if(!e.isTrusted)return;let c=_(e),u=(0,l.mB)(c);if(u.code){if(t)return void o.success({authCode:u.code,state:u.state});try{(0,i.My)("coreSso.authenticateWithSso.companyParam",{company:u.company||"undefined",hasCompany:!!u.company,state:u.state||"undefined",hasState:!!u.state});let e=await fetch("/secure/sso_cookies",{headers:{"Content-Type":"application/json","x-csrftoken":`${String(r.U2(n.fS))}`},method:"GET"}),t="unknown",l="unknown";if(e.ok){let o=await e.json();t=o.data.sso_state||"unknown",l=o.data.sso_nonce||"unknown"}let{sso_id:c,sso_id_token:d,sso_email:_,sso_user_name:h}=(await (0,a.Z)({url:s,method:"POST",data:{code:u.code,company:u.company,state:u.state,state_in_cookie:t,nonce_in_cookie:l}})).resource_response.data;c&&d&&_&&h?o.success({ssoId:c,ssoIdToken:d,ssoEmail:_,ssoUserName:h}):((0,i.My)("coreSso.authenticateWithSso.noTokens",{sso_id:!!c,sso_id_token:!!d,sso_email:!!_,sso_user_name:!!h}),o.error?.({api_error_code:0,message:"No tokens returned"}))}catch(e){(0,i.My)("coreSso.authenticateWithSso.error",{code:e.api_error_code,message:e.message,http_status:e.http_status}),o.error?.(e)}finally{d&&!d.closed&&d.close(),window.removeEventListener("message",h)}}};window.addEventListener("message",h),d=window.open(c,"_blank","width=600,height=600")}}}},159434:(e,o,s)=>{s.d(o,{Z:()=>m});var t=s(667294),n=s(883119),r=s(19963),a=s(231333),i=s(233846),l=s(51340),c=s(362149),d=s(538645),_=s(785893);let h={terms:"terms",collectionUsePersonalInfo:"collectionUsePersonalInfo",thirdPartyProvisionPersonalInfo:"thirdPartyProvisionPersonalInfo",overseasTransferPersonalInfo:"overseasTransferPersonalInfo"},u={optionalMarketingConsent:"optionalMarketingConsent"};function m({isBusiness:e,isRegistering:o,onBackButtonClick:s,onSubmitHandler:m,removeSpacing:p,showConsistentSteps:f,validationError:x}){let g=(0,i.ZP)(),P=(0,d.HG)(),{logContextEvent:k}=(0,r.v)(),[y,b]=(0,t.useState)([]),[w,z]=(0,t.useState)(!1),T=[{name:g.bt("Обязательно", "Required", "consentStep.sections.required.title", undefined, true),description:g.bt("Я соглашаюсь с условиями этих документов и процедур:", "I consent to the following:", "consentStep.sections.required.description", undefined, true),checkboxes:[{key:h.terms,text:e?g.bt("Условия предоставления бизнес-услуг.", "Business Terms of Service.", "consentStep.sections.required.checkbox.termOfService.text.business", undefined, true):g.bt("Условия предоставления услуг.", "Terms of Service.", "consentStep.sections.required.checkbox.termOfService.text", undefined, true),learnMore:{text:g.bt("Подробнее", "Learn more", "consentStep.sections.required.checkbox.termOfService.learnMore", undefined, true),url:e?"https://business.pinterest.com/business-terms-of-service":"https://policy.pinterest.com/terms-of-service"}},{key:h.collectionUsePersonalInfo,text:g.bt("Сбор и использование личной информации.", "Collection and Use of Personal Information.", "consentStep.sections.required.checkbox.collectionUsePersonalInfo.text", undefined, true),learnMore:{text:g.bt("Подробнее", "Learn more", "consentStep.sections.required.checkbox.collectionUsePersonalInfo.learnMore", undefined, true),url:"https://policy.pinterest.com/consents#section-1-collection-and-use-of-personal-information"}},{key:h.thirdPartyProvisionPersonalInfo,text:g.bt("Предоставление персональных данных третьим сторонам.", "Third Party Provision of Personal Information.", "consentStep.sections.required.checkbox.thirdPartProvisionPersonalInfo.text", undefined, true),learnMore:{text:g.bt("Подробнее", "Learn more", "consentStep.sections.required.checkbox.thirdPartProvisionPersonalInfo.learnMore", undefined, true),url:"https://policy.pinterest.com/consents#section-2-third-party-provision-of-personal-information"}},{key:h.overseasTransferPersonalInfo,text:g.bt("Передача персональных данных в другие страны.", "Overseas Transfer of Personal Information.", "consentStep.sections.required.checkbox.overseasTransferOfPersonalInformation.text", undefined, true),learnMore:{text:g.bt("Подробнее", "Learn more", "consentStep.sections.required.checkbox.overseasTransferOfPersonalInformation.learnMore", undefined, true),url:"https://policy.pinterest.com/consents#section-3-overseas-transfer-of-personal-information"}}]},{name:g.bt("Необязательно", "Optional", "consentStep.sections.optional.title", undefined, true),checkboxes:[{key:u.optionalMarketingConsent,text:g.bt("Устанавливая флажок, я даю согласие на получение маркетинговой информации и использование моей личной информации для отправки рекламных сообщений. Вы можете в любой момент изменить это положение в настройках.", "By checking, I consent to the receipt of marketing information and use of personal information for sending marketing communications. You may change this at any time by visiting your settings.", "consentStep.sections.required.checkbox.optionalMarketingConsent.text", undefined, true),learnMore:{text:g.bt("Подробнее", "Learn more", "consentStep.sections.required.checkbox.optionalMarketingConsent.learnMore", undefined, true),url:"https://policy.pinterest.com/consents#section-4-receipt-of-marketing-information-and-use-of-personal-information-for-sending-marketing-information"}}]}],A=T.flatMap(e=>e.checkboxes.map(e=>e.key));(0,t.useEffect)(()=>{k({event_type:13,view_type:10,view_parameter:4038}),x&&z(!0)},[x]);let S=()=>Object.values(h).every(e=>y.includes(e)),v=e=>e.learnMore?(0,l.nk)(`${e.text} {{ learnMoreLink }}`,{learnMoreLink:(0,_.jsx)(n.xv,{inline:!0,weight:"bold",children:(0,_.jsx)(n.rU,{display:"inline",href:e.learnMore.url,target:"blank",underline:"always",children:e.learnMore.text})},`${e.key}-learnMore`)}):e.text,j=({checked:e,id:o})=>{let s=[];"agreeToAll"===o&&e?s=["agreeToAll",...A]:"agreeToAll"!==o&&(s=e?[...y,o]:y.filter(e=>e!==o),!e&&s.includes("agreeToAll")?s=s.filter(e=>"agreeToAll"!==e):s.length!==A.length||s.includes("agreeToAll")||(s=["agreeToAll",...s])),b(s)},C=(0,_.jsx)(n.zx,{color:"red",dataTestId:"consent-step-next-button",disabled:!S(),fullWidth:!0,onClick:()=>{S()&&(k({element:96,event_type:P?101:102,view_type:10,view_parameter:4038}),m({kr_privacy_consent_opt_in:!0,marketing_notifs_opt_out:!y.includes(u.optionalMarketingConsent)}))},size:"lg",text:g.bt("Далее", "Next", "consentStep.button.next", undefined, true),type:"button"}),{paddingY:I,paddingX:M}=p?{paddingY:0,paddingX:0}:{paddingY:P?10:8,paddingX:10*!!P};return(0,_.jsxs)(n.xu,{marginTop:5*!!f,paddingX:M,paddingY:f?0:I,children:[o&&(0,_.jsx)(c.Z,{rounding:8}),(0,_.jsxs)(n.xu,{marginBottom:9,paddingX:8*!f,children:[(0,_.jsx)(n.xu,{marginBottom:f?6:4,children:(0,_.jsxs)(n.kC,{direction:"column",gap:{column:f?1:4,row:0},children:[(0,_.jsx)(n.kC,{justifyContent:f?"start":"center",children:(0,_.jsx)(n.X6,{accessibilityLevel:2,size:f?"600":"400",children:g.bt("Согласие", "Consents", "consentStep.title", undefined, true)})}),(0,_.jsx)(n.xv,{color:"subtle",size:"300",children:g.bt("Прежде чем создать аккаунт, вам нужно принять обязательные условия ниже.", "Before you can create an account, you'll need to agree to the required terms below.", "consentStep.description", undefined, true)})]})}),(0,_.jsx)(n.xu,{children:(0,_.jsxs)(n.kC,{direction:"column",gap:{column:4,row:0},justifyContent:"start",children:[(0,_.jsx)(n.xu,{marginBottom:4,children:(0,_.jsx)(n.XZ,{checked:y.includes("agreeToAll"),id:"agreeToAll",label:g.bt("Принять все", "Agree to all", "consentStep.checkbox.agreeToAll.text", undefined, true),name:"agreeToAll",onChange:({checked:e})=>j({checked:e,id:"agreeToAll"})})}),(0,_.jsx)(n.kC,{direction:"column",gap:{column:6,row:0},children:T.map(e=>(0,_.jsx)(n.pg,{legend:e.name,legendDisplay:"hidden",children:(0,_.jsxs)(n.kC,{direction:"column",gap:{column:2,row:0},children:[(0,_.jsxs)(n.xu,{children:[(0,_.jsx)(n.xv,{align:"start",color:"subtle",size:"100",children:e.name}),e.description?(0,_.jsx)(n.xu,{marginBottom:2,marginTop:2,children:(0,_.jsx)(n.xv,{align:"start",size:"300",children:e.description})}):null]}),e.checkboxes.map((e,o)=>(0,_.jsx)(n.xu,{marginTop:2*(0!==o),children:(0,_.jsxs)(n.kC,{gap:{column:0,row:2},children:[(0,_.jsx)(n.XZ,{checked:y.includes(e.key),id:e.key,name:e.key,onChange:({checked:o})=>j({checked:o,id:e.key})}),(0,_.jsx)(n.__,{htmlFor:e.key,children:(0,_.jsx)(n.xv,{children:v(e)})})]})},e.key))]})},e.name))})]})})]}),P?(0,_.jsxs)(n.kC,{gap:{column:0,row:2},justifyContent:"end",children:[(0,_.jsx)(n.xu,{width:117,children:(0,_.jsx)(n.zx,{dataTestId:"consent-step-back-button",fullWidth:!0,onClick:()=>{s&&s()},size:"lg",text:g.bt("Назад", "Back", "consentStep.buttons.back", undefined, true),type:"button"})}),(0,_.jsx)(n.xu,{width:94,children:C})]}):C,w&&(0,_.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{bottom:"15%",left:"50%",transform:"translateX(-50%)"}},fit:!0,paddingX:1,position:"fixed",children:(0,_.jsx)(a.Z,{duration:3500,onHide:()=>z(!w),text:x})})]})}},269136:(e,o,s)=>{s.d(o,{l:()=>d,Z:()=>_});var t=s(667294),n=s(233846),r=s(51340),a=s(967312);let i=e=>async()=>{let{NewPassword:o}=await Promise.all([s.e(86465),s.e(27385)]).then(s.bind(s,127385));return o(e)};var l=s(251719),c=s(331935);let d=8,_=()=>{let e=(0,n.ZP)(),{checkExperiment:o}=(0,a.F)(),s=(0,r.Wc)(e.bt("Слишком короткий пароль. Он должен содержать не менее {{minPasswordLength}} символов.", "Your password is too short! You need {{minPasswordLength}}+ characters.", "passwordValidation.minLength", undefined, true),{minPasswordLength:"6"}),_=(0,r.Wc)(e.bt("Слишком короткий пароль. Он должен содержать не менее {{minPasswordLength}} символов.", "Your password is too short! You need {{minPasswordLength}}+ characters.", "passwordValidation.minLength", undefined, true),{minPasswordLength:d.toString()}),h=e.bt("Пароль не должен совпадать с именем пользователя.", "Please make your username and password different.", "passwordValidation.passwordEqualsToUsername", undefined, true),u=e.bt("Выберите более сложный пароль.", "Please make a stronger password.", "passwordValidation.strongerPassword", undefined, true),m=e.bt("Используйте только сочетания букв, цифр и специальных символов (например: ?, !, $).", "Use only a mix of letters, numbers and special characters (for example: ?, !, $).", "passwordValidation.onlyASCII", undefined, true);return(0,t.useCallback)(({existingPassword:e,useOldPasswordValidation:t,username:n})=>{if(e)return[(0,c.oR)({message:m}),(0,c.aH)({message:s}),(0,c.Gy)({min:6,minErrorString:s})];let r=i;t&&(r=l.Z);let a=o("mweb_strong_password").anyEnabled||o("web_strong_password").anyEnabled;return[(0,c.oR)({message:m}),(0,c.aH)({message:_}),r({shortPassStr:_,samePasswordStr:h,blackPassStr:u,minPasswordLength:d,strongPasswordErrorMsg:u,isStrongPasswordExpEnabled:a,username:n})]},[m,o,s,_,h,u])}},251719:(e,o,s)=>{s.d(o,{Z:()=>t});let t=e=>async()=>{let{Password:o}=await Promise.all([s.e(86465),s.e(27385)]).then(s.bind(s,127385));return o(e)}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/99015.ru_RU-adcc17c2f6369745.mjs.map